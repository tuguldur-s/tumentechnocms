(function(t){function e(e){for(var i,r,n=e[0],l=e[1],c=e[2],u=0,p=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,n=1;n<a.length;n++){var l=a[n];0!==s[l]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},s={app:0},o=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"001b":function(t,e,a){"use strict";a("39ac")},"0042":function(t,e,a){"use strict";a("f558")},"00f3":function(t,e,a){},"02d0":function(t,e,a){"use strict";a("07bf")},"072d":function(t,e,a){},"07bf":function(t,e,a){},"0d77":function(t,e,a){"use strict";a("6286")},"0fd8":function(t,e,a){"use strict";a("65eb")},"146e":function(t,e,a){t.exports=a.p+"img/Pstamp.f85b92c4.png"},"16d3":function(t,e,a){},"17b8":function(t,e,a){},1817:function(t,e,a){"use strict";a("7c06")},1921:function(t,e,a){"use strict";a("5425")},"19b1":function(t,e,a){},"1c01":function(t,e,a){},"1d4e":function(t,e,a){},"209c":function(t,e,a){"use strict";a("658f")},2117:function(t,e,a){t.exports=a.p+"img/icbc.722822af.png"},"22c6":function(t,e,a){},"25ff":function(t,e,a){"use strict";a("83db")},"2cce":function(t,e,a){"use strict";a("bf3a")},3055:function(t,e,a){},"31ac":function(t,e,a){t.exports=a.p+"img/tumentech.722822af.png"},"32a0":function(t,e,a){},3414:function(t,e,a){"use strict";a("b371")},3478:function(t,e,a){},"354a":function(t,e,a){"use strict";a("f769")},3862:function(t,e,a){"use strict";a("81fb")},"39ac":function(t,e,a){},"3a8f":function(t,e,a){"use strict";a("7061")},"3c50":function(t,e,a){},"3eba0":function(t,e,a){"use strict";a("bd22")},4300:function(t,e,a){"use strict";a("7cb0")},4432:function(t,e,a){},4678:function(t,e,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=o(t);return a(e)}function o(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=o,t.exports=s,s.id="4678"},"4b10":function(t,e,a){"use strict";a("3478")},"4cec":function(t,e,a){"use strict";a("1d4e")},"4d31":function(t,e,a){"use strict";a("072d")},"4d37":function(t,e,a){},"4f1f":function(t,e,a){"use strict";a("e462")},"4f4d":function(t,e,a){},"50a5":function(t,e,a){},5416:function(t,e,a){},5425:function(t,e,a){},5439:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("af87"),a("2ef0");var i,s=a("2b0e"),o=a("5c96"),r=a.n(o),n=a("b2d6"),l=a.n(n),c=a("ae1a"),d=a.n(c),u=a("c28b"),p=a.n(u),m=a("b9e5"),h=a.n(m),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.tagname,{tag:"section",staticClass:"ps-container",on:{"~mouseover":function(e){return t.update(e)},"ps-scroll-y":t.scrollHanle,"ps-scroll-x":t.scrollHanle,"ps-scroll-up":t.scrollHanle,"ps-scroll-down":t.scrollHanle,"ps-scroll-left":t.scrollHanle,"ps-scroll-right":t.scrollHanle,"ps-y-reach-start":t.scrollHanle,"ps-y-reach-end":t.scrollHanle,"ps-x-reach-start":t.scrollHanle,"ps-x-reach-end":t.scrollHanle}},[t._t("default")],2)},v=[],f=a("b7f5"),b={name:"vue-ps",props:{settings:{type:Object,default:()=>({wheelSpeed:1.5,wheelPropagation:!0})},swicher:{type:Boolean,default:!0},tagname:{type:String,default:"section"}},data(){return{ps:null,_ps_inited:!1}},methods:{scrollHanle(t){this.$emit(t.type,t)},update(){this.ps&&this.ps.update()},__init(){this.$nextTick(()=>{this.swicher&&(this._ps_inited?this.update(this.$el):(this._ps_inited=!0,this.ps=new f["a"](this.$el,this.settings)))})},__uninit(){this.ps&&this.ps.destroy(this.$el),this.ps=null,this._ps_inited=!1}},watch:{swicher(t){t&&!this._ps_inited&&this.__init(),!t&&this._ps_inited&&this.__uninit()},$route(){this.update()}},mounted(){this.__init()},updated(){this.$nextTick(this.update)},activated(){this.__init()},deactivated(){this.__uninit()},beforeDestroy(){this.__uninit()}},y=b,x=(a("65ba"),a("2877")),w=Object(x["a"])(y,g,v,!1,null,null,null),C=w.exports,k=C,S=a("a925"),$=a("6944"),I=a.n($),z=(a("0808"),a("7f45")),T=a.n(z),U=a("03cd"),B=a.n(U),E=a("caf9"),D=a("998c"),O=a.n(D),P=(a("581d"),a("89c1")),j=a.n(P),N=a("252c"),R=(a("6eb0"),a("f617")),A=(a("f210"),a("00d7")),M=a.n(A),q=a("755e"),F=a("ae66"),H=a.n(F),W=a("dc55"),G=a.n(W),Z=(a("fc3c"),a("b2d8")),J=a.n(Z),V=(a("64e1"),a("953d")),Y=a.n(V),X=(a("a753"),a("8096"),a("14e1"),a("b960")),Q=a.n(X),K=a("b558"),tt=a("75fb"),et=a("da19"),at=a("23ac"),it=a.n(at),st=(a("5632"),a("a5b7")),ot=a.n(st),rt=(a("4bd6"),a("30ef")),nt=a.n(rt),lt=a("b204"),ct=a("c88e"),dt=a.n(ct),ut=a("d842"),pt=a("95ae"),mt=a("3f9d"),ht=a("2699"),gt=a("4e2b"),vt=a("a40a"),ft=(a("6cc54"),a("d2ca"),a("68c8"),a("8f94")),bt=a.n(ft),_t=(a("a7be"),a("63d6")),yt=a.n(_t),xt=(a("b751"),a("ec5d"),a("77ed"),a("41e6"),{data:{parent:window,parentIsWin:!0,boundary:null,delay:0,offset:0,enable:!0,default:{position:"",top:"",left:"",width:"",height:""}},handleScroll:function(){var t=this.def.data.parentIsWin?window.pageYOffset:this.def.data.parent.scrollTop,e=this.def.data.parentIsWin?0:this.def.data.parent.getBoundingClientRect().top,a=this.def.data.default.top,i=this.def.data.default.height,s=this.def.data.offset;if(this.def.setEnable(this.value),this.def.setDefault(this.el,!0),t+e+s>=a&&this.def.data.enable){if(this.el.classList.add("affix"),this.el.style.position="fixed",this.el.style.top=e+s+"px",this.el.style.left=this.def.data.default.left+"px",this.el.style.width=this.def.data.default.width+"px",this.el.style.height=this.def.data.default.height+"px",this.def.data.boundary){var o=this.def.data.boundary.getBoundingClientRect();o.height+o.y-e-s<=i?(this.el.style.position="absolute",this.el.style.top=o.height-i+"px",this.el.style.left="0px",this.el.classList.add("inbound")):this.el.classList.remove("inbound")}}else this.el.classList.remove("affix"),this.el.style.position="",this.el.style.top=null,this.el.style.left=null,this.el.style.width=null,this.el.style.height=null},setDefault:function(t,e){e?(this.data.default.left=t.style.left||t.getBoundingClientRect().left,this.data.default.width=t.style.width||t.getBoundingClientRect().width):this.data.default={position:t.style.position,top:t.style.top||t.getBoundingClientRect().top,left:t.style.left||t.getBoundingClientRect().left,width:t.style.width||t.getBoundingClientRect().width,height:t.style.height||t.getBoundingClientRect().height}},setEnable:function(t){this.data.enable=t.enable()},inserted:function(t,e,a){e.value.delay&&(e.def.data.delay=e.value.delay),e.value.offset&&(e.def.data.offset=e.value.offset),e.value.boundaryid&&(e.def.data.boundary=window.document.getElementById(e.value.boundaryid)),e.value.parentid&&(e.def.data.parent=window.document.getElementById(e.value.parentid),e.def.data.parentIsWin=!1),setTimeout((function(){e.def.setEnable(e.value),e.def.setDefault(t),e.def.data.parent.addEventListener("scroll",e.def.handleScroll.bind({el:t,def:e.def,value:e.value})),e.def.data.parent.addEventListener("resize",e.def.handleScroll.bind({el:t,def:e.def,value:e.value}))}),e.def.data.delay)},unbind:function(t,e,a){e.def.data.parent.removeEventListener("scroll",e.def.handleScroll.bind({el:t,def:e.def,value:e.value})),e.def.data.parent.removeEventListener("resize",e.def.handleScroll.bind({el:t,def:e.def,value:e.value}))}}),wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-container flex justify-center",class:{column:"top"===t.navPos||"bottom"===t.navPos,boxed:t.boxed,"footer-above":"above"===t.footer,"content-only":!t.navPos}},[a("transition",{attrs:{name:"fade"}},[t.splashScreen?a("div",{staticClass:"splash-screen"},[a("div",{staticClass:"wrap"},[a("img",{staticClass:"logo",attrs:{src:"/itlab2.png",alt:"logo"}}),a("img",{attrs:{src:"/Ripple-2s-200px.gif",alt:"loading-image"}})])]):t._e()]),"left"===t.navPos?a("vertical-nav",{attrs:{position:t.navPos,"collapse-nav":t.collapseNav,"open-sidebar":t.openSidebar},on:{"update:openSidebar":function(e){t.openSidebar=e},"update:open-sidebar":function(e){t.openSidebar=e},"collapse-nav-toggle":function(e){t.collapseNav=!t.collapseNav},"push-page":t.closeSidebar}}):t._e(),a("div",{staticClass:"container flex column box grow"},["top"===t.toolbar?a("div",{staticClass:"header"},[a("Toolbar",{attrs:{"menu-burger":t.navPos},on:{"toggle-sidebar":function(e){t.openSidebar=!t.openSidebar}}})],1):t._e(),"top"===t.navPos?a("horizontal-nav",{attrs:{position:t.navPos},on:{"push-page":t.closeSidebar}}):t._e(),"bottom"===t.toolbar?a("div",{staticClass:"header"},[a("Toolbar",{attrs:{"menu-burger":t.navPos},on:{"toggle-sidebar":function(e){t.openSidebar=!t.openSidebar}}})],1):t._e(),a("div",{staticClass:"main box grow flex"},[t.roundedCorners?a("span",{staticClass:"main-out-border--top-left"}):t._e(),t.roundedCorners?a("span",{staticClass:"main-out-border--top-right"}):t._e(),t.roundedCorners?a("span",{staticClass:"main-out-border--bottom-left"}):t._e(),t.roundedCorners?a("span",{staticClass:"main-out-border--bottom-right"}):t._e(),a("transition",{attrs:{name:t.viewAnimation,mode:"out-in"}},[a("router-view",{staticClass:"view box grow"})],1)],1),"bottom"===t.navPos?a("horizontal-nav",{staticStyle:{"margin-bottom":"0"},attrs:{position:t.navPos},on:{"push-page":t.closeSidebar}}):t._e(),"below"===t.footer?a("Footer",{attrs:{position:t.footer}}):t._e()],1),"right"===t.navPos?a("vertical-nav",{attrs:{position:t.navPos,"collapse-nav":t.collapseNav,"open-sidebar":t.openSidebar},on:{"update:openSidebar":function(e){t.openSidebar=e},"update:open-sidebar":function(e){t.openSidebar=e},"collapse-nav-toggle":function(e){t.collapseNav=!t.collapseNav},"push-page":t.closeSidebar}}):t._e(),"above"===t.footer?a("Footer",{attrs:{position:t.footer}}):t._e()],1)},Ct=[],kt=(a("b0c0"),a("7b46")),St=function(){var t,e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"horizontal-nav flex",class:(t={},t["pos-"+e.position]=!0,t)},[i("logo",{attrs:{mode:"horizontal"}}),i("div",{staticClass:"box grow flex nav-container"},[i("vue-scroll",{staticClass:"box grow"},[i("Nav",{attrs:{mode:"horizontal"},on:{"push-page":e.pushPage}})],1)],1)],1)},$t=[],It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-menu",{staticClass:"main-navigation-menu",class:{"nav-collapsed":t.isCollapse},attrs:{"default-active":t.activeLink,mode:t.mode,collapse:t.isCollapse,"unique-opened":!0,"background-color":"transparent"},on:{"update:defaultActive":function(e){t.activeLink=e},"update:default-active":function(e){t.activeLink=e},select:t.goto}},[a("div",{staticClass:"el-menu-item-group__title",staticStyle:{"padding-top":"4px"}},[a("span",[t._v("Үйлдлүүд")])]),t.user.posID<6?a("el-menu-item",{attrs:{index:"/ecommerce-dashboard"}},[a("i",{staticClass:"mdi mdi-gauge"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Хяналтын самбар")])]):t._e(),6==t.user.posID?a("el-menu-item",{attrs:{index:"/customer-dashboard"}},[a("i",{staticClass:"mdi mdi-gauge"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Хяналтын самбар")])]):t._e(),t.user.posID<6?a("el-menu-item",{attrs:{index:"/reports"}},[a("i",{staticClass:"mdi mdi-book"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Кассын тайлан")])]):t._e(),6==t.user.posID?a("el-submenu",{attrs:{index:"/customer-report","popper-class":"main-navigation-submenu"}},[a("template",{slot:"title"},[a("i",{staticClass:"mdi mdi-content-copy"}),a("span",[t._v("Тайлангууд")])]),a("el-menu-item",{attrs:{index:"/customer-revenues"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Орлого")])]),a("el-menu-item",{attrs:{index:"/customer-reports"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Кассын тайлан")])]),a("el-menu-item",{attrs:{index:"/customer-expends"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Хуулга")])])],2):t._e(),a("el-menu-item",{attrs:{index:"/products"}},[a("i",{staticClass:"mdi mdi-cart-outline"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Бүтээгдэхүүн")])]),6!==t.user.posID?a("el-submenu",{attrs:{index:"/order","popper-class":"main-navigation-submenu"}},[a("template",{slot:"title"},[a("i",{staticClass:"mdi mdi-content-copy"}),a("span",[t._v("Захиалгууд")])]),a("el-menu-item",{attrs:{index:"/orders"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Агуулахын захиалга")])]),a("el-menu-item",{staticStyle:{background:"blue"},attrs:{index:"/movements"}},[a("span",{staticStyle:{width:"100%"},attrs:{slot:"title"},slot:"title"},[t._v(" Дотоод хөдөлгөөн "),a("el-badge",{staticClass:"item",staticStyle:{position:"absolute",right:"20px"},attrs:{value:t.badges.movement}})],1)]),a("el-menu-item",{attrs:{index:"/imports"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Гадаад захиалга")])])],2):a("el-menu-item",{attrs:{index:"/orders"}},[a("i",{staticClass:"mdi mdi-content-copy"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Захиалгууд")])]),6!==t.user.posID&&5!==t.user.posID?a("el-submenu",{attrs:{index:"/offer","popper-class":"main-navigation-submenu"}},[a("template",{slot:"title"},[a("i",{staticClass:"mdi mdi-clipboard-list-outline"}),a("span",[t._v("Үнийн санал")])]),a("el-menu-item",{attrs:{index:"javascript:;"},on:{click:t.checkOffer}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Үүсгэх")])]),a("el-menu-item",{attrs:{index:"/offers"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Жагсаалт")])]),a("el-menu-item",{attrs:{index:"/sent-offers"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Илгээгдсэн")])])],2):t._e(),6!==t.user.posID&&5!==t.user.posID?a("el-submenu",{attrs:{index:"/invoice","popper-class":"main-navigation-submenu"}},[a("template",{slot:"title"},[a("i",{staticClass:"mdi mdi-clipboard-text-multiple"}),a("span",[t._v("Нэхэмжлэх")])]),a("el-menu-item",{attrs:{index:"javascript:;"},on:{click:t.checkInvoice}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Үүсгэх")])]),a("el-menu-item",{attrs:{index:"/invoices"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Жагсаалт")])]),a("el-menu-item",{attrs:{index:"/sent-invoices"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Илгээгдсэн")])])],2):t._e(),6!==t.user.posID&&5!==t.user.posID?a("el-submenu",{attrs:{index:"/expends","popper-class":"main-navigation-submenu"}},[a("template",{slot:"title"},[a("i",{staticClass:"mdi mdi-book-outline"}),a("span",[t._v("Зарлагын баримт")])]),a("el-menu-item",{attrs:{index:"javascript:;"},on:{click:t.checkExpend}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Үүсгэх")])]),a("el-menu-item",{attrs:{index:"/expends"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Жагсаалт")])]),a("el-menu-item",{attrs:{index:"/sent-expends"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Илгээгдсэн")])])],2):t._e(),a("el-menu-item",{attrs:{index:"/rma"}},[a("i",{staticClass:"mdi mdi-alert-decagram"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("RMA")])]),1==t.user.posID||2==t.user.posID?a("el-menu-item",{attrs:{index:"/time-register"}},[a("i",{staticClass:"mdi mdi-clock-fast"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Цаг бүртгэл")])]):t._e(),1==t.user.posID||2==t.user.posID||3==t.user.posID||4==t.user.posID?a("el-menu-item",{attrs:{index:"/contacts"}},[a("i",{staticClass:"mdi mdi-cart-outline"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Ажилчид")])]):t._e(),1==t.user.posID||2==t.user.posID||4==t.user.posID?a("el-menu-item",{attrs:{index:"/calendar"}},[a("i",{staticClass:"mdi mdi-calendar"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Ажлын төлөвлөгөө")])]):t._e(),1==t.user.posID||2==t.user.posID||4==t.user.posID?a("el-menu-item",{attrs:{index:"/review"}},[a("i",{staticClass:"el-icon-star-off"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Үнэлгээ")])]):t._e(),1==t.user.posID||2==t.user.posID||4==t.user.posID?a("el-menu-item",{attrs:{index:"/shops"}},[a("i",{staticClass:"mdi mdi-city-variant-outline"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Салбарын жагсаалт")])]):t._e(),1==t.user.posID||2==t.user.posID||4==t.user.posID?a("el-menu-item",{attrs:{index:"/companies"}},[a("i",{staticClass:"mdi mdi-account-tie"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Харилцагч байгууллага")])]):t._e(),1==t.user.posID||2==t.user.posID||4==t.user.posID?a("el-menu-item",{attrs:{index:"/brand-category"}},[a("i",{staticClass:"mdi mdi-copyright"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Брэнд & Категори")])]):t._e(),t.user.posID<6?a("el-menu-item",{attrs:{index:"/policy"}},[a("i",{staticClass:"el-icon-s-release"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Дотоод журам стандарт")])]):t._e()],1)},zt=[],Tt=Object(kt["a"])(),Lt={name:"Nav",props:["mode","isCollapse"],data:function(){return{isIe:!0,isEdge:!0,activeLink:null,user:{posID:0},badges:{order:0,movement:0}}},methods:{checkInvoice:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/invoice/check-invoice",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){"success"==e.data.result&&t.$router.push({name:"edit-invoice",params:{id:e.data.invoiceNumber}})})).catch((function(t){console.log(t)}))},checkOfficial:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/offer/check-official",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){console.log(e),"success"==e.data.result&&t.$router.push({name:"edit-official",params:{id:e.data.officialIndex}})})).catch((function(t){console.log(t)}))},checkExpend:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/expend/check-expend",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){"success"==e.data.result&&t.$router.push({name:"edit-expend",params:{id:e.data.expendNumber}})})).catch((function(t){console.log(t)}))},checkOffer:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/offer/check-offer",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){"success"==e.data.result&&t.$router.push({name:"edit-offer",params:{id:e.data.offerNumber}})})).catch((function(t){console.log(t)}))},goto:function(t,e){"/"===t.charAt(0)&&(this.$router.push(t),this.$emit("push-page",{page:t}))},setLink:function(t){this.activeLink=t},getUser:function(){this.user=JSON.parse(localStorage.user)},getBadges:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/user/get-badges",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){"success"==e.data.result&&(e.data.movement>9?t.badges.movement="9+":t.badges.movement=e.data.movement)})).catch((function(t){console.log(t)}))}},created:function(){var t=this;"ie"!==Tt.name&&(this.isIe=!1),"edge"!==Tt.name&&(this.isEdge=!1),this.setLink(this.$router.currentRoute.path),this.$router.afterEach((function(e,a){t.setLink(t.$router.currentRoute.path)}))},mounted:function(){this.getUser(),this.getBadges(),setInterval(this.getBadges,12e4)}},Ut=Lt,Bt=(a("600d"),a("d6f3"),Object(x["a"])(Ut,It,zt,!1,null,"708a1423",null)),Et=Bt.exports,Dt=function(){var t,e=this,i=e.$createElement,s=e._self._c||i;return s("div",{staticClass:"box-logo flex align-center",class:(t={"nav-collapsed":e.collapseNav},t[e.mode]=!0,t)},[s("img",{staticClass:"image-logo",attrs:{src:a("eddc"),alt:"logo"}}),s("div",{staticClass:"app-name",style:{"font-size":"12px"},on:{click:function(t){return e.goto("/products")}}},[e._m(0)]),s("button",{staticClass:"collapse-nav",on:{click:e.collapseNavToggle}},[s("i",{staticClass:"mdi mdi-menu"})])])},Ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("strong",[t._v("ДОТООД ЗАХИАЛГЫН"),a("br"),t._v("СИСТЕМ")])])}],Pt={name:"Logo",props:["collapseNav","mode"],data:function(){return{}},methods:{collapseNavToggle:function(){this.$emit("collapse-nav-toggle")},goto:function(t,e){this.$router.push(t)}}},jt=Pt,Nt=(a("4d31"),Object(x["a"])(jt,Dt,Ot,!1,null,null,null)),Rt=Nt.exports,At={name:"HorizontalNav",props:["position"],data:function(){return{}},methods:{pushPage:function(t,e){this.$emit("push-page",{page:t})}},components:{Nav:Et,Logo:Rt}},Mt=At,qt=(a("dfbc"),Object(x["a"])(Mt,St,$t,!1,null,"77e477ce",null)),Ft=qt.exports,Ht=function(){var t,e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"vertical-nav",class:{"nav-collapsed":e.collapseNav,open:e.openSidebar}},[i("div",{staticClass:"sidebar-mask",class:{open:e.openSidebar},on:{click:e.closeNav}}),i("div",{staticClass:"sidebar flex column",class:(t={open:e.openSidebar},t["pos-"+e.position]=!0,t)},[i("logo",{attrs:{"collapse-nav":e.collapseNav},on:{"collapse-nav-toggle":e.collapseNavToggle}}),i("div",{staticClass:"box-nav box grow"},[i("div",{directives:[{name:"bar",rawName:"v-bar",value:{useScrollbarPseudo:!0},expression:"{ useScrollbarPseudo: true }"}],staticClass:"scroll-nav"},[i("div",[i("Nav",{attrs:{"is-collapse":e.collapseNav},on:{"push-page":e.pushPage}})],1)])])],1)])},Wt=[],Gt={name:"VerticalNav",props:["collapseNav","openSidebar","position"],data:function(){return{}},methods:{collapseNavToggle:function(){this.$emit("collapse-nav-toggle")},pushPage:function(t,e){this.$emit("push-page",{page:t})},closeNav:function(){this.$emit("update:openSidebar",!1)}},components:{Nav:Et,Logo:Rt}},Zt=Gt,Jt=(a("6fa1"),Object(x["a"])(Zt,Ht,Wt,!1,null,null,null)),Vt=Jt.exports,Yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"toolbar flex align-center justify-space-between"},[i("div",{staticClass:"box-left box grow flex"},["right"!==t.menuBurger?i("button",{staticClass:"toggle-sidebar card-base card-shadow--small",on:{click:t.toggleSidebar}},[i("i",{staticClass:"mdi mdi-menu"})]):t._e(),i("img",{staticClass:"logo-mini",attrs:{src:a("7c51"),alt:"logo"}}),i("search",{staticClass:"hidden-xs-only"})],1),i("div",{staticClass:"box-right flex align-center pl-10"},[1==t.user.posID||2==t.user.posID||4==t.user.posID?i("el-badge",{staticClass:"notification-icon-badge",attrs:{"is-dot":!1}},[i("el-popover",{attrs:{placement:"bottom",width:t.popoverWidth2,trigger:"click"}},[i("div",[i("el-row",{staticClass:"cart-box",attrs:{gutter:20}},[i("el-col",{staticClass:"downloadItems",staticStyle:{"padding-top":"15px","padding-bottom":"15px","border-radius":"5px"},attrs:{xs:8,sm:8,md:8,lg:8,xl:8,align:"center"}},[i("a",{staticStyle:{"text-decoration":"none",color:"#6e6d6d","font-weight":"700"},attrs:{href:"javascript:;"},on:{click:t.downloadProductImage}},[i("img",{style:{width:"30px",height:"auto"},attrs:{src:a("bc29")}}),i("br"),t._v(" Зураг ")])]),i("el-col",{staticClass:"downloadItems",staticStyle:{"padding-top":"15px","padding-bottom":"15px","border-radius":"5px"},attrs:{xs:8,sm:8,md:8,lg:8,xl:8,align:"center"}},[i("a",{staticStyle:{"text-decoration":"none",color:"#6e6d6d","font-weight":"700"},attrs:{href:"javascript:;"},on:{click:t.downloadShops}},[i("img",{style:{width:"30px",height:"auto"},attrs:{src:a("58f6")}}),i("br"),t._v(" Салбар ")])]),i("el-col",{staticClass:"downloadItems",staticStyle:{"padding-top":"15px","padding-bottom":"15px","border-radius":"5px"},attrs:{xs:8,sm:8,md:8,lg:8,xl:8,align:"center"}},[i("a",{staticStyle:{"text-decoration":"none",color:"#6e6d6d","font-weight":"700"},attrs:{href:"javascript:;"},on:{click:t.downloadProductQty}},[i("img",{style:{width:"30px",height:"auto"},attrs:{src:a("e6a1")}}),i("br"),t._v(" Үлдэгдэл ")])])],1)],1),i("el-button",{staticClass:"notification-icon",attrs:{slot:"reference",icon:"el-icon-menu"},slot:"reference"})],1)],1):t._e(),i("el-badge",{staticClass:"notification-icon-badge",attrs:{"is-dot":!1}},[i("router-link",{attrs:{to:"/cart"}},[i("el-button",{staticClass:"notification-icon",attrs:{icon:"mdi mdi-basket"}})],1)],1),i("button",{staticClass:"fullscreen-button",on:{click:t.toggleFullscreen}},[t.fullscreen?t._e():i("i",{staticClass:"mdi mdi-fullscreen"}),t.fullscreen?i("i",{staticClass:"mdi mdi-fullscreen-exit"}):t._e()]),i("el-popover",{ref:"popover",attrs:{placement:"bottom",width:t.popoverWidth,trigger:"click"}},[1==t.user.posID||2==t.user.posID?i("div",{staticClass:"notification-box"},[t._l(t.orders,(function(e,a){return i("div",{key:a,staticClass:"notify"},[i("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"javascript:;"},on:{click:function(a){return t.$router.push({name:"ecommerce-show-order",params:{id:e.order_number}})}}},[i("div",{staticClass:"flex"},[i("img",{style:{width:"35px",height:"35px","margin-right":"10px","border-radius":"50%"},attrs:{src:t.$appUrl+"/images/local/user/"+e.img}}),i("div",[i("div",{staticClass:"flex"},[i("div",{staticClass:"n-title box grow"},[i("strong",[t._v(t._s(e.name))])])]),i("div",{staticClass:"n-desc"},[i("span",{staticStyle:{width:"79%"}},[t._v("Танд "),i("strong",[t._v(t._s(e.order_number))]),t._v(" дугаартай захиалга ирсэн байна. ")])])])])])])})),i("div",{staticClass:"see-all",attrs:{align:"center"}},[i("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/orders"}},[t._v("Бүгдийг харах")])],1)],2):4==t.user.posID?i("div",{staticClass:"notification-box"},[t._l(t.orders,(function(e,a){return i("div",{key:a,staticClass:"notify"},[i("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"javascript:;"},on:{click:function(a){return t.$router.push({name:"ecommerce-show-order",params:{id:e.order_number}})}}},[i("div",{staticClass:"flex"},[i("img",{style:{width:"35px",height:"35px","margin-right":"10px","border-radius":"50%"},attrs:{src:t.$appUrl+"/images/local/user/"+e.img}}),i("div",[i("div",{staticClass:"flex"},[i("div",{staticClass:"n-title box grow"},[i("strong",[t._v(t._s(e.name))])])]),i("div",{staticClass:"n-desc"},[i("span",{staticStyle:{width:"79%"}},[t._v("Таны "),i("strong",[t._v(t._s(e.order_number))]),t._v(" дугаартай "),2==e.stat?i("span",[t._v("захиалга зөвшөөрөгдсөн")]):3==e.stat?i("span",[t._v("захиалгаас татгалзсан")]):t._e(),t._v(" байна. ")])])])])])])})),t._l(t.otherOrder,(function(e,a){return i("div",{key:a+"v2",staticClass:"notify"},[i("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"javascript:;"},on:{click:function(a){return t.$router.push({name:"ecommerce-show-order",params:{id:e.order_number}})}}},[i("div",{staticClass:"flex"},[i("img",{style:{width:"35px",height:"35px","margin-right":"10px","border-radius":"50%"},attrs:{src:t.$appUrl+"/images/local/user/"+e.img}}),i("div",[i("div",{staticClass:"flex"},[i("div",{staticClass:"n-title box grow"},[i("strong",[t._v(t._s(e.name))])])]),i("div",{staticClass:"n-desc"},[i("span",{staticStyle:{width:"79%"}},[t._v("Танд "),i("strong",[t._v(t._s(e.order_number))]),t._v(" дугаартай захиалга ирсэн байна. ")])])])])])])})),i("div",{staticClass:"see-all",attrs:{align:"center"}},[i("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/orders"}},[t._v("Бүгдийг харах")])],1)],2):i("div",{staticClass:"notification-box"},[t._l(t.orders,(function(e,a){return i("div",{key:a,staticClass:"notify"},[i("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"javascript:;"},on:{click:function(a){return t.$router.push({name:"ecommerce-show-order",params:{id:e.order_number}})}}},[i("div",{staticClass:"flex"},[i("img",{style:{width:"35px",height:"35px","margin-right":"10px","border-radius":"50%"},attrs:{src:t.$appUrl+"/images/local/user/"+e.img}}),i("div",[i("div",{staticClass:"flex"},[i("div",{staticClass:"n-title box grow"},[i("strong",[t._v(t._s(e.name))])])]),i("div",{staticClass:"n-desc"},[i("span",{staticStyle:{width:"79%"}},[t._v("Таны "),i("strong",[t._v(t._s(e.order_number))]),t._v(" дугаартай "),2==e.stat?i("span",[t._v("захиалга зөвшөөрөгдсөн")]):3==e.stat?i("span",[t._v("захиалгаас татгалзсан")]):t._e(),t._v(" байна. ")])])])])])])})),i("div",{staticClass:"see-all",attrs:{align:"center"}},[i("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/orders"}},[t._v("Бүгдийг харах")])],1)],2)]),i("el-badge",{staticClass:"notification-icon-badge",attrs:{"is-dot":t.orders.length>0}},[i("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"notification-icon",attrs:{icon:"mdi mdi-bell"}})],1),i("span",{staticClass:"username"},[i("router-link",{attrs:{to:"/profile"}},[t._v(t._s(t.user.name))])],1),i("el-dropdown",{attrs:{trigger:"click"},on:{command:t.onCommand}},[i("span",{staticClass:"el-dropdown-link"},[i("img",{staticClass:"avatar",attrs:{src:t.$appUrl+"/images/local/user/"+t.user.img,alt:"avatar"}})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"/profile"}},[i("i",{staticClass:"mdi mdi-account mr-10"}),t._v(" Хувийн мэдээлэл")]),i("el-dropdown-item",{attrs:{command:"logout",divided:""}},[i("i",{staticClass:"mdi mdi-logout mr-10"}),t._v(" Гарах")])],1)],1),"right"===t.menuBurger?i("button",{staticClass:"toggle-sidebar toggle-sidebar__right card-base card-shadow--small",on:{click:t.toggleSidebar}},[i("i",{staticClass:"mdi mdi-menu"})]):t._e()],1)])},Xt=[],Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-box"},[a("el-autocomplete",{staticClass:"search-input",attrs:{"popper-class":"search-box-popper card-base card-shadow--small","fetch-suggestions":t.querySearch,placeholder:"Бүтээгдэхүүний нэр, модель","trigger-on-focus":!0,clearable:"","prefix-icon":"el-icon-search",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProduct(e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"value"},[t._v(t._s(e.item.value))]),a("span",{staticClass:"tags"},[t._v(t._s(e.item.tags))])]}}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("template",{slot:"suffix"},[t.search?a("i",{staticClass:"el-input__icon el-icon-circle-close-outline",on:{click:function(e){t.search=""}}}):t._e()])],2)],1)},Kt=[],te=a("53ca"),ee=(a("4de4"),a("841c"),a("ac1f"),a("159b"),a("b64b"),a("99af"),a("a15b"),{name:"Search",data:function(){return{search:"",list:[]}},methods:{querySearch:function(t,e){var a=this.list,i=t?a.filter(this.createFilter(t)):a;e(i)},createFilter:function(t){return function(e){return-1!==e.meta.toLowerCase().indexOf(t.toLowerCase())}},searchProduct:function(){this.$router.push("/products?search="+this.search)},handleSelect:function(t){this.goto(t.name)},flattenObject:function(t){var e=this,a={};return Object.keys(t).forEach((function(i){if("object"!==Object(te["a"])(t[i]))a[i]=t[i];else{var s=e.flattenObject(t[i]);Object.keys(s).forEach((function(t){a[t]=s[t]}))}})),a},flatten:function(t,e,a){var i=[];for(var s in t){var o=Object.assign({},t[s]);o[e]&&o[e].length&&delete o[e],i.push(o),t[s][e]&&t[s][e].length&&(i=i.concat(t[s][e]))}var r=!1;for(var n in i)i[n][e]&&i[n][e].length&&(r=!0);return r?this.flatten(i,e,a):a(i),!0},parseList:function(t){var e=[];for(var a in t)if(t[a].name&&t[a].meta&&t[a].meta.searchable){var i=t[a].name,s=t[a].meta.title||i||"",o="";t[a].meta.tags&&t[a].meta.tags.length&&(o=t[a].meta.tags.join(", "));var r=i+s+o;s&&e.push({value:s,tags:o,name:i,meta:r})}return e},goto:function(t){this.$router.push({name:t})}},mounted:function(){var t=this;this.flatten(this.$router.options.routes,"children",(function(e){t.list=t.parseList(e)}))}}),ae=ee,ie=(a("b1e5"),a("f892"),Object(x["a"])(ae,Qt,Kt,!1,null,"1a5a8283",null)),se=ie.exports,oe={name:"Toolbar",props:["menuBurger"],data:function(){return{popoverWidth:300,popoverWidth2:250,fullscreen:!1,lang:"us",user:{img:"default.jpg",name:"undefined"},loading:!1,orders:[],otherOrder:[],notifications:[{id:1,title:"New order",icon:"mdi mdi-cart-outline",desc:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam in diam sit amet felis ultricies ultricies vitae et tortor. Proin dapibus justo felis, ut imperdiet lacus accumsan quis.",date:"Just now!"},{id:2,title:"New Schedule Realease",icon:"mdi mdi-calendar",desc:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam in diam sit amet felis ultricies ultricies vitae et tortor. Proin dapibus justo felis, ut imperdiet lacus accumsan quis.",date:"2 Min Ago"},{id:3,title:"New message from David",icon:"mdi mdi-email-outline",desc:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam in diam sit amet felis ultricies ultricies vitae et tortor. Proin dapibus justo felis, ut imperdiet lacus accumsan quis.",date:"30 Min Ago"}]}},methods:{getNotify:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/user/get-notify",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){4==t.user.posID&&(t.otherOrder=e.data.ordersOther),t.orders=e.data.orders})).catch((function(t){console.log(t)}))},downloadProductImage:function(){var t=this,e=localStorage.getItem("token");e&&(this.loading=!0,this.$axios({method:"post",url:t.$appUrl+"/api/dashboard/download-image",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Зураг шинэчлэгдлээ",type:"success"})})).catch((function(e){console.log(e),t.loading=!1})))},downloadProductQty:function(){var t=this,e=localStorage.getItem("token");e&&(this.loading=!0,this.$axios({method:"post",url:t.$appUrl+"/api/product/update-product-quanity",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Үлдэгдэл татагдлаа",type:"success"})})).catch((function(e){console.log(e),t.loading=!1})))},downloadShops:function(){var t=this,e=localStorage.getItem("token");e&&(this.loading=!0,this.$axios({method:"post",url:t.$appUrl+"/api/product/update-shops",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Салбар татагдлаа",type:"success"})})).catch((function(e){console.log(e),t.loading=!1})))},onCommandLang:function(t){"/"===t.charAt(0)?this.onCommand(t):this.lang=t},onCommand:function(t){"logout"==t?this.logout():this.$router.push(t)},toggleSidebar:function(){this.$emit("toggle-sidebar")},resizePopoverWidth:function(){window.innerWidth<=768?this.popoverWidth=250:this.popoverWidth=300},toggleFullscreen:function(){var t=this;this.$fullscreen.toggle(document.querySelector("body"),{wrap:!1,callback:function(){t.fullscreen=t.$fullscreen.getState()}})},getUser:function(){this.user=JSON.parse(localStorage.user)},logout:function(){localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push("/login")}},components:{Search:se},mounted:function(){this.fullscreen=this.$fullscreen.getState(),this.resizePopoverWidth(),window.addEventListener("resize",this.resizePopoverWidth),this.getUser(),this.getNotify(),setInterval(this.getNotify,12e4)},beforeDestroy:function(){window.removeEventListener("resize",this.resizePopoverWidth)}},re=oe,ne=(a("0d77"),Object(x["a"])(re,Yt,Xt,!1,null,"647e040b",null)),le=ne.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer flex align-center justify-space-between",class:{above:"above"===t.position}},[t._m(0),a("div",[t._v(" © Бүх эрх хуулиар хамгаалагдсан ")])])},de=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",{staticClass:"font-weight-bold text-gray-90",attrs:{href:"javascript:;"}},[t._v("Tumentechno.mn")])])}],ue={name:"Footer",props:["position"]},pe=ue,me=(a("4cec"),Object(x["a"])(pe,ce,de,!1,null,"12666ff4",null)),he=me.exports,ge=Object(kt["a"])(),ve={name:"App",data:function(){return{collapseNav:!1,openSidebar:!1,innerWidth:0}},computed:{navPos:function(){return this.innerWidth<=768&&("top"===this.$store.getters.navPos||"bottom"===this.$store.getters.navPos)?"left":this.$store.getters.navPos},toolbar:function(){return this.$store.getters.toolbar},footer:function(){return this.$store.getters.footer},boxed:function(){return this.$store.getters.boxed},roundedCorners:function(){return this.$store.getters.roundedCorners},viewAnimation:function(){return this.$store.getters.viewAnimation||"none"},isLogged:function(){return this.$store.getters.isLogged},splashScreen:function(){return this.$store.getters.splashScreen}},methods:{resizeOpenNav:function(){this.innerWidth=window.innerWidth,window.innerWidth<=768&&(this.collapseNav=!1)},closeSidebar:function(){this.openSidebar=!1}},components:{HorizontalNav:Ft,VerticalNav:Vt,Toolbar:le,Footer:he},created:function(){ge.name&&document.getElementsByTagName("html")[0].classList.add(ge.name)},mounted:function(){this.resizeOpenNav(),window.addEventListener("resize",this.resizeOpenNav)},beforeDestroy:function(){window.removeEventListener("resize",this.resizeOpenNav)}},fe=ve,be=(a("5c0b"),Object(x["a"])(fe,wt,Ct,!1,null,null,null)),_e=be.exports,ye=(a("caad"),a("2532"),a("8c4f")),xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-ecommerce-dashboard scrollable"},[a("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!1,filename:"Бонус дэлгэрэнгүй","pdf-quality":3,"manual-pagination":!0,"paginate-elements-by-height":1,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"794px"}},[a("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[a("section",{staticClass:"pdf-content"},[a("div",{staticClass:"p-20"},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",[t._v("Огноо")]),a("th",{attrs:{align:"right"}},[t._v("Борлуулалт")]),a("th",{attrs:{align:"right"}},[t._v("Төлөвлөгөө")]),a("th",{attrs:{align:"right"}},[t._v("Бодогдох дүн")]),a("th",{attrs:{align:"right"}},[t._v("Ээлж")]),a("th",{attrs:{align:"right"}},[t._v("Бонус")])])]),a("tbody",[t._l(t.sales.bonusList,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"}},[a("td",[a("div",{staticClass:"item-box item-customer"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.date))])])]),a("td",{attrs:{align:"right"}},[a("div",{staticClass:"item-box item-customer"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.sale))])])]),a("td",{attrs:{align:"right"}},[a("div",{staticClass:"item-box item-customer"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.plan))])])]),a("td",{attrs:{align:"right"}},[a("div",{staticClass:"item-box item-customer"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.sale-e.plan/e.cnt))])])]),a("td",{attrs:{align:"right"}},[a("div",{staticClass:"item-box item-customer"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.cnt))])])]),a("td",{attrs:{align:"right"}},[a("div",{staticClass:"item-box item-customer"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(parseInt(.07*(e.sale-e.plan/e.cnt))))])])])])})),a("tr",[a("td",[a("b",[t._v("НИЙТ")])]),a("td",{attrs:{align:"right"}},[a("b",[t._v(t._s(t.totalSale))])]),a("td",{attrs:{align:"right"}},[a("b",[t._v(t._s(t.totalPlan))])]),a("td",{attrs:{align:"right"}},[a("b",[t._v(t._s(t.totalDiff))])]),a("td"),a("td",{attrs:{align:"right"}},[a("b",[t._v(t._s(t.totalBonus))])])])],2)])])])])]),a("resize-observer",{on:{notify:t.__resizeHanlder}}),a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"card-base card-alt"},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"widget p-20"},[a("div",{staticClass:"text-uppercase text-right flex"},[a("div",{staticClass:"box grow"},[a("h3",{staticClass:"m-0"},[t._v(t._s(t.badges.workedDay)+" хоног")]),a("p",{staticClass:"m-0"},[t._v("Ажилласан хоног")])]),a("div",{staticClass:"icon-box ph-15 accent-text"},[a("i",{staticClass:"mdi mdi-cart-outline"})])]),t.badges.defaultWorkDay>0?a("div",{staticClass:"progress-box mt-10"},[a("el-progress",{staticClass:"themed",attrs:{percentage:parseInt(100*t.badges.workedDay/t.badges.defaultWorkDay)}})],1):t._e()])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"widget p-20"},[a("div",{staticClass:"text-uppercase text-right flex"},[a("div",{staticClass:"box grow"},[0!=t.badges.workedTime?a("h3",{staticClass:"m-0"},[t._v(t._s(String(t.badges.workedTime).split(".")[0]))]):a("h3",{staticClass:"m-0"},[t._v("0")]),a("p",{staticClass:"m-0"},[t._v("Ажилласан цаг")])]),a("div",{staticClass:"icon-box ph-15 accent-text"},[a("i",{staticClass:"mdi mdi-currency-usd"})])]),t.badges.defaultWorkDay>0?a("div",{staticClass:"progress-box mt-10"},[a("el-progress",{staticClass:"themed",attrs:{percentage:parseInt(100*t.badges.workedDay/t.badges.defaultWorkDay)}})],1):t._e()])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"widget p-20"},[a("div",{staticClass:"text-uppercase text-right flex"},[a("div",{staticClass:"box grow"},[0!=t.badges.lostTime&&null!=t.badges.lostTime&&""!=t.badges.lostTime?a("h3",{staticClass:"m-0"},[t._v(t._s(String(t.badges.lostTime).split(".")[0]))]):a("h3",{staticClass:"m-0"},[t._v("0")]),a("p",{staticClass:"m-0"},[t._v("Хоцорсон цаг")])]),a("div",{staticClass:"icon-box ph-15 accent-text"},[a("i",{staticClass:"mdi mdi-cart-outline"})])])])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"widget p-20"},[a("div",{staticClass:"text-uppercase text-right flex"},[a("div",{staticClass:"box grow"},[a("h3",{staticClass:"m-0"},[t._v(t._s(Number(t.badges.mealMoney).toLocaleString())+" ₮")]),a("p",{staticClass:"m-0"},[t._v("Хоолны мөнгө")])]),a("div",{staticClass:"icon-box ph-15 accent-text"},[a("i",{staticClass:"mdi mdi-currency-usd"})])]),a("div",{staticClass:"progress-box mt-10"},[a("el-progress",{staticClass:"themed",attrs:{percentage:37}})],1)])])],1)],1),a("div",{staticClass:"card-base card-shadow--medium bg-white black-text ph-5 p-0 pb-20 mt-20"},[a("el-row",[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:16,xl:16}},[a("div",[a("div",{style:{height:"500px",width:"100%"},attrs:{id:"chart"}})])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:8,xl:8}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:42,lg:24,xl:24}},[a("div",[a("div",{attrs:{align:"center"}},[a("div",{staticStyle:{position:"relative"}},[a("p",{staticStyle:{"font-size":"20px","margin-top":"20%"}},[t._v("Таны "),a("strong",[t._v("БОНУС")])]),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Дэлгэрэнгүй",placement:"top"}},[a("el-button",{staticStyle:{position:"absolute",top:"0",left:"50%","margin-left":"70px"},attrs:{icon:"el-icon-download",size:"mini",circle:""},on:{click:function(e){return t.$refs.html2Pdf.generatePdf()}}})],1)],1),a("el-button",{staticStyle:{width:"40%","font-size":"20px",padding:"20px","margin-top":"-12px"},attrs:{type:"warning",size:"mini",round:""}},[a("strong",[t._v("₮"+t._s(Number(t.badges.bonus.toFixed(0)).toLocaleString()))])])],1),a("div",{attrs:{align:"center"}},[0==t.badges.planToday.length?a("p",{staticStyle:{"font-size":"20px","margin-top":"20%"}},[t._v("Танд өнөөдрийн ажлын хуваарь"),a("br"),t._v("тавигдаагүй байна.!")]):a("el-row",{staticClass:"registerBtns",staticStyle:{"margin-top":"50px"}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24,align:"center"}},[t.timeRegister.started?t._e():a("el-dropdown",{staticStyle:{"font-size":"20px"},attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link"},[t._v(" "+t._s(t.shops.selected.name)+" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right",staticStyle:{cursor:"pointer"}})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.shops.list,(function(e,i){return a("el-dropdown-item",{key:i,nativeOn:{click:function(a){return t.changeDropdown(e)}}},[t._v(t._s(e.name))])})),1)],1)],1),a("el-col",{staticStyle:{"font-size":"20px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24,align:"center"}},[t._v(" Хоцорсон цаг: "),a("strong",[t._v(t._s(t.timeRegister.lost))])]),a("el-col",{staticStyle:{"margin-top":"20px","margin-bottom":"30px"},attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[t.timeRegister.started?a("el-button",{staticStyle:{width:"40%","font-size":"20px",padding:"20px"},attrs:{type:"danger",size:"mini",round:"",loading:t.loadingBtn.endtime},on:{click:t.endTime}},[a("strong",[t._v(t._s(t.timeRegister.working))])]):a("el-button",{staticStyle:{width:"40%","font-size":"20px",padding:"20px"},attrs:{size:"mini",type:"success",round:"",loading:t.loadingBtn.starttime},on:{click:t.startTime}},[a("strong",[t._v("00:00:00")])])],1)],1)],1)])])],1)],1)],1)],1),a("div",{staticClass:"table-box card-base card-shadow--medium scrollable only-x mt-20"},[a("table",{staticClass:"styled striped"},[a("tbody",t._l(t.buildUsers(),(function(e,i){return a("tr",{key:i,staticStyle:{"vertical-align":"middle"}},[a("td",{attrs:{width:"5%"}},[0==i?a("i",{staticClass:"el-icon-trophy",staticStyle:{color:"#ffd700"}}):1==i?a("i",{staticClass:"el-icon-trophy",staticStyle:{color:"#c4cace"}}):2==i?a("i",{staticClass:"el-icon-trophy",staticStyle:{color:"#a97142"}}):a("span",[t._v(t._s(i+1))])]),a("td",{attrs:{width:"10%"}},[a("div",{staticClass:"block mt-5"},[a("el-avatar",{attrs:{size:30,src:t.$appUrl+"/images/local/user/"+e.image}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1)]),a("td",[t._v(t._s(e.name))]),a("td",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Тасаг",placement:"top"}},[a("span",{staticClass:"o-050"},[t._v(t._s(e.shop))])])],1),a("td",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Ажилтан",placement:"top"}},[a("span",{staticClass:"o-050"},[t._v(t._s(e.rate))])])],1),a("td",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Борлуулалт",placement:"top"}},[a("span",{staticClass:"o-050"},[t._v(t._s(e.sale))])])],1),a("td",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Хоцролт",placement:"top"}},[a("span",{staticClass:"o-050"},[t._v(t._s(e.lost))])])],1),a("td",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Санал гомдол",placement:"top"}},[a("span",{staticClass:"o-050"},[t._v(t._s(e.feedback))])])],1),a("td",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Тасаг орхилт",placement:"top"}},[a("span",{staticClass:"o-050"},[t._v(t._s(e.response))])])],1),a("td",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Дундаж",placement:"top"}},[a("span",{staticClass:"o-100"},[a("b",[t._v(t._s(e.avg))])])])],1)])})),0)])]),a("vue-scroll",{staticClass:"mt-20"},[a("el-row",{attrs:{gutter:30}},[a("el-col",{staticClass:"table-box card-base card-outline",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",[t._v("Ажилтан")]),a("th",[t._v("Үүсгэсэн огноо")]),a("th",[t._v("Захиалгын дугаар")]),a("th",[t._v("Төлөв")])])]),a("tbody",t._l(t.lastOrders,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"},on:{click:function(a){return t.goOrder(e.order_number)}}},[a("td",[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/user/"+e.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.name))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.shop))])])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.created_at.replaceAll("T"," ").replaceAll(".000Z"," ")))])])]),a("td",[a("div",{staticClass:"item-box item-location"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.order_number))])])]),a("td",{staticStyle:{"max-width":"150px"}},[a("div",{staticClass:"item-box item-status",class:{"status-Pending":1==e.stat,"status-Complete":2==e.stat,"status-Returned":3==e.stat}},[1==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Хүлээгдэж байгаа")]):2==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Зөвшөөрөгдсөн")]):3==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Татгалзсан")]):t._e(),2==e.stat||3==e.stat?a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.updated_at.replaceAll("T"," ").replaceAll(".000Z"," ")))]):a("p",{staticClass:"m-0 o-060"},[t._v("-")])])])])})),0)])])],1)],1)],1)},we=[],Ce=(a("b680"),a("5319"),a("d3b7"),a("25f0"),a("313e")),ke=a.n(Ce),Se=a("9e67"),$e=a.n(Se),Ie=a("6480"),ze=new $e.a,Te=null,Le=null,Ue={name:"EcommerceDashboard",components:{VueHtml2pdf:Ie["a"]},data:function(){return{chart:null,pie:null,gridData:[],loadingBtn:{starttime:!1,endtime:!1},loading:!1,sales:{last:[],this:[],default:[],bonusList:[]},badges:{workedDay:0,workedTime:0,lostTime:0,mealMoney:0,defaultWorkDay:0,orderStatus:[],orderProduct:[],bonus:0,planToday:[]},shops:{selected:{name:"",code:"",start:"",second_part:""},list:[]},timeRegister:{started:!1,data:[],lost:"00:00:00",starttime:"00:00:00",working:"00:00:00"},lastOrders:[],rowWidth:24,showDownloadProduct:!1,registerAvailable:!0,rank:{lose:[],sale:[],shopReviews:[],userReviews:[]}}},created:function(){},mounted:function(){window.addEventListener("resize",this.__resizeHanlder);var t=JSON.parse(localStorage.user);1!=t.posID&&2!=t.posID||(this.rowWidth=18,this.showDownloadProduct=!0),this.getDashboard(),this.getShops()},beforeDestroy:function(){this.chart&&this.pie&&(window.removeEventListener("resize",this.__resizeHanlder),this.chart.dispose(),this.pie.dispose(),this.chart=null,this.pie=null)},beforeRouteLeave:function(t,e,a){clearInterval(Te),clearInterval(Le),a()},computed:{totalSale:function(){var t=0;return this.sales.bonusList.forEach((function(e){t+=e.sale})),t},totalPlan:function(){var t=0;return this.sales.bonusList.forEach((function(e){t+=e.plan})),t},totalDiff:function(){var t=0;return this.sales.bonusList.forEach((function(e){t+=e.sale-e.plan/e.cnt})),t},totalBonus:function(){var t=0;return this.sales.bonusList.forEach((function(e){t+=.07*(e.sale-e.plan/e.cnt)})),parseInt(t)}},methods:{getShopReview:function(t){var e=0,a=0;return this.rank.shopReviews.forEach((function(i){i.storeId==t&&(e+=i.total_shop,a++)})),a>0?parseInt(e/a):0},buildUsers:function(){var t=this,e=[];function a(t,e){return t.avg>e.avg?-1:t.avg<e.avg?1:0}return this.rank.lose.forEach((function(a){var i=0,s=0,o=0;if(0==a.losttime)i=100;else if(a.losttime>=60)i=0;else{var r=100*a.losttime/60;i=parseInt(100-r)}t.rank.userReviews.forEach((function(t){t.userId==a.user_id&&(s=t.percent)})),t.rank.sale.forEach((function(t){t.user_id==a.user_id&&(o=t.percent>100?100:t.percent)}));var n=40*o/100,l=5*i/100,c=18*s/100,d=6*a.feedback/100,u=10*a.response/100,p=15*t.getShopReview(a.call_store)/100;e.push({name:a.name,image:a.img,userId:a.user_id,avg:(n+l+c+d+u+p+6).toFixed(1),lost:i,rate:s,sale:o,feedback:a.feedback,response:a.response,shop:t.getShopReview(a.call_store)})})),e=e.sort(a),e},getShops:function(){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/shops",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.rank.lose=e.data.lose,t.rank.sale=e.data.EmpSale,t.rank.shopReviews=e.data.shopReview,t.rank.userReviews=e.data.reviewUsers)})).catch((function(e){console.log(e),t.loading=!1}))},goOrder:function(t){this.$router.push({name:"ecommerce-show-order",params:{id:t}})},endTime:function(){var t=localStorage["cache-system-id"];if(void 0===t)this.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Бүртгэлтэй төхөрөөмжөөс хандана уу",type:"error"});else{var e=new Date,a=e.getMinutes(),i=e.getHours(),s=e.getSeconds();i<10&&(i="0"+i),a<10&&(a="0"+a),s<10&&(s="0"+s);var o=i+":"+a+":"+s,r=this,n=localStorage.getItem("token");this.loadingBtn.endtime=!0,n&&this.$axios({method:"post",url:r.$appUrl+"/api/user/end-time-register",headers:{Authorization:"Bearer ".concat(n)},data:{endtime:o}}).then((function(t){r.loadingBtn.endtime=!1,"success"==t.data.result&&(r.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Цаг хаагдлаа",type:"success"}),clearInterval(Le),r.timeRegister.started=!1,r.timeRegister.workingTimeUpdate="00:00:00",r.timeRegister.lost="00:00:00")}))}},startTime:function(){var t=this,e=localStorage["cache-system-id"];if(void 0===e)this.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Бүртгэлтэй төхөрөөмжөөс хандана уу",type:"error"});else if(e==this.shops.selected.code){if(this.registerAvailable){var a=new Date,i=a.getMinutes(),s=a.getHours(),o=a.getSeconds();s<10&&(s="0"+s),i<10&&(i="0"+i),o<10&&(o="0"+o),this.timeRegister.starttime=s+":"+i+":"+o;var r=this,n=localStorage.getItem("token");this.loadingBtn.starttime=!0,n&&this.$axios({method:"post",url:r.$appUrl+"/api/user/start-time-register",headers:{Authorization:"Bearer ".concat(n)},data:{start:this.timeRegister.starttime,address:this.shops.selected.code,lost:this.timeRegister.lost,address_name:this.shops.selected.name}}).then((function(e){r.loadingBtn.starttime=!1,"success"==e.data.result?(console.log(e),r.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Цаг бүртгэгдлээ",type:"success"}),clearInterval(Te),t.timeRegister.started=!0,Le=setInterval(t.workingTimeUpdate,1e3)):"registered"==e.data.result?r.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Аль хэдийн бүртгэгдсэн",type:"error"}):"noreport"==e.data.result&&r.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"<strong>".concat(e.data.lostDay,"</strong> өдрийн тайлан илгээгдээгүй байна"),type:"error"})}))}}else this.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Буруу байршил",type:"error"})},changeDropdown:function(t){this.shops.selected=t},checkRegister:function(){var t=this;if(0==this.timeRegister.data.length)this.timeUpdate(),Te=setInterval(this.timeUpdate,1e3);else{this.timeRegister.data.forEach((function(e){"0"==e.endtime&&(t.timeRegister.started=!0,t.timeRegister.lost=e.lost,t.timeRegister.starttime=e.starttime,Le=setInterval(t.workingTimeUpdate,1e3),!1)}))}},workingTimeUpdate:function(){var t=new Date,e=t.getMinutes(),a=t.getHours(),i=t.getSeconds(),s=new Date("01/01/2007 "+a+":"+e+":"+i),o=new Date("01/01/2007 "+this.timeRegister.starttime),r=Math.abs(Math.round((s.getTime()-o.getTime())/1e3));a=Math.floor(r/3600),e=Math.floor((r-3600*a)/60),i=r%60;i<10&&(i="0"+i),a<10&&(a="0"+a),e<10&&(e="0"+e),this.timeRegister.working=a+":"+e+":"+i},timeUpdate:function(){var t,e=new Date,a=e.getMinutes()>9?e.getMinutes():"0"+e.getMinutes(),i=e.getHours()>9?e.getHours():"0"+e.getHours(),s=e.getSeconds()>9?e.getSeconds():"0"+e.getSeconds(),o=i+":"+a+":"+s;if("none"==this.shops.selected.second_part)t=this.shops.selected.start;else{var r=new Date("01/01/2007 "+o),n=new Date("01/01/2007 "+this.shops.selected.second_part);if(n<r)t=this.shops.selected.second_part;else{var l=Math.abs(Math.round((n.getTime()-r.getTime())/1e3)),c=Math.floor(l/3600);t=c>1?this.shops.selected.start:this.shops.selected.second_part}}if(t>=o)this.timeRegister.lost="00:00:00";else{var d=new Date("01/01/2007 "+o),u=new Date("01/01/2007 "+t),p=Math.abs(Math.round((d.getTime()-u.getTime())/1e3));i=Math.floor(p/3600),a=Math.floor((p-3600*i)/60),s=p%60;s<10&&(s="0"+s),i<10&&(i="0"+i),a<10&&(a="0"+a),this.timeRegister.lost=i+":"+a+":"+s}},getDashboard:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/dashboard/ecommerce",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.sales.bonusList=e.data.bonusList,t.sales.last=e.data.subMonthAmount,t.sales.this=e.data.thisMonthAmount,t.sales.default=e.data.defaultAmount,t.badges.defaultWorkDay=e.data.defaultWorkDay,t.badges.workedDay=e.data.worked,e.data.time.length>0&&(t.badges.workedTime=e.data.time[0].total_time,t.badges.lostTime=e.data.time[0].total_lost_time),t.badges.mealMoney=4e3*e.data.meal,t.badges.bonus=e.data.bonus,t.badges.planToday=e.data.plan,t.shops.list=e.data.shops,e.data.shops.length>0&&(t.shops.selected=e.data.shops[0]),t.timeRegister.data=e.data.register,t.lastOrders=e.data.orders,t.initChart(),t.checkRegister())})).catch((function(e){t.loading=!1,console.log(e)}))},__resizeHanlder:_.throttle((function(t){this.chart&&this.chart.resize(),this.pie&&this.pie.resize()}),700),initChart:function(){this.chart=ke.a.init(document.getElementById("chart")),this.chart.setOption({title:{top:20,text:"Sales",textStyle:{fontWeight:"normal",fontSize:16,fontFamily:"Nunito Sans"},left:"1%"},tooltip:{trigger:"axis",axisPointer:{lineStyle:{}}},legend:{top:40,icon:"rect",itemWidth:14,itemHeight:5,itemGap:13,data:["This month","Last month","Daily plan"],right:"4%",textStyle:{fontSize:12,fontFamily:"Nunito Sans"}},grid:{top:100,left:"-5px",right:"30px",bottom:"2%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisLine:{lineStyle:{}},data:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]}],yAxis:[{show:!1,type:"value",name:"(%)",axisTick:{show:!1},axisLine:{lineStyle:{}},axisLabel:{margin:10,textStyle:{fontSize:14}},splitLine:{lineStyle:{color:"#eee"}}}],series:[{name:"This month",type:"line",smooth:!0,symbol:"circle",symbolSize:5,showSymbol:!1,lineStyle:{normal:{width:1}},areaStyle:{normal:{color:new ke.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(19, 206, 102, 0.3)"},{offset:.8,color:"rgba(19, 206, 102, 0)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10}},itemStyle:{normal:{color:"rgb(19, 206, 102)",borderColor:"rgba(19, 206, 102, 0.27)",borderWidth:12}},data:this.sales.this},{name:"Last month",type:"line",smooth:!0,symbol:"circle",symbolSize:5,showSymbol:!1,lineStyle:{normal:{width:1}},areaStyle:{normal:{color:new ke.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(95, 143, 223, 0.3)"},{offset:.8,color:"rgba(95, 143, 223, 0)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10}},itemStyle:{normal:{color:"rgb(95, 143, 223)",borderColor:"rgba(95, 143, 223, 0.2)",borderWidth:12}},data:this.sales.last},{name:"Daily plan",type:"line",smooth:!0,symbol:"circle",symbolSize:5,showSymbol:!1,lineStyle:{normal:{width:1}},areaStyle:{normal:{color:new ke.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(236, 32, 95, 0.3)"},{offset:.8,color:"rgba(236, 32, 95, 0)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10}},itemStyle:{normal:{color:"rgb(236, 32, 95)",borderColor:"rgba(236, 32, 95, 0.2)",borderWidth:12}},data:this.sales.default}]})},initPie:function(){this.pie=ke.a.init(document.getElementById("pie"));var t=["rgb(95, 143, 223)","rgb(19, 206, 102)","rgb(247, 186, 43)","rgb(204, 57, 57)"],e=["#3f84f6","#4c8bf7","#5a95f7","#70a3f8","#8ab4fa","#a3c4fb","#bfd6fc","#d4e4fd","#d7e4f7","#e6eefa"],a=[],i=[];this.orderStatus.forEach((function(e,i){0==i?a.push({value:e.count,name:e.position_name,selected:!0,itemStyle:{normal:{color:t[i]}}}):a.push({value:e.count,name:e.position_name,selected:!1,itemStyle:{normal:{color:t[i]}}})})),this.orderProduct.forEach((function(t,a){i.push({value:t.qty,name:t.model,itemStyle:{normal:{color:e[a]}}})})),this.pie.setOption({title:{top:20,text:"ORDER STATUS",textStyle:{fontWeight:"normal",fontSize:16,fontFamily:"Nunito Sans"},left:"1%"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"Status",type:"pie",selectedMode:"single",radius:[0,"35%"],label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}},data:a},{name:"Products",type:"pie",radius:["45%","60%"],data:i,itemStyle:{normal:{color:"rgb(19, 206, 102)"}}}]})},initGridData:function(){var t=this,e=(new Date).getFullYear(),a=["Complete","Pending","Returned","Paid"];_.times(10,(function(i){var s=ze.floating({min:1,max:100,fixed:2}),o=ze.integer({min:1,max:5}),r=s*o;t.gridData.push({customer:ze.name(),photo:"/static/images/shop/"+ze.integer({min:0,max:19})+".jpg",city:ze.city(),address:ze.address(),email:ze.email(),product:ze.sentence({words:3}),price:_.replace(s.toFixed(2).toString(),".",","),qnt:o,amount:_.replace(r.toFixed(2).toString(),".",","),status:a[ze.integer({min:0,max:3})],date:ze.date({string:!0,year:e}),id:i})}))}}},Be=Ue,Ee=(a("b890"),Object(x["a"])(Be,xe,we,!1,null,null,null)),De=Ee.exports,Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-ecommerce-dashboard scrollable"},[a("resize-observer",{on:{notify:t.__resizeHanlder}}),a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"card-base card-alt"},[a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"widget p-20"},[a("div",{staticClass:"text-uppercase text-right flex"},[a("div",{staticClass:"box grow"},[a("h3",{staticClass:"m-0"},[t._v(t._s(Number(t.badges.total).toLocaleString(0)))]),a("p",{staticClass:"m-0"},[t._v("Нийт бүтээгдэхүүн")])]),a("div",{staticClass:"icon-box ph-15 accent-text"},[a("i",{staticClass:"mdi mdi-archive-outline"})])])])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"widget p-20"},[a("div",{staticClass:"text-uppercase text-right flex"},[a("div",{staticClass:"box grow"},[a("h3",{staticClass:"m-0"},[t._v(t._s(Number(t.badges.totalCount).toLocaleString()))]),a("p",{staticClass:"m-0"},[t._v("Бүтээгдэхүүний үлдэгдэл")])]),a("div",{staticClass:"icon-box ph-15 accent-text"},[a("i",{staticClass:"mdi mdi-alpha-q-circle-outline"})])])])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"widget p-20"},[a("div",{staticClass:"text-uppercase text-right flex"},[a("div",{staticClass:"box grow"},[a("h3",{staticClass:"m-0"},[t._v(t._s(Number(t.badges.totalSale).toLocaleString())+" ₮")]),a("p",{staticClass:"m-0"},[t._v("Худалдах үнэ")])]),a("div",{staticClass:"icon-box ph-15 accent-text"},[a("i",{staticClass:"mdi mdi-cart-outline"})])])])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[a("div",{staticClass:"widget p-20"},[a("div",{staticClass:"text-uppercase text-right flex"},[a("div",{staticClass:"box grow"},[a("h3",{staticClass:"m-0"},[t._v(t._s(Number(t.badges.totalWhole).toLocaleString())+" ₮")]),a("p",{staticClass:"m-0"},[t._v("Бөөний үнэ")])]),a("div",{staticClass:"icon-box ph-15 accent-text"},[a("i",{staticClass:"mdi mdi-currency-usd"})])])])])],1)],1),a("div",{staticClass:"card-base card-shadow--medium bg-white black-text ph-5 p-0 pb-20 mt-20"},[a("el-row",[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:16,xl:16}},[a("div",[a("div",{style:{height:"500px",width:"100%"},attrs:{id:"chart"}})])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:8,xl:8}},[a("div",[a("div",{style:{height:"500px",width:"100%"},attrs:{id:"pie"}})])])],1)],1),a("vue-scroll",{staticClass:"mt-20"},[a("el-row",{attrs:{gutter:30}},[a("el-col",{staticClass:"table-box card-base card-outline",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",[t._v("Ажилтан")]),a("th",[t._v("Үүсгэсэн огноо")]),a("th",[t._v("Захиалгын дугаар")]),a("th",[t._v("Төлөв")])])]),a("tbody",t._l(t.lastOrders,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"},on:{click:function(a){return t.goOrder(e.order_number)}}},[a("td",[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/user/"+e.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.name))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.shop))])])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.created_at.replaceAll("T"," ").replaceAll(".000Z"," ")))])])]),a("td",[a("div",{staticClass:"item-box item-location"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.order_number))])])]),a("td",{staticStyle:{"max-width":"150px"}},[a("div",{staticClass:"item-box item-status",class:{"status-Pending":1==e.stat,"status-Complete":2==e.stat,"status-Returned":3==e.stat}},[1==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Хүлээгдэж байгаа")]):2==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Зөвшөөрөгдсөн")]):3==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Татгалзсан")]):t._e(),2==e.stat||3==e.stat?a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.updated_at.replaceAll("T"," ").replaceAll(".000Z"," ")))]):a("p",{staticClass:"m-0 o-060"},[t._v("-")])])])])})),0)])])],1)],1)],1)},Pe=[],je=a("ade3"),Ne=(a("4c53"),new $e.a),Re={name:"EcommerceDashboard",data:function(){return Object(je["a"])({chart:null,pie:null,gridData:[],loading:!1,sales:{last:[],this:[],default:[]},badges:{total:0,totalCount:0,totalSale:0,totalWhole:0,main:0,sub:0},lastOrders:[],rowWidth:24,showDownloadProduct:!1,registerAvailable:!0,many:[]},"sales",[])},created:function(){this.initGridData()},mounted:function(){window.addEventListener("resize",this.__resizeHanlder);JSON.parse(localStorage.user);this.getDashboard()},methods:{goOrder:function(t){this.$router.push({name:"ecommerce-show-order",params:{id:t}})},getDashboard:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/dashboard/customer-dashboard",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.badges.total=e.data.count[0].count+e.data.count[1].count,t.badges.main=e.data.count[0].count,t.badges.sub=e.data.count[1].count,t.badges.totalCount=e.data.count[0].total+e.data.count[1].total,t.badges.totalSale=e.data.price1[0].sale_price+e.data.price2[0].sale_price,t.badges.totalWhole=e.data.price1[0].whole_price+e.data.price2[0].whole_price,e.data.many1.forEach((function(e){t.many.push(e)})),e.data.many2.forEach((function(e){t.many.push(e)})),t.sales=e.data.sales,t.initPie(),t.initChart(e.data.months))})).catch((function(e){t.loading=!1,console.log(e)}))},__resizeHanlder:_.throttle((function(t){this.chart&&this.chart.resize(),this.pie&&this.pie.resize()}),700),initChart:function(t){this.chart=ke.a.init(document.getElementById("chart")),this.chart.setOption({title:{top:20,text:"Sales",textStyle:{fontWeight:"normal",fontSize:16,fontFamily:"Nunito Sans"},left:"1%"},tooltip:{trigger:"axis",axisPointer:{lineStyle:{}}},legend:{top:40,icon:"rect",itemWidth:14,itemHeight:5,itemGap:13,data:["Sales"],right:"4%",textStyle:{fontSize:12,fontFamily:"Nunito Sans"}},grid:{top:100,left:"-5px",right:"30px",bottom:"2%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisLine:{lineStyle:{}},data:t}],yAxis:[{show:!1,type:"value",name:"(%)",axisTick:{show:!1},axisLine:{lineStyle:{}},axisLabel:{margin:10,textStyle:{fontSize:14}},splitLine:{lineStyle:{color:"#eee"}}}],series:[{name:"Sales",type:"line",smooth:!0,symbol:"circle",symbolSize:5,showSymbol:!1,lineStyle:{normal:{width:1}},areaStyle:{normal:{color:new ke.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(19, 206, 102, 0.3)"},{offset:.8,color:"rgba(19, 206, 102, 0)"}],!1),shadowColor:"rgba(0, 0, 0, 0.1)",shadowBlur:10}},itemStyle:{normal:{color:"rgb(19, 206, 102)",borderColor:"rgba(19, 206, 102, 0.27)",borderWidth:12}},data:this.sales}]})},initPie:function(){this.pie=ke.a.init(document.getElementById("pie"));var t=["rgb(95, 143, 223)","rgb(19, 206, 102)","rgb(247, 186, 43)","rgb(204, 57, 57)"],e=["#3f84f6","#4c8bf7","#5a95f7","#70a3f8","#8ab4fa","#a3c4fb","#bfd6fc","#d4e4fd","#d7e4f7","#e6eefa"],a=[],i=[];a=[{value:this.badges.main,name:"Нийлүүлэгчийн бараа",selected:!0,itemStyle:{normal:{color:t[2]}}},{value:this.badges.sub,name:"Үндсэн бараа",selected:!1,itemStyle:{normal:{color:t[1]}}}],this.many.forEach((function(t,a){i.push({value:t.qty,name:t.model,itemStyle:{normal:{color:e[a]}}})})),this.pie.setOption({title:{top:20,text:"PRODUCT STATUS",textStyle:{fontWeight:"normal",fontSize:16,fontFamily:"Nunito Sans"},left:"1%"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"Status",type:"pie",selectedMode:"single",radius:[0,"35%"],label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}},data:a},{name:"Products",type:"pie",radius:["45%","60%"],data:i,itemStyle:{normal:{color:"rgb(19, 206, 102)"}}}]})},initGridData:function(){var t=this,e=(new Date).getFullYear(),a=["Complete","Pending","Returned","Paid"];_.times(10,(function(i){var s=Ne.floating({min:1,max:100,fixed:2}),o=Ne.integer({min:1,max:5}),r=s*o;t.gridData.push({customer:Ne.name(),photo:"/static/images/shop/"+Ne.integer({min:0,max:19})+".jpg",city:Ne.city(),address:Ne.address(),email:Ne.email(),product:Ne.sentence({words:3}),price:_.replace(s.toFixed(2).toString(),".",","),qnt:o,amount:_.replace(r.toFixed(2).toString(),".",","),status:a[Ne.integer({min:0,max:3})],date:Ne.date({string:!0,year:e}),id:i})}))}}},Ae=Re,Me=(a("c0f5"),Object(x["a"])(Ae,Oe,Pe,!1,null,null,null)),qe=Me.exports,Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-page flex"},[a("div",{staticClass:"box grow scrollable align-vertical side-box box-right",attrs:{align:"center"}},[a("div",{staticClass:"align-vertical-middle wrapper"},[a("form",{staticClass:"form-box",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[t._m(0),a("float-label",{staticClass:"styled",attrs:{align:"left"}},[a("el-input",{attrs:{placeholder:"Имэйл",clearable:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("float-label",{staticClass:"styled",attrs:{align:"left"}},[a("el-input",{attrs:{placeholder:"Нууц үг",clearable:"","show-password":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",{staticClass:"flex mb-10"},[a("div",{staticClass:"box grow text-right"},[a("el-link",{attrs:{type:"warning"},on:{click:t.forgotPassword}},[t._v("Нууц үгээ мартсан уу?")])],1)]),a("div",{staticClass:"flex text-center center pb-10"},[a("el-button",{staticClass:"loginBtn",style:{width:"100%"},attrs:{"native-type":"submit",type:"info",loading:t.buttonLoading}},[t._v("Нэвтрэх")])],1)],1)]),t._m(1)])])},He=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex ml-15 mb-40",attrs:{align:"left"}},[i("img",{staticStyle:{width:"80px",height:"auto"},attrs:{src:a("31ac"),alt:"logo"}}),i("span",{staticClass:"ml-10"},[i("strong",[t._v("ДОТООД ЗАХИАЛГЫН"),i("br"),t._v("СИСТЕМ v2.0")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"-70px"},attrs:{align:"center"}},[a("p",[a("strong",[t._v("Tumentechno.mn")])])])}],We={name:"Login2",data:function(){return{username:"",password:"",buttonLoading:!1}},methods:{forgotPassword:function(){var t=this;this.$prompt("Бүртгэлтэй имэйл хаягаа оруулна уу","Нууц үг сэргээх",{confirmButtonText:"Илгээх",cancelButtonText:"Болих",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"Буруу бичиглэл"}).then((function(e){var a=e.value,i=t;i.$axios({method:"POST",url:i.$appUrl+"/api/user/forgot-password",headers:{},data:{email:a}}).then((function(e){"success"===e.data.result?t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Нууц үг шинэчлэгдлээ<br>Имэйл хаягаа шалгана уу",type:"success"}):t.$notify({title:"Амжилтгүй",message:"Имэйл хаяг бүртгэлгүй",type:"error"})}))}))},login:function(){var t=this;if(""==this.username||""==this.password)this.$notify({title:"Алдаа",message:"Талбараа бүрэн оруулна уу",type:"warning"});else{var e=this;e.$axios({method:"POST",url:e.$appUrl+"/api/user/login",headers:{},data:{email:this.username,password:this.password}}).then((function(a){"success"===a.data.result?(console.log(a),localStorage.token=a.data.token,localStorage.user=JSON.stringify(a.data.user),t.$notify({title:"Амжилттай",message:"Симтемд\t нэвтэрлээ",type:"success"}),6==a.data.user.posID?e.$router.push("/products"):e.$router.push("/ecommerce-dashboard")):t.$notify({title:"Амжилтгүй",message:"Хэрэглэгчийн нэр эсвэл нууц үг буруу",type:"error"})}))}}}},Ge=We,Ze=(a("ef81"),Object(x["a"])(Ge,Fe,He,!1,null,null,null)),Je=Ze.exports,Ve=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-products flex"},[i("div",{class:{sidebar:!0,open:t.sidebarOpen}},[i("vue-scroll",{staticClass:"scroller"},[i("div",{staticClass:"widget close-filter-box"},[i("button",{on:{click:function(e){t.sidebarOpen=!1}}},[t._v(" Шүүлтүүр ")])]),i("el-button",{staticClass:"mb-10",staticStyle:{width:"100%"},attrs:{type:"primary",plain:"",size:"small"},on:{click:t.filter}},[t._v("Шүүх")]),i("div",{staticClass:"widget"},[i("div",{staticClass:"title"},[i("strong",[t._v("Ангилал")])]),i("div",{staticClass:"content"},[i("el-tree",{staticStyle:{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"},attrs:{data:t.category,"show-checkbox":"",props:t.treeProps,"node-key":"id","default-expanded-keys":[1]},on:{check:t.handleCurrentChange}})],1)]),i("div",{staticClass:"widget"},[i("div",{staticClass:"title"},[i("strong",[t._v("Брэнд")])]),i("div",{staticClass:"content scrollable",style:{"max-height":"400px",overflow:"auto"}},[i("el-tree",{staticStyle:{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"},attrs:{data:t.brand,"show-checkbox":"",props:t.brandProps,"node-key":"id","default-expanded-keys":[1]},on:{check:t.handleCheckChangeBrand}})],1)]),i("div",{staticClass:"widget"},[i("div",{staticClass:"title"},[t._v("Үнэ")]),i("div",{staticClass:"content"},[i("el-slider",{staticClass:"themed",attrs:{range:"",max:t.maxAmount},model:{value:t.range,callback:function(e){t.range=e},expression:"range"}}),i("div",{staticClass:"flex justify-space-between o-060"},[i("span",[t._v("₮ "+t._s(t.range[0]))]),i("span",[t._v("₮ "+t._s(t.range[1]))])])],1)]),i("div",{staticClass:"widget select-color"},[i("div",{staticClass:"title"},[t._v("Өнгө")]),i("div",{staticClass:"content scrollable",style:{"max-height":"400px",overflow:"auto"}},[i("el-tree",{staticStyle:{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"},attrs:{data:t.color,"show-checkbox":"",props:t.colorProps,"node-key":"id","default-expanded-keys":[1]},on:{"check-change":t.handleCheckChangeColor}})],1)])],1)],1),i("el-tabs",{staticClass:"scrollable",staticStyle:{width:"100%"},model:{value:t.activetag,callback:function(e){t.activetag=e},expression:"activetag"}},[i("el-tab-pane",{ref:"products",attrs:{label:"Бүтээгдэхүүнүүд",name:"products"}},[i("div",{staticClass:"list-container box grow flex column"},[1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?i("div",{staticClass:"mb-10 flex",staticStyle:{"flex-direction":"row-reverse"},attrs:{align:"right"}},[1==t.LoggedUser.posID||2==t.LoggedUser.posID?i("download-excel",{attrs:{data:t.excelData,fields:t.excelField,worksheet:"My Worksheet",name:"Барааны үлдэгдэл.xls"}},[i("el-tooltip",{staticClass:"item mr-10",attrs:{effect:"dark",content:"Татах",placement:"top"}},[i("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-download",plain:""}})],1)],1):t._e(),i("el-button",{staticClass:"mr-10",attrs:{type:"warning",size:"mini",icon:"el-icon-news",plain:""},on:{click:function(e){return t.goNewProduct()}}},[t._v("Шинэ бүтээгдэхүүн")]),i("el-tooltip",{staticClass:"item mr-10",attrs:{effect:"dark",content:"xls оруулах",placement:"top"}},[i("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-upload",plain:""},on:{click:t.fileUpload}})],1),i("input",{ref:"xls-upload",attrs:{type:"file",name:"xls-upload",id:"xls-upload",hidden:""},on:{change:t.selectedFile}})],1):t._e(),i("div",{staticClass:"toggle-filter-box"},[i("button",{on:{click:function(e){t.sidebarOpen=!t.sidebarOpen}}},[t.sidebarOpen?t._e():i("span",[t._v("Шүүлтүүр")]),t.sidebarOpen?i("span",[t._v("Хаах")]):t._e()])]),i("div",{staticClass:"list only-y box grow"},t._l(t.product,(function(e,s){return i("div",{key:s,staticClass:"item"},[i("div",{staticClass:"wrapper card-shadow--medium"},[i("div",{staticClass:"image p-20",staticStyle:{position:"relative"}},[i("router-link",{attrs:{to:"/product-detail/"+e.id}},[i("div",{staticClass:"bg",style:"background-image: url("+(t.$imgUrl+e.image)+")"})]),t.checkNewProduct(e.created_at)?i("img",{staticStyle:{position:"absolute",top:"0",left:"0",width:"40px",height:"auto"},attrs:{src:a("b33e"),alt:""}}):t._e()],1),i("div",{staticClass:"detail p-20"},[i("div",{staticClass:"rate"},[i("el-rate",{attrs:{disabled:""},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}})],1),i("div",{staticClass:"name"},[i("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/product-detail/"+e.id}},[t._v(" "+t._s(e.model)+" ")])],1),i("div",{staticClass:"desc"},[i("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/product-detail/"+e.id}},[t._v(" "+t._s(e.name)+" ")])],1),t.LoggedUser.posID<6?i("div",{staticClass:"price"},[i("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/product-detail/"+e.id}},[t._v(" ₮ "+t._s(Number(e.sale_price).toLocaleString())+" ")])],1):i("div",{staticClass:"price"},[i("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/product-detail/"+e.id}},[t._v(" ₮ "+t._s(Number(e.wholesale_price).toLocaleString())+" ")])],1),i("div",{staticClass:"buttons flex justify-space-between"},[i("div",[e.qty>100?i("button",[t._v("Үлдэгдэл: 100+")]):i("button",[t._v("Үлдэгдэл: "+t._s(e.qty))])]),i("button",{style:{cursor:"pointer"},on:{click:function(a){return t.addToCart(e.id,e.model)}}},[i("i",{staticClass:"mdi mdi-cart-outline ml-5"}),t._v(" Сагслах")])])])])])})),0),i("el-pagination",{style:{"margin-top":"20px"},attrs:{"current-page":t.page.current,background:"",layout:"prev, pager, next","page-size":40,"page-count":t.page.total},on:{"update:currentPage":function(e){return t.$set(t.page,"current",e)},"update:current-page":function(e){return t.$set(t.page,"current",e)},"current-change":t.changePagination}})],1)]),i("el-tab-pane",{ref:"recommendedTag",attrs:{name:"recommended"}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" Санал болгох "),i("el-badge",{staticClass:"item",staticStyle:{position:"absolute",top:"0"},attrs:{type:"warning",value:t.counters.recommended,max:99}})],1),i("div",{staticClass:"list-container box grow flex column"},[i("div",{staticClass:"list only-y box grow"},t._l(t.recommended.list,(function(e,s){return i("div",{key:s,staticClass:"item"},[i("div",{staticClass:"wrapper card-shadow--medium"},[i("div",{staticClass:"image p-20",staticStyle:{position:"relative"}},[i("router-link",{attrs:{to:"/product-detail/"+e.id}},[i("div",{staticClass:"bg",style:"background-image: url("+(t.$imgUrl+e.image)+")"})]),t.checkNewProduct(e.created_at)?i("img",{staticStyle:{position:"absolute",top:"0",left:"0",width:"40px",height:"auto"},attrs:{src:a("b33e"),alt:""}}):t._e()],1),i("div",{staticClass:"detail p-20"},[i("div",{staticClass:"rate"},[i("el-rate",{attrs:{disabled:""},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}})],1),i("div",{staticClass:"name"},[t._v(" "+t._s(e.model)+" ")]),i("div",{staticClass:"desc"},[t._v(" "+t._s(e.name)+" ")]),t.LoggedUser.posID<6?i("div",{staticClass:"price"},[i("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/product-detail/"+e.id}},[t._v(" ₮ "+t._s(Number(e.sale_price).toLocaleString())+" ")])],1):i("div",{staticClass:"price"},[i("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/product-detail/"+e.id}},[t._v(" ₮ "+t._s(Number(e.wholesale_price).toLocaleString())+" ")])],1),i("div",{staticClass:"buttons flex justify-space-between"},[i("div",[e.qty>100?i("button",[t._v("Үлдэгдэл: 100+")]):i("button",[t._v("Үлдэгдэл: "+t._s(e.qty))])]),i("button",{style:{cursor:"pointer"},on:{click:function(a){return t.addToCart(e.id,e.model)}}},[i("i",{staticClass:"mdi mdi-cart-outline ml-5"}),t._v(" Сагслах")])])])])])})),0),i("el-pagination",{style:{"margin-top":"20px"},attrs:{"current-page":t.recommended.page,background:"",layout:"prev, pager, next","page-size":40,"page-count":t.recommended.total},on:{"update:currentPage":function(e){return t.$set(t.recommended,"page",e)},"update:current-page":function(e){return t.$set(t.recommended,"page",e)},"current-change":t.changePaginationRecommended}})],1)]),i("el-tab-pane",{attrs:{name:"newArrival"}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v(" Шинэ бараа "),i("el-badge",{staticClass:"item",staticStyle:{position:"absolute",top:"0"},attrs:{type:"warning",value:t.counters.newArrival,max:99}})],1),i("div",{staticClass:"list-container box grow flex column"},[i("div",{staticClass:"list only-y box grow"},t._l(t.newProducts.list,(function(e,s){return i("div",{key:s,staticClass:"item"},[i("div",{staticClass:"wrapper card-shadow--medium"},[i("div",{staticClass:"image p-20",staticStyle:{position:"relative"}},[i("router-link",{attrs:{to:"/product-detail/"+e.id}},[i("div",{staticClass:"bg",style:"background-image: url("+(t.$imgUrl+e.image)+")"})]),t.checkNewProduct(e.created_at)?i("img",{staticStyle:{position:"absolute",top:"0",left:"0",width:"40px",height:"auto"},attrs:{src:a("b33e"),alt:""}}):t._e()],1),i("div",{staticClass:"detail p-20"},[i("div",{staticClass:"rate"},[i("el-rate",{attrs:{disabled:""},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}})],1),i("div",{staticClass:"name"},[t._v(" "+t._s(e.model)+" ")]),i("div",{staticClass:"desc"},[t._v(" "+t._s(e.name)+" ")]),t.LoggedUser.posID<6?i("div",{staticClass:"price"},[i("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/product-detail/"+e.id}},[t._v(" ₮ "+t._s(Number(e.sale_price).toLocaleString())+" ")])],1):i("div",{staticClass:"price"},[i("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/product-detail/"+e.id}},[t._v(" ₮ "+t._s(Number(e.wholesale_price).toLocaleString())+" ")])],1),i("div",{staticClass:"buttons flex justify-space-between"},[i("div",[e.qty>100?i("button",[t._v("Үлдэгдэл: 100+")]):i("button",[t._v("Үлдэгдэл: "+t._s(e.qty))])]),i("button",{style:{cursor:"pointer"},on:{click:function(a){return t.addToCart(e.id,e.model)}}},[i("i",{staticClass:"mdi mdi-cart-outline ml-5"}),t._v(" Сагслах")])])])])])})),0),i("el-pagination",{style:{"margin-top":"20px"},attrs:{"current-page":t.newProducts.page,background:"",layout:"prev, pager, next","page-size":40,"page-count":t.newProducts.total},on:{"update:currentPage":function(e){return t.$set(t.newProducts,"page",e)},"update:current-page":function(e){return t.$set(t.newProducts,"page",e)},"current-change":t.changePaginationNew}})],1)]),6==t.LoggedUser.posID?i("el-tab-pane",{attrs:{label:"Миний бүтээгдэхүүн",name:"MyProduct"}},[i("div",{staticClass:"list-container box grow flex column"},[6==t.LoggedUser.posID?i("div",{staticClass:"mb-10",attrs:{align:"right"}},[i("el-button",{staticClass:"mr-10",attrs:{type:"warning",size:"mini",icon:"el-icon-news",plain:""},on:{click:function(e){return t.$router.push("/customer-new-product")}}},[t._v("Шинэ бүтээгдэхүүн")])],1):t._e(),i("div",{staticClass:"toggle-filter-box"},[i("button",{on:{click:function(e){t.sidebarOpen=!t.sidebarOpen}}},[t.sidebarOpen?t._e():i("span",[t._v("Шүүлтүүр")]),t.sidebarOpen?i("span",[t._v("Хаах")]):t._e()])]),i("div",{staticClass:"list only-y box grow"},t._l(t.customerproduct,(function(e,a){return i("div",{key:a,staticClass:"item"},[i("div",{staticClass:"wrapper card-shadow--medium"},[i("div",{staticClass:"image p-20",staticStyle:{position:"relative"}},[1==e.type?i("router-link",{attrs:{to:"/product-detail/"+e.id}},[i("div",{staticClass:"bg",style:"background-image: url("+(t.$imgUrl+e.image)+")"})]):i("router-link",{attrs:{to:"/product-detail-customer/"+e.id}},[i("div",{staticClass:"bg",style:"background-image: url("+t.$appUrl+"/images/local/product/"+e.image+")"})])],1),i("div",{staticClass:"detail p-20"},[i("div",{staticClass:"rate"},[i("el-rate",{attrs:{disabled:""},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}})],1),i("div",{staticClass:"name"},[t._v(" "+t._s(e.model)+" ")]),i("div",{staticClass:"desc"},[t._v(" "+t._s(e.name)+" ")]),t.LoggedUser.posID<6?i("div",{staticClass:"price"},[i("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/product-detail/"+e.id}},[t._v(" ₮ "+t._s(Number(e.sale_price).toLocaleString())+" ")])],1):i("div",{staticClass:"price"},[i("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/product-detail/"+e.id}},[t._v(" ₮ "+t._s(Number(e.wholesale_price).toLocaleString())+" ")])],1),i("div",{staticClass:"buttons flex justify-space-between"},[i("div",[e.qty>100?i("button",[t._v("Үлдэгдэл: 100+")]):i("button",[t._v("Үлдэгдэл: "+t._s(e.qty))])]),1==e.type?i("button",{style:{cursor:"pointer"},on:{click:function(a){return t.addToCart(e.id,e.model)}}},[i("i",{staticClass:"mdi mdi-cart-outline ml-5"}),t._v(" Сагслах")]):t._e()])])])])})),0)])]):t._e()],1)],1)},Ye=[],Xe=a("1da1"),Qe=(a("96cf"),a("1276"),a("a434"),a("8134")),Ke={name:"Products",components:{VueHtml2pdf:Ie["a"],readXlsxFile:Qe["a"]},data:function(){return{excelField:{"#":"id",Name:"name",Model:"model","Unit price":"unitprice"},excelData:[],all:{store:[],product:[]},uid:[],loading:!1,rate:5,page:{current:1,total:0},brand:[],color:[],newProducts:{list:[],page:1,total:0},counters:{recommended:0,newArrival:0},search:"",isSearch:!1,category:[],product:[],recommended:{list:[],page:1,total:0},productSource:[],selected:{brand:[],color:[],category:[]},gridData:[],maxAmount:0,sidebarOpen:!1,range:[0,0],treeProps:{children:"children",label:"label"},brandProps:{label:"brandname"},colorProps:{label:"total"},LoggedUser:[],activetag:"products",windowWidth:0,customerproduct:[],file:"",buildFromExcel:[]}},beforeRouteUpdate:function(t,e,a){this.page.current=1,void 0!==t.query.search&&(this.search=t.query.search),this.selected.brand=[],this.selected.color=[],this.selected.category=[],this.range=[0,0],this.getProduct(),a()},computed:{},methods:{selectedFile:function(t){var e=this;return Object(Xe["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=t.target.files?t.target.files[0]:null,s=i.name.split("."),s=s[s.length-1],"xlsx"==s||!i){a.next=7;break}e.$notify({title:"Амжилтгүй",message:"XLSX өргөтгөлтэй байх ёстой",type:"error"}),a.next=10;break;case 7:return a.next=9,Object(Qe["a"])(i).then((function(t){t.forEach((function(t,a){a>0&&e.buildFromExcel.push({code:t[0],cost:t[2],sale:t[3],whole:t[4]})}))}));case 9:e.$confirm("Итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Үгүй",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){var t=e;e.loading=!0;var a=localStorage.getItem("token");a&&e.$axios({method:"post",url:t.$appUrl+"/api/product/import-excel",headers:{Authorization:"Bearer ".concat(a)},data:{row:JSON.stringify(e.buildFromExcel)}}).then((function(e){t.loading=!1,console.log(e)})).catch((function(e){t.loading=!1,console.log(e)}))})).catch((function(){e.buildFromExcel=[],e.$refs["xls-upload"].value=null}));case 10:case"end":return a.stop()}}),a)})))()},fileUpload:function(){this.$refs["xls-upload"].click()},toPdf:function(){this.$refs.html2Pdf.generatePdf()},sortedArray:function(){function t(t,e){return t.name<e.name?-1:t.name>e.name?1:0}this.customerproduct=this.customerproduct.sort(t)},checkNewProduct:function(t){Date.prototype.addDays=function(t){var e=new Date(this.valueOf());return e.setDate(e.getDate()+t),e};var e=(new Date).addDays(-40),a=new Date(t);return a>e},goNewProduct:function(){this.$router.push("/new-product")},addToCart:function(t,e){var a=this;a.loading=!0;var i=localStorage.getItem("token");i&&this.$axios({method:"post",url:a.$appUrl+"/api/product/add-cart",headers:{Authorization:"Bearer ".concat(i)},data:{id:t,qty:1}}).then((function(t){a.loading=!1,"success"==t.data.result&&a.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"<strong>".concat(e,"</strong> бүтээгдэхүүн нэмэгдлээ"),type:"success"})})).catch((function(t){a.loading=!1,console.log(t)}))},changePagination:function(t){this.page.current=t,this.getProduct()},changePaginationNew:function(t){this.newProducts.page=t,this.getNewProduct()},changePaginationRecommended:function(t){this.recommended.page=t,this.getRecommendedProduct()},handleCurrentChange:function(t,e){var a=this;this.selected.category=[],e.checkedKeys.forEach((function(t){void 0!==t&&a.selected.category.push(t)}))},handleCheckChangeBrand:function(t,e){var a=this;this.selected.brand=[],e.checkedKeys.forEach((function(t){void 0!==t&&a.selected.brand.push(t)}))},handleCheckChangeColor:function(t){var e=this;if(void 0!==t.color_name){var a=this.selected.color.some((function(e){return e==t.color_name}));a?this.selected.color.forEach((function(a,i){a==t.color_name&&e.selected.color.splice(i,1)})):this.selected.color.push(t.color_name)}},initGridData:function(){var t=this;_.times(50,(function(e){var a=chance.floating({min:1,max:100,fixed:2});t.gridData.push({photo:"/static/images/shop/"+chance.integer({min:0,max:19})+".jpg",product:chance.sentence({words:3}),price:_.replace(a.toFixed(2).toString(),".",","),rate:chance.integer({min:3,max:5}),id:e})}))},gotoDetail:function(){this.$router.push({name:"ecommerce-product-detail"})},filter:function(){this.page.current=1,this.isSearch=!0,this.getProduct()},buildExcelData:function(){var t,e=this,a=this.excelField;this.all.store.forEach((function(t){a[t.name]=t.code})),this.all.product.forEach((function(a,i){t={id:i+1,name:a.name,model:a.model,unitprice:a.sale_price},e.all.store.forEach((function(e){t[e.code]=a[e.code]})),e.excelData.push(t)}))},getAllProduct:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/get-all-product",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.all.store=e.data.store,t.all.product=e.data.product,console.log(e),t.buildExcelData()})).catch((function(t){console.log(t)}))},getProduct:function(){var t=this;t.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/products",headers:{Authorization:"Bearer ".concat(e)},data:{brand:this.selected.brand,page:this.page.current,color:this.selected.color,price:this.range,category:this.selected.category,search:this.search}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.product=e.data.product,t.page.total=e.data.pagination,6==t.LoggedUser.posID&&(t.customerproduct=[],e.data.customerproduct2.forEach((function(e){t.customerproduct.push(e)})),e.data.customerproduct1.forEach((function(e){t.customerproduct.push(e)})),t.sortedArray()),0==t.isSearch&&(t.maxAmount=e.data.maxAmount[0].max,t.range=[t.range[0],e.data.maxAmount[0].max],t.category=e.data.sub,t.brand=e.data.brand,t.color=e.data.color),t.uid=e.data.uid,t.getAllProduct())})).catch((function(e){t.loading=!1,console.log(e)}))},getNewProduct:function(){var t=this;t.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/get-new-products",headers:{Authorization:"Bearer ".concat(e)},data:{page:this.newProducts.page}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.counters.newArrival=e.data.total,t.newProducts.list=e.data.product,t.newProducts.total=e.data.pagination)})).catch((function(e){t.loading=!1,console.log(e)}))},getRecommendedProduct:function(){var t=this;t.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/get-recommended-products",headers:{Authorization:"Bearer ".concat(e)},data:{page:this.recommended.page}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.recommended.list=e.data.product,t.counters.recommended=e.data.total,t.recommended.total=e.data.pagination)})).catch((function(e){t.loading=!1,console.log(e)}))}},created:function(){this.initGridData()},mounted:function(){this.LoggedUser=JSON.parse(localStorage.user);var t=this.$route.query.search;void 0!==t&&(this.search=t),this.getProduct(),this.getNewProduct(),this.getRecommendedProduct()}},ta=Ke,ea=(a("f577"),Object(x["a"])(ta,Ve,Ye,!1,null,"4bd18a56",null)),aa=ea.exports,ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-product-detail scrollable only-y"},[a("el-breadcrumb",{staticClass:"themed",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:"/products"}},[t._v("Бүтээгдэхүүний жагсаалт")]),a("el-breadcrumb-item",[t._v(t._s(t.product.detail.model))])],1),a("el-row",{staticClass:"mt-30"},[a("el-col",[a("div",{staticClass:"item-box card-shadow--medium"},[a("el-row",[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:8,xl:8}},[a("div",{staticClass:"gallery-box"},[a("div",{ref:"imageDiv",staticClass:"main-photo",staticStyle:{padding:"0"}},[a("el-carousel",{style:{width:"100%",height:t.imageHeight+"px",overflow:"hidden"},attrs:{"indicator-position":"none",arrow:"hover"}},t._l(4,(function(e){return a("el-carousel-item",{key:e,style:{width:"100%",height:t.imageHeight+"px",display:"flex"}},[a("img",{staticStyle:{width:"80%",margin:"auto"},attrs:{src:t.$imgUrl+t.product.detail["image"+e]}})])})),1)],1)])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:16,xl:16}},[a("div",{staticClass:"detail-box"},[a("h1",{staticClass:"title"},[t._v(t._s(t.product.detail.name))]),a("h4",{staticClass:"title"},[a("span",{attrs:{id:"model-tag"}},[t._v(t._s(t.product.detail.model))]),a("span",{staticClass:"o-080"},[t._v(" "+t._s(t.product.detail.color_name))])]),a("div",{staticClass:"rate"},[a("el-rate",{staticStyle:{width:"120px",display:"inline-block"},attrs:{disabled:""},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}}),a("span",{staticClass:"review fs-12 o-070"},[t._v("(0 customer review)")])],1),a("div",{staticClass:"price-box"},[t.loggedUser.posID<6?a("span",{staticClass:"discounted-price",attrs:{id:"sale-price-tag"}},[t._v("₮ "+t._s(Number(t.product.detail.sale_price).toLocaleString()))]):a("span",{staticClass:"discounted-price",attrs:{id:"sale-price-tag"}},[t._v("₮ "+t._s(Number(t.product.detail.wholesale_price).toLocaleString()))]),t.loggedUser.posID<6?a("span",{staticClass:"discounted-price o-060",style:{color:"black","font-size":"15px","margin-left":"-10px"}},[t._v("₮ "+t._s(Number(t.product.detail.wholesale_price).toLocaleString()))]):t._e(),t.product.detail.discount>0?a("span",{staticClass:"discount"},[t._v(t._s(t.product.detail.discount)+"% off")]):t._e()]),a("div",{staticClass:"price-box",style:{"margin-top":"-20px"}},[t._v(" Нийт үлдэгдэл: "),t.product.detail.total>200?a("strong",[t._v("200+")]):a("strong",[t._v(t._s(Number(t.product.detail.total).toLocaleString()))])]),a("div",{staticClass:"description"},[t._v(" "+t._s(t.product.detail.description)+" ")]),a("div",{staticClass:"actions-box"},[a("el-input-number",{staticClass:"themed mr-10",attrs:{"controls-position":"right",min:1,max:t.product.detail.total},model:{value:t.qnt,callback:function(e){t.qnt=e},expression:"qnt"}}),1==t.loggedUser.posID||2==t.loggedUser.posID||4==t.loggedUser.posID?a("el-button-group",[a("el-button",{staticClass:"mb-2 themed mr-10 ",attrs:{type:"primary",plain:""},on:{click:function(e){return t.addToCart(t.product.detail.id,t.product.detail.model)}}},[a("i",{staticClass:"mdi mdi-cart-outline"}),t._v(" Сагсанд нэмэх")]),1==t.loggedUser.posID||2==t.loggedUser.posID||4==t.loggedUser.posID?a("el-button",{attrs:{icon:"el-icon-setting",circle:""},on:{click:function(e){t.modals.drawer=!0}}}):t._e(),1==t.loggedUser.posID||2==t.loggedUser.posID||4==t.loggedUser.posID?a("el-button",{attrs:{icon:"el-icon-download",circle:""},on:{click:function(e){t.modals.chooseTemplate=!0}}}):t._e(),1==t.loggedUser.posID||2==t.loggedUser.posID||4==t.loggedUser.posID?a("el-button",{attrs:{icon:"el-icon-delete",circle:""},on:{click:t.deleteProduct}}):t._e()],1):a("el-button",{staticClass:"mb-2 themed mr-10 ",attrs:{type:"primary",plain:""},on:{click:function(e){return t.addToCart(t.product.detail.id,t.product.detail.model)}}},[a("i",{staticClass:"mdi mdi-cart-outline"}),t._v(" Сагсанд нэмэх")])],1)])])],1)],1)])],1),t.loggedUser.posID<6?a("el-row",{staticClass:"mt-20"},[a("el-col",[a("div",{staticClass:"item-box p-30"},[a("el-tabs",{staticClass:"themed",model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"Салбарын үлдэгдэлүүд",name:"description"}},[a("div",{staticClass:"table-box card-base card-shadow--medium scrollable only-x"},[a("table",{staticClass:"styled striped"},[a("thead",[a("tr",{style:{"font-size":"14px"}},[a("th",[t._v("Салбарын нэр")]),a("th",[t._v("Үлдэгдэл")]),a("th",[t._v("Гэмтэлтэй")]),a("th",[t._v("Нийт үлдэгдлээс эзлэх хувь")])])]),a("tbody",t._l(t.location,(function(e){return a("tr",{key:e.code},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(Number(t.product.detail[e.code]).toLocaleString()))]),a("td",[t._v(t._s(t.getRma(e)))]),a("td",[t.product.detail.total>0?a("el-progress",{attrs:{percentage:100*t.product.detail[e.code]/t.product.detail.total,"show-text":!1,color:t.customColors}}):a("el-progress",{attrs:{percentage:0,"show-text":!1,color:t.customColors}})],1)])})),0)])])]),a("el-tab-pane",{attrs:{label:"Reviews (0)",name:"reviews"}},[t._v(" Leave a review ")])],1)],1)])],1):t._e(),a("el-drawer",{attrs:{title:"Бүтээгдэхүүн засварлах",visible:t.modals.drawer,size:t.drawerWidth+"%"},on:{"update:visible":function(e){return t.$set(t.modals,"drawer",e)}}},[a("div",{staticClass:"ml-20 mr-20"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{attrs:{placeholder:"Бүтээгдэхүүний нэр",clearable:""},model:{value:t.product.detail.name,callback:function(e){t.$set(t.product.detail,"name",e)},expression:"product.detail.name"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{attrs:{placeholder:"Бүтээгдэхүүний модель",clearable:""},model:{value:t.product.detail.model,callback:function(e){t.$set(t.product.detail,"model",e)},expression:"product.detail.model"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-input",{attrs:{placeholder:"Бар код",clearable:""},model:{value:t.product.detail.code,callback:function(e){t.$set(t.product.detail,"code",e)},expression:"product.detail.code"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-input",{attrs:{placeholder:"Тайлбар",type:"textarea",rows:5,clearable:""},model:{value:t.product.detail.description,callback:function(e){t.$set(t.product.detail,"description",e)},expression:"product.detail.description"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:8,sm:8,md:8,lg:8,xl:8}},[a("el-input",{attrs:{placeholder:"Өртөг үнэ",clearable:""},model:{value:t.product.detail.cost_price,callback:function(e){t.$set(t.product.detail,"cost_price",e)},expression:"product.detail.cost_price"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:8,sm:8,md:8,lg:8,xl:8}},[a("el-input",{attrs:{placeholder:"Бөөний үнэ",clearable:""},model:{value:t.product.detail.wholesale_price,callback:function(e){t.$set(t.product.detail,"wholesale_price",e)},expression:"product.detail.wholesale_price"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:8,sm:8,md:8,lg:8,xl:8}},[a("el-input",{attrs:{placeholder:"Худалдах үнэ",clearable:""},model:{value:t.product.detail.sale_price,callback:function(e){t.$set(t.product.detail,"sale_price",e)},expression:"product.detail.sale_price"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Брэнд"},model:{value:t.product.detail.brand,callback:function(e){t.$set(t.product.detail,"brand",e)},expression:"product.detail.brand"}},t._l(t.brands,(function(t,e){return a("el-option",{key:e,attrs:{label:t.brandname,value:t.id}})})),1)],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Үндсэн категори"},model:{value:t.product.detail.type,callback:function(e){t.$set(t.product.detail,"type",e)},expression:"product.detail.type"}},t._l(t.category,(function(t,e){return a("el-option",{key:e,attrs:{label:t.category_name,value:t.id}})})),1)],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Дэд категори"},model:{value:t.product.detail.category_sub_id,callback:function(e){t.$set(t.product.detail,"category_sub_id",e)},expression:"product.detail.category_sub_id"}},t._l(t.filterSub,(function(t,e){return a("el-option",{key:e,attrs:{label:t.sub_category_name,value:t.id}})})),1)],1),a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24,align:"center"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"info",plain:""},on:{click:t.editProduct}},[t._v("Хадгалах")])],1)],1)],1)]),t._m(0),a("el-dialog",{attrs:{title:"Загвараа сонгоно уу",visible:t.modals.chooseTemplate,width:t.templateWidth+"%"},on:{"update:visible":function(e){return t.$set(t.modals,"chooseTemplate",e)}}},[a("el-carousel",{attrs:{interval:5e3,type:"card",height:"460px"}},t._l(t.templates,(function(e,i){return a("el-carousel-item",{key:i},[a("div",{staticStyle:{position:"relative"},attrs:{align:"center"}},[a("img",{ref:"imgWidth",refInFor:!0,staticStyle:{width:"460px",height:"auto"},attrs:{src:t.$appUrl+"/images/local/template/"+e.image,alt:""},on:{click:function(a){return t.selectTemplate(e)}}}),a("h3",{staticClass:"medium",staticStyle:{"font-weight":"700","margin-top":"-260px"}},[t._v(t._s(e.name))])])])})),1)],1),a("el-dialog",{attrs:{title:"Өнгө сонгох",visible:t.modals.chooseBackground,width:t.templateWidth+"%"},on:{"update:visible":function(e){return t.$set(t.modals,"chooseBackground",e)}}},[a("div",{attrs:{align:"center"}},[a("div",{staticClass:"mb-10"},[a("el-input-number",{attrs:{placeholder:"Хүснэгтийн өргөн",min:1},model:{value:t.table.width,callback:function(e){t.$set(t.table,"width",e)},expression:"table.width"}}),a("el-input-number",{staticClass:"ml-5",attrs:{placeholder:"Дээрээс авах зай",min:1},model:{value:t.table.top,callback:function(e){t.$set(t.table,"top",e)},expression:"table.top"}}),a("el-input-number",{staticClass:"ml-5",attrs:{placeholder:"Баруун талаас авах зай",min:1},model:{value:t.table.right,callback:function(e){t.$set(t.table,"right",e)},expression:"table.right"}}),a("el-input-number",{staticClass:"ml-5",attrs:{placeholder:"Фонт",min:1},model:{value:t.table.size,callback:function(e){t.$set(t.table,"size",e)},expression:"table.size"}})],1),a("div",{ref:"convertMe",staticStyle:{width:"800px",height:"auto",position:"relative"}},[a("table",{style:{position:"absolute",color:""+t.table.color,right:t.table.right+"px",top:t.table.top+"px","font-size":t.table.size+"px"},attrs:{width:t.table.width+"px"}},[a("tr",[a("th",{attrs:{colspan:"2"}},[t._v("Техникийн үзүүлэлт")])]),a("tr",[a("th",{staticClass:"px-4 px-xl-5 border-top-0",attrs:{width:"50%",align:"right"}},[t._v("Brand")]),a("td",{staticClass:"border-top-0 pl-10",attrs:{width:"50%"}},[t._v(t._s(t.product.detail.brandname))])]),a("tr",[a("th",{staticClass:"px-4 px-xl-5",attrs:{width:"50%",align:"right"}},[t._v("Model")]),a("td",{staticClass:"pl-10",attrs:{width:"50%"}},[t._v(t._s(t.product.detail.model))])]),a("tr",[a("th",{staticClass:"px-4 px-xl-5",attrs:{width:"50%",align:"right"}},[t._v("Color")]),a("td",{staticClass:"pl-10",attrs:{width:"50%"}},[t._v(t._s(t.product.detail.color_name))])]),t._l(t.checkSpecs(),(function(e){return a("tr",{key:e},[a("th",{staticClass:"px-4 px-xl-5",attrs:{width:"50%",align:"right"}},[t._v(t._s(e.replace("_"," ")))]),a("td",{staticClass:"pl-10",attrs:{width:"50%"}},[t._v(t._s(t.specs[0][e]))])])}))],2),a("img",{staticStyle:{width:"100%",height:"auto"},attrs:{src:t.backgroundBs64}})]),a("div",{staticClass:"block",staticStyle:{position:"absolute",right:"50px",top:"50px"}},[a("el-color-picker",{on:{change:t.changeColor},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),a("el-color-picker",{model:{value:t.table.color,callback:function(e){t.$set(t.table,"color",e)},expression:"table.color"}})],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.chooseBackground=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.convertCanvas}},[t._v("Татах")])],1)])],1)},sa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"none"}},[a("canvas",{attrs:{id:"textCanvas",height:"100",width:"200"}}),a("img",{attrs:{id:"imageCreate"}}),a("canvas",{attrs:{id:"textCanvasModel",height:"100",width:"200"}}),a("img",{attrs:{id:"imageModelCreate"}}),a("img",{attrs:{id:"backgroundImageSlot"}}),a("canvas",{attrs:{id:"CanvasBackground",height:"1000",width:"1000"}})])}],oa=(a("a9e3"),a("65478")),ra=a("be63"),na={name:"EcommerceProductDetail",data:function(){return{table:{width:280,color:"#fff",right:10,top:70,size:14},bgOutput:null,color:"#373435",backgroundBs64:"",specs:[],MoreDetail:[],templates:[],template:{image:"frame.jpg",marginX:0,marginY:0,logoX:0,logoY:0,descX:0,descY:0,modelX:0,modelY:0,priceX:0,priceY:0,showLogo:!1,showDesc:!1},rate:4,drawerWidth:30,templateWidth:70,imageHeight:100,loading:!1,qnt:1,activeTab:"description",product:{id:0,detail:[]},location:[],modals:{drawer:!1,chooseTemplate:!1,chooseBackground:!1},customColors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}],loggedUser:[],rma:[],brands:[],category:[],sub:[]}},mounted:function(){var t=document.querySelector(".main-photo img"),e=document.querySelector(".main-photo");this.loggedUser=JSON.parse(localStorage.getItem("user")),new oa["a"](t,{paneContainer:e,inlinePane:!1,zoomFactor:2}),this.product.id=this.$route.params.id,this.getInfo(),this.resizePopoverWidth(),window.addEventListener("resize",this.resizePopoverWidth)},beforeDestroy:function(){window.removeEventListener("resize",this.resizePopoverWidth)},computed:{filterSub:function(){var t=this,e=[];return this.sub.forEach((function(a){a.categoryID==t.product.detail.type&&e.push(a)})),e}},methods:{checkSpecs:function(){return this.specs.length>0?this.MoreDetail[0].specs.split("#"):0},convertCanvas:function(){var t=this;return Object(Xe["a"])(regeneratorRuntime.mark((function e(){var a,i,s,o,r,n,l,c,d,u,p,m,h,g,v,f,b,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=function(t,e,i){var s=new Image;s.crossOrigin="anonymous",s.onload=function(){e(a(this,i))},s.src=t},a=function(t,e){var a=t.style.width,i=t.style.height;t.style.width="auto",t.style.height="auto",t.crossOrigin="Anonymous";var s=document.createElement("canvas");s.width=t.width,s.height=t.height;var o=s.getContext("2d");o.drawImage(t,0,0),t.style.width=a,t.style.height=i;var r=s.toDataURL(e);return r},s=t,o=document.getElementById("CanvasBackground").getContext("2d"),r=document.getElementById("backgroundImageSlot"),o.fillStyle=t.color,o.fillRect(0,0,document.getElementById("CanvasBackground").width,document.getElementById("CanvasBackground").height),r.src=o.canvas.toDataURL(),n=r.src,l=document.getElementById("textCanvas").getContext("2d"),c=document.getElementById("imageCreate"),d=document.getElementById("textCanvasModel").getContext("2d"),u=document.getElementById("imageModelCreate"),l.clearRect(0,0,200,100),d.clearRect(0,0,200,100),l.font="25px 'Exo 2', sans-serif",p=Number(t.product.detail.sale_price).toLocaleString()+"₮",l.fillText(p,10,50),c.src=l.canvas.toDataURL(),m=c.src,h=document.getElementById("model-tag").textContent,h=h.split("-"),g="",v=0;v<h.length-1;v++)g+=""==g?h[v]:"-"+h[v];for(d.font="25px 'Exo 2', sans-serif",d.fillText(g,10,50),u.src=d.canvas.toDataURL(),f=u.src,b=function(e){t.loading=!0,i(s.$appUrl+"/images/local/template/"+s.template.image,function(){var t=Object(Xe["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(ra["a"])([{src:n},{src:a,x:0,y:0}]).then((function(t){i("https://api.tumentechno.mn/images/product/"+s.product.detail["image"+e],function(){var e=Object(Xe["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(ra["a"])([{src:t},{src:a,x:s.template.marginX,y:s.template.marginY}]).then((function(t){Object(ra["a"])([{src:t},{src:m,x:s.template.priceX,y:s.template.priceY}]).then((function(t){Object(ra["a"])([{src:t},{src:f,x:s.template.modelX,y:806}]).then(function(){var t=Object(Xe["a"])(regeneratorRuntime.mark((function t(e){var a,i,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s.backgroundBs64=e,a=s.$refs.convertMe,i={type:"dataURL"},t.next=5,s.$html2canvas(a,i);case 5:o=t.sent,r=document.createElement("a"),r.href=o,r.download=s.product.detail.model+"4.png",r.click(),s.loading=!1;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},_=1;_<5;_++)b(_);case 27:case"end":return e.stop()}}),e)})))()},changeColor:function(){this.selectedManual()},selectTemplate:function(t){this.template=t,this.DownloadImage()},getSpecs:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:"https://api.tumentechno.mn/api/admin/product-detail",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MzksImlhdCI6MTYyODY1NTcxNX0.cLwwj94A4nJL64lxjW6Lp3ly43kQZ4HHTo5mc_3kymU"},data:{model:this.product.detail.model}}).then((function(e){"success"==e.data.result&&(t.specs=e.data.specs,t.MoreDetail=e.data.single)})).catch((function(t){console.log(t)}))},getTemplates:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/get-post-template",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){"success"==e.data.result&&(t.templates=e.data.templates,t.getSpecs())})).catch((function(t){console.log(t)}))},DownloadImage:function(){var t=this;return Object(Xe["a"])(regeneratorRuntime.mark((function e(){var a,i,s,o,r,n,l,c,d,u,p,m,h,g,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=function(t,e,i){var s=new Image;s.crossOrigin="anonymous",s.onload=function(){e(a(this,i))},s.src=t},a=function(t,e){var a=t.style.width,i=t.style.height;t.style.width="auto",t.style.height="auto",t.crossOrigin="Anonymous";var s=document.createElement("canvas");s.width=t.width,s.height=t.height;var o=s.getContext("2d");o.drawImage(t,0,0),t.style.width=a,t.style.height=i;var r=s.toDataURL(e);return r},s=t,o=document.getElementById("textCanvas").getContext("2d"),r=document.getElementById("imageCreate"),n=document.getElementById("textCanvasModel").getContext("2d"),l=document.getElementById("imageModelCreate"),o.clearRect(0,0,200,100),n.clearRect(0,0,200,100),o.font="19px 'Exo 2', sans-serif",c=Number(t.product.detail.sale_price).toLocaleString()+"₮",o.fillText(c,10,50),r.src=o.canvas.toDataURL(),d=r.src,u=document.getElementById("model-tag").textContent,u=u.split("-"),p="",m=0;m<u.length-1;m++)p+=""==p?u[m]:"-"+u[m];if(n.font="19px 'Exo 2', sans-serif",n.fillText(p,10,50),l.src=n.canvas.toDataURL(),h=l.src,0==t.template.showLogo)if(0==t.template.showDesc)for(g=1;g<5;g++)i("https://api.tumentechno.mn/images/product/"+t.product.detail["image"+g],function(){var t=Object(Xe["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i(s.$appUrl+"/images/local/template/"+s.template.image,function(){var t=Object(Xe["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(ra["a"])([{src:a},{src:e,x:s.template.marginX,y:s.template.marginY}]).then((function(t){Object(ra["a"])([{src:t},{src:d,x:s.template.priceX,y:s.template.priceY}]).then((function(t){Object(ra["a"])([{src:t},{src:h,x:s.template.modelX,y:s.template.modelY}]).then((function(t){var e=document.createElement("a");e.href=t,e.download=s.product.detail.model+"4.png",e.click()}))}))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());else t.selectedManual(),t.modals.chooseTemplate=!1,t.modals.chooseBackground=!0;else for(s=t,v=1;v<5;v++)i("https://api.tumentechno.mn/images/product/"+s.product.detail["image"+v],function(){var t=Object(Xe["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i(s.$appUrl+"/images/local/template/"+s.template.image,function(){var t=Object(Xe["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i("https://api.tumentechno.mn/images/brand/"+s.MoreDetail[0].images,function(){var t=Object(Xe["a"])(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(ra["a"])([{src:a},{src:e,x:s.template.marginX,y:s.template.marginY}]).then((function(t){Object(ra["a"])([{src:t},{src:d,x:s.template.priceX,y:s.template.priceY}]).then((function(t){Object(ra["a"])([{src:t},{src:h,x:s.template.modelX,y:s.template.modelY}]).then((function(t){Object(ra["a"])([{src:t},{src:i,x:s.template.logoX,y:s.template.logoY}]).then((function(t){var e=document.createElement("a");e.href=t,e.download=s.product.detail.model+"4.png",e.click()}))}))}))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 21:case"end":return e.stop()}}),e)})))()},selectedManual:function(){function t(t,e){var a=t.style.width,i=t.style.height;t.style.width="auto",t.style.height="auto",t.crossOrigin="Anonymous";var s=document.createElement("canvas");s.width=t.width,s.height=t.height;var o=s.getContext("2d");o.drawImage(t,0,0),t.style.width=a,t.style.height=i;var r=s.toDataURL(e);return r}function e(e,a,i){var s=new Image;s.crossOrigin="anonymous",s.onload=function(){a(t(this,i))},s.src=e}var a=this,i=document.getElementById("CanvasBackground").getContext("2d"),s=document.getElementById("backgroundImageSlot");i.fillStyle=this.color,i.fillRect(0,0,document.getElementById("CanvasBackground").width,document.getElementById("CanvasBackground").height),s.src=i.canvas.toDataURL();var o=s.src,r=document.getElementById("textCanvas").getContext("2d"),n=document.getElementById("imageCreate"),l=document.getElementById("textCanvasModel").getContext("2d"),c=document.getElementById("imageModelCreate");r.clearRect(0,0,200,100),l.clearRect(0,0,200,100),r.font="25px 'Exo 2', sans-serif";var d=Number(this.product.detail.sale_price).toLocaleString()+"₮";r.fillText(d,10,50),n.src=r.canvas.toDataURL();var u=n.src,p=document.getElementById("model-tag").textContent;p=p.split("-");for(var m="",h=0;h<p.length-1;h++)m+=""==m?p[h]:"-"+p[h];l.font="25px 'Exo 2', sans-serif",l.fillText(m,10,50),c.src=l.canvas.toDataURL();var g=c.src;e(a.$appUrl+"/images/local/template/"+a.template.image,function(){var t=Object(Xe["a"])(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(ra["a"])([{src:o},{src:i,x:0,y:0}]).then((function(t){e("https://api.tumentechno.mn/images/product/"+a.product.detail.image1,function(){var e=Object(Xe["a"])(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(ra["a"])([{src:t},{src:i,x:a.template.marginX,y:a.template.marginY}]).then((function(t){Object(ra["a"])([{src:t},{src:u,x:a.template.priceX,y:a.template.priceY}]).then((function(t){Object(ra["a"])([{src:t},{src:g,x:a.template.modelX,y:806}]).then((function(t){a.backgroundBs64=t}))}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},editProduct:function(){var t=this;this.$confirm("Хадгалахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Үгүй",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){var e=t;t.loading=!0;var a=localStorage.getItem("token");a&&t.$axios({method:"post",url:e.$appUrl+"/api/product/edit-product",headers:{Authorization:"Bearer ".concat(a)},data:{product:t.product.detail,role:t.loggedUser.posID}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"<strong>".concat(e.product.detail.model,"</strong> шинэчлэгдлээ"),type:"success"}),e.modals.drawer=!1)})).catch((function(t){e.loading=!1,console.log(t)}))}))},resizePopoverWidth:function(){window.innerWidth<=768?(this.drawerWidth=100,this.templateWidth=90):(this.drawerWidth=30,this.templateWidth=70);var t=this.$refs.imageDiv.offsetWidth,e=t/100*92;this.imageHeight=e},getRma:function(t){var e=0;return this.rma.forEach((function(a){a.storeId==t.code&&(e=a.total)})),e},deleteProduct:function(){var t=this;this.$confirm("Утсгахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Үгүй",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){var e=t;t.loading=!0;var a=localStorage.getItem("token");a&&t.$axios({method:"post",url:e.$appUrl+"/api/product/delete-product",headers:{Authorization:"Bearer ".concat(a)},data:{id:t.product.id}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"<strong>".concat(e.product.detail.model,"</strong> устгагдлаа"),type:"success"}),e.$router.push("/products"))})).catch((function(t){e.loading=!1,console.log(t)}))}))},addToCart:function(t,e){if(this.qnt>this.product.detail.total)this.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Үлдэгдэл хүрэлцэхгүй байна",type:"error"});else{var a=this,i=localStorage.getItem("token");i&&this.$axios({method:"post",url:a.$appUrl+"/api/product/add-cart",headers:{Authorization:"Bearer ".concat(i)},data:{id:t,qty:this.qnt}}).then((function(t){"success"==t.data.result&&a.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"<strong>".concat(e,"</strong> бүтээгдэхүүн нэмэгдлээ"),type:"success"})})).catch((function(t){console.log(t)}))}},getInfo:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/product-detail",headers:{Authorization:"Bearer ".concat(e)},data:{id:this.product.id}}).then((function(e){"success"==e.data.result&&(document.querySelector("head title").textContent=e.data.product.model+" "+e.data.product.name,t.product.detail=e.data.product,t.location=e.data.loc,t.rma=e.data.rma,t.brands=e.data.brands,t.category=e.data.category,t.sub=e.data.sub,t.getTemplates())})).catch((function(t){console.log(t)}))}}},la=na,ca=(a("3414"),Object(x["a"])(la,ia,sa,!1,null,null,null)),da=ca.exports,ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-ecommerce-product-detail scrollable only-y"},[a("el-breadcrumb",{staticClass:"themed",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:"/products"}},[t._v("Бүтээгдэхүүний жагсаалт")]),a("el-breadcrumb-item",[t._v(t._s(t.product.detail.model))])],1),a("el-row",{staticClass:"mt-30"},[a("el-col",[a("div",{staticClass:"item-box card-shadow--medium"},[a("el-row",[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:8,xl:8}},[a("div",{staticClass:"gallery-box"},[a("div",{staticClass:"main-photo"},[a("img",{attrs:{src:t.$appUrl+"/images/local/product/"+t.product.detail.image,"data-zoom":t.$appUrl+"/images/local/product/"+t.product.detail.image}})])])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:16,xl:16}},[a("div",{staticClass:"detail-box"},[a("h1",{staticClass:"title"},[t._v(t._s(t.product.detail.name))]),a("h4",{staticClass:"title"},[t._v(t._s(t.product.detail.model)),a("span",{staticClass:"o-080"},[t._v(" "+t._s(t.product.detail.color_name))])]),a("div",{staticClass:"rate"},[a("el-rate",{staticStyle:{width:"120px",display:"inline-block"},attrs:{disabled:""},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}}),a("span",{staticClass:"review fs-12 o-070"},[t._v("(0 customer review)")])],1),a("div",{staticClass:"price-box"},[a("span",{staticClass:"discounted-price"},[t._v("₮ "+t._s(Number(t.product.detail.sale_price).toLocaleString()))]),a("span",{staticClass:"discounted-price o-060",style:{color:"black","font-size":"15px","margin-left":"-10px"}},[t._v("₮ "+t._s(Number(t.product.detail.wholesale_price).toLocaleString()))]),t.product.detail.discount>0?a("span",{staticClass:"discount"},[t._v(t._s(t.product.detail.discount)+"% off")]):t._e()]),a("div",{staticClass:"price-box",style:{"margin-top":"-20px"}},[t._v(" Нийт үлдэгдэл: "),t.product.detail.qty>200?a("strong",[t._v("200+")]):a("strong",[t._v(t._s(Number(t.product.detail.qty).toLocaleString()))])]),a("div",{staticClass:"actions-box"},[a("el-button-group",[a("el-button",{staticClass:"mb-2 themed mr-10 ",attrs:{plain:""},on:{click:function(e){t.modals.drawer=!0}}},[a("i",{staticClass:"el-icon-s-tools"})]),a("el-button",{attrs:{plain:""},on:{click:t.deleteProduct}},[a("i",{staticClass:"el-icon-delete"})])],1)],1)])])],1)],1)])],1),t.loggedUser.posID<6?a("el-row",{staticClass:"mt-20"},[a("el-col",[a("div",{staticClass:"item-box p-30"},[a("el-tabs",{staticClass:"themed",model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"Салбарын үлдэгдэлүүд",name:"description"}},[a("div",{staticClass:"table-box card-base card-shadow--medium scrollable only-x"},[a("table",{staticClass:"styled striped"},[a("thead",[a("tr",{style:{"font-size":"14px"}},[a("th",[t._v("Салбарын нэр")]),a("th",[t._v("Үлдэгдэл")]),a("th",[t._v("Гэмтэлтэй")]),a("th",[t._v("Нийт үлдэгдлээс эзлэх хувь")])])]),a("tbody",t._l(t.location,(function(e){return a("tr",{key:e.code},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(Number(t.product.detail[e.code]).toLocaleString()))]),a("td",[t._v(t._s(t.getRma(e)))]),a("td",[t.product.detail.total>0?a("el-progress",{attrs:{percentage:100*t.product.detail[e.code]/t.product.detail.total,"show-text":!1,color:t.customColors}}):a("el-progress",{attrs:{percentage:0,"show-text":!1,color:t.customColors}})],1)])})),0)])])]),a("el-tab-pane",{attrs:{label:"Reviews (0)",name:"reviews"}},[t._v(" Leave a review ")])],1)],1)])],1):t._e(),a("el-drawer",{attrs:{title:"Бүтээгдэхүүн засварлах",visible:t.modals.drawer,size:t.drawerWidth+"%"},on:{"update:visible":function(e){return t.$set(t.modals,"drawer",e)}}},[a("div",{staticClass:"ml-20 mr-20"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{attrs:{placeholder:"Бүтээгдэхүүний нэр",clearable:""},model:{value:t.product.detail.name,callback:function(e){t.$set(t.product.detail,"name",e)},expression:"product.detail.name"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{attrs:{placeholder:"Бүтээгдэхүүний модель",clearable:""},model:{value:t.product.detail.model,callback:function(e){t.$set(t.product.detail,"model",e)},expression:"product.detail.model"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{attrs:{placeholder:"Бөөний үнэ",clearable:""},model:{value:t.product.detail.wholesale_price,callback:function(e){t.$set(t.product.detail,"wholesale_price",e)},expression:"product.detail.wholesale_price"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{attrs:{placeholder:"Худалдах үнэ",clearable:""},model:{value:t.product.detail.sale_price,callback:function(e){t.$set(t.product.detail,"sale_price",e)},expression:"product.detail.sale_price"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Брэнд"},model:{value:t.product.detail.brand,callback:function(e){t.$set(t.product.detail,"brand",e)},expression:"product.detail.brand"}},t._l(t.brands,(function(t,e){return a("el-option",{key:e,attrs:{label:t.brandname,value:t.id}})})),1)],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Үндсэн категори"},model:{value:t.product.detail.type,callback:function(e){t.$set(t.product.detail,"type",e)},expression:"product.detail.type"}},t._l(t.category,(function(t,e){return a("el-option",{key:e,attrs:{label:t.category_name,value:t.id}})})),1)],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Дэд категори"},model:{value:t.product.detail.category_sub_id,callback:function(e){t.$set(t.product.detail,"category_sub_id",e)},expression:"product.detail.category_sub_id"}},t._l(t.filterSub,(function(t,e){return a("el-option",{key:e,attrs:{label:t.sub_category_name,value:t.id}})})),1)],1),a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24,align:"center"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"danger",plain:""},on:{click:function(e){return t.$refs.image.click()}}},[a("i",{staticClass:"el-icon-upload"}),t._v(" Зураг байршуулах")])],1),a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24,align:"center"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"info",plain:""},on:{click:t.editProduct}},[t._v("Хадгалах")])],1)],1)],1)]),a("input",{ref:"image",attrs:{type:"file",accept:"image/*",hidden:"",id:"image"},on:{change:t.onProfileImageSelected}})],1)},pa=[],ma={name:"EcommerceProductDetail",data:function(){return{rate:4,qnt:1,activeTab:"description",product:{id:0,detail:[]},modals:{drawer:!1},location:[],customColors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}],loggedUser:[],rma:[],drawerWidth:30,brands:[],category:[],sub:[]}},computed:{filterSub:function(){var t=this,e=[];return this.sub.forEach((function(a){a.categoryID==t.product.detail.type&&e.push(a)})),e}},mounted:function(){var t=document.querySelector(".main-photo img"),e=document.querySelector(".main-photo");this.loggedUser=JSON.parse(localStorage.getItem("user")),new oa["a"](t,{paneContainer:e,inlinePane:!1,zoomFactor:2}),this.product.id=this.$route.params.id,this.getInfo(),this.resizePopoverWidth(),window.addEventListener("resize",this.resizePopoverWidth)},methods:{updateImage:function(){this.loading=!0;var t=this,e=localStorage.getItem("token");if(this.selectedFile){var a=new FormData;a.append("photo",this.selectedFile,this.selectedFile.name),a.append("product",JSON.stringify(this.product.detail)),this.$axios.post(this.$appUrl+"/api/product/update-customer-product-image",a,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result?(t.product.detail.image=e.data.image,t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Амжилттай шинэчлэгдлээ.<br><strong>Түр хүлээнэ үү</strong>",type:"success"})):"notfound"==e.data.result&&t.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Бүтээгдэхүүн олдсонгүй",type:"error"})})).catch((function(e){t.loading=!1,console.log(e)}))}},onProfileImageSelected:function(t){var e=this,a=t.target.files[0];this.selectedFile=a,this.$confirm("Бүтээгдэхүүний зураг шинэчлэхдээ итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){e.updateImage()})).catch((function(){e.selectedFile="",e.$refs.image.value=""}))},editProduct:function(){alert("asdfa")},resizePopoverWidth:function(){window.innerWidth<=768?this.drawerWidth=100:this.drawerWidth=30},getRma:function(t){var e=0;return this.rma.forEach((function(a){a.storeId==t.code&&(e=a.total)})),e},deleteProduct:function(){var t=this;this.$confirm("Утсгахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Үгүй",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){var e=t;t.loading=!0;var a=localStorage.getItem("token");a&&t.$axios({method:"post",url:e.$appUrl+"/api/product/delete-customer-product",headers:{Authorization:"Bearer ".concat(a)},data:{id:t.product.id,image:t.product.image}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"<strong>".concat(e.product.detail.model,"</strong> устгагдлаа"),type:"success"}),e.$router.push("/products"))})).catch((function(t){e.loading=!1,console.log(t)}))}))},addToCart:function(t,e){if(this.qnt>this.product.detail.total)this.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Үлдэгдэл хүрэлцэхгүй байна",type:"error"});else{var a=this,i=localStorage.getItem("token");i&&this.$axios({method:"post",url:a.$appUrl+"/api/product/add-cart",headers:{Authorization:"Bearer ".concat(i)},data:{id:t,qty:this.qnt}}).then((function(t){"success"==t.data.result&&a.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"<strong>".concat(e,"</strong> бүтээгдэхүүн нэмэгдлээ"),type:"success"})})).catch((function(t){console.log(t)}))}},getInfo:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/product-detail-customer",headers:{Authorization:"Bearer ".concat(e)},data:{id:this.product.id}}).then((function(e){"success"==e.data.result?(document.querySelector("head title").textContent=e.data.product.model+" "+e.data.product.name,t.product.detail=e.data.product,t.brands=e.data.brands,t.category=e.data.category,t.sub=e.data.sub):t.$router.push({name:"not-found"})})).catch((function(t){console.log(t)}))}}},ha=ma,ga=(a("8abd"),Object(x["a"])(ha,ua,pa,!1,null,null,null)),va=ga.exports,fa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-ecommerce-cart scrollable"},[i("el-row",{staticClass:"cart-box",attrs:{gutter:20}},[i("el-col",{attrs:{xs:24,sm:16,md:18,lg:18,xl:18}},[i("el-row",{staticClass:"item-list"},[i("el-col",{staticClass:"mb-20"},[i("el-breadcrumb",{staticClass:"mt-10 themed",attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:"/products"}},[t._v("Бүтээгдэхүүний жагсаалт")]),i("el-breadcrumb-item",[t._v("Сагс")])],1)],1),t.product.length>0?i("div",[t._l(t.product,(function(e){return i("el-col",{key:e.id},[i("div",{staticClass:"item mb-20 flex card-shadow--small b-rad-4",style:{"border-radius":"10px"}},[i("div",{staticClass:"photo"},[i("router-link",{attrs:{to:"/product-detail/"+e.id}},[i("img",{staticClass:"product-image",attrs:{src:t.$imgUrl+e.image}})])],1),i("div",{staticClass:"box grow flex column justify-center"},[i("div",{staticClass:"product-name",staticStyle:{"font-size":"15px"}},[t._v(" "+t._s(e.model)+" "),i("span",{staticClass:"o-080"},[i("br"),t._v(t._s(e.name))])]),i("div",{staticClass:"price"},[t._v("₮ "+t._s(Number(e.wholesale_price).toLocaleString()))])]),i("div",{staticClass:"box grow flex center text-center"},[i("div",[i("span",{staticClass:"ics"},[t._v("X")]),t.LoggedUser.posID<6?i("el-input-number",{staticClass:"themed ml-10",attrs:{"controls-position":"right",min:1,max:e[t.position]},model:{value:e.quantity,callback:function(a){t.$set(e,"quantity",a)},expression:"i.quantity"}}):i("el-input-number",{staticClass:"themed ml-10",attrs:{"controls-position":"right",min:1,max:e.total},model:{value:e.quantity,callback:function(a){t.$set(e,"quantity",a)},expression:"i.quantity"}})],1)]),i("div",{staticClass:"box grow flex center text-center"},[t.LoggedUser.posID<6?i("div",[t._v(" "+t._s(e[t.position])+" ")]):i("div",[t._v(" "+t._s(e.total)+" ")])]),i("div",{staticClass:"box grow flex align-center"},[i("div",{staticClass:"text-right box grow"},[i("button",{staticClass:"del-btn",on:{click:function(a){return t.removeProduct(e.id)}}},[i("i",{staticClass:"mdi mdi-delete"})])])])])])})),i("el-col",[i("div",{staticClass:"item mb-20 flex card-shadow--small b-rad-4",style:{"border-radius":"10px"}},[i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Захиалгын утга (заавал биш)"},model:{value:t.orderValue,callback:function(e){t.orderValue=e},expression:"orderValue"}})],1)])],2):i("div",[i("el-col",[i("div",{staticClass:"widget card-shadow--small b-rad-4 pt-100 pb-100",style:{"border-radius":"10px"},attrs:{align:"center"}},[i("img",{attrs:{src:a("ec17"),alt:""}}),i("div",{staticClass:"mt-10",attrs:{align:"center"}},[t._v(" ТАНЫ САГС ХООСОН БАЙНА ")])])])],1)],1)],1),i("el-col",{attrs:{xs:24,sm:8,md:6,lg:6,xl:6}},[i("div",{staticClass:"widget card-shadow--small b-rad-4 mt-43",style:{"border-radius":"10px"}},[i("div",{staticClass:"title flex justify-space-between align-center"},[t._v(" НИЙТ ДҮН ")]),i("div",{staticClass:"content"},[i("div",{staticClass:"fs-30"},[t._v("₮ "+t._s(t.amount_text))]),6!==t.LoggedUser.posID?i("el-select",{staticClass:"mt-10",staticStyle:{width:"100%"},attrs:{placeholder:"Захиалгын төрөл"},model:{value:t.selectedDirection,callback:function(e){t.selectedDirection=e},expression:"selectedDirection"}},t._l(t.directions,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):t._e(),1==t.selectedDirection&&6!==t.LoggedUser.posID?i("el-select",{staticClass:"mt-10",staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Салбар"},on:{change:t.changePosition},model:{value:t.currentPosition,callback:function(e){t.currentPosition=e},expression:"currentPosition"}},t._l(t.positions,(function(t){return i("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),1):t._e(),i("button",{attrs:{disabled:t.product.length<=0||1==t.orderBtn},on:{click:t.gotoCheckout}},[t._v("Захиалах")])],1)]),i("div",{staticClass:"widget card-shadow--small b-rad-4",style:{"border-radius":"10px"}},[i("div",{staticClass:"title flex justify-space-between align-center"},[t._v(" Бүтээгдэхүүн нэмэх ")]),i("div",{staticClass:"content"},[i("el-row",{staticClass:"items"},[i("div",[i("el-input",{attrs:{placeholder:"Модель эсвэл нэр ..."},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProduct(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[i("template",{slot:"append"},[i("a",{attrs:{href:"javascript:;"},on:{click:t.searchProduct}},[i("i",{staticClass:"mdi mdi-database-search"})])])],2)],1)])],1)]),i("div",{staticClass:"widget card-shadow--small b-rad-4",style:{"border-radius":"10px"}},[i("div",{staticClass:"title flex justify-space-between align-center"},[t._v(" Холбоо барих ")]),i("div",{staticClass:"content"},[i("div",[i("div",[i("i",{staticClass:"mdi mdi-email mr-10"}),t._v(" info@icbc.mn")]),i("div",{staticClass:"mt-10"},[i("i",{staticClass:"mdi mdi-phone mr-10"}),t._v(" 7511-7733")])])])])])],1),i("el-dialog",{attrs:{title:"Хайлтын илэрц",visible:t.modals.resultSearchModal,width:"80%"},on:{"update:visible":function(e){return t.$set(t.modals,"resultSearchModal",e)}}},[i("div",{staticClass:"table-box card-base card-shadow--medium",staticStyle:{overflow:"auto"}},[i("table",{staticClass:"styled striped"},[i("thead",[i("tr",{style:{"font-size":"14px"}},[i("th",[t._v("Зураг")]),i("th",[t._v("Нэр")]),i("th",[t._v("Модель")]),i("th",[t._v("Өнгө")]),i("th")])]),i("tbody",t._l(t.gridData,(function(e){return i("tr",{key:e.code},[i("td",[i("img",{style:{width:"50px",height:"auto"},attrs:{src:t.$imgUrl+e.image,alt:""}})]),i("td",[t._v(t._s(e.name))]),i("td",[t._v(t._s(e.model))]),i("td",[t._v(t._s(e.color_name))]),i("td",[i("el-button",{attrs:{icon:"el-icon-sell",size:"mini",type:"primary",circle:""},on:{click:function(a){return t.addToCart(e)}}})],1)])})),0)])])])],1)},ba=[],_a=(a("13d5"),a("c1df")),ya=a.n(_a),xa=new $e.a,wa={name:"EcommerceCart",data:function(){return{orderBtn:!1,items:[],cart:[],product:[],search:"",modals:{resultSearchModal:!1},selectedDirection:1,orderValue:"",directions:[{value:1,label:"Дотоод захиалга"}],gridData:[],position:"remain",currentPosition:"remain",positions:[],LoggedUser:[]}},computed:{amount:function(){return _.reduce(this.product,(function(t,e){return t+e.wholesale_price*e.quantity}),0)},amount_text:function(){return Number(this.amount).toLocaleString()}},mounted:function(){this.LoggedUser=JSON.parse(localStorage.user),this.getProduct(this.position)},methods:{changePosition:function(){this.getProduct(this.currentPosition)},addToCart:function(t){var e=this,a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/product/add-cart",headers:{Authorization:"Bearer ".concat(a)},data:{id:t.id,qty:1}}).then((function(a){if("success"==a.data.result){var i=e.product.some((function(e){return e.id==t.id}));if(i)e.product.forEach((function(a,i){a.id===t.id&&e.product[i].quantity++}));else{var s={id:t.id,image:t.image,model:t.model,name:t.name,quantity:1,remain:t[e.position],wholesale_price:t.wholesale_price};e.product.push(s)}e.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"<strong>".concat(t.model,"</strong> бүтээгдэхүүн нэмэгдлээ"),type:"success"})}})).catch((function(t){console.log(t)}))},searchProduct:function(){if(""!==this.search){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/products",headers:{Authorization:"Bearer ".concat(e)},data:{brand:[],page:1,color:[],price:[0,0],category:[],search:this.search}}).then((function(e){"success"==e.data.result&&(t.gridData=e.data.product,t.modals.resultSearchModal=!0)})).catch((function(t){console.log(t)}))}else this.$notify({title:"Алдаа",message:"Хайлтын утгаа оруулна уу",type:"error"})},removeProduct:function(t){var e=this,a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/product/remove-cart",headers:{Authorization:"Bearer ".concat(a)},data:{id:t}}).then((function(a){if("success"==a.data.result){e.$notify({title:"Амжилттай",message:"Бүтээгдэхүүн хасагдлаа",type:"success"});var i=e.product.some((function(e){return e.id==t}));i&&e.product.forEach((function(a,i){a.id==t&&e.product.splice(i,1)}))}})).catch((function(t){console.log(t)}))},getProduct:function(t){var e=this,a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/product/cart",headers:{Authorization:"Bearer ".concat(a)},data:{position:t}}).then((function(t){console.log(t),e.product=t.data.product,e.positions=t.data.position,e.position=e.currentPosition})).catch((function(t){console.log(t)}))},gotoCheckout:function(){var t=this;return Object(Xe["a"])(regeneratorRuntime.mark((function e(){var a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,i=localStorage.getItem("token"),e.next=4,t.ChangeCartQty();case 4:s=e.sent,"success"==s&&1===t.selectedDirection&&("remain"===t.currentPosition?(t.orderBtn=!0,t.$axios({method:"post",url:a.$appUrl+"/api/order/create-order",headers:{Authorization:"Bearer ".concat(i)},data:{product:t.product,ordervalue:t.orderValue,role:t.LoggedUser.posID}}).then((function(t){a.orderBtn=!1,"failed"===t.data.result?a.$notify({title:"Амжилтгүй",message:t.data.msg,type:"error"}):"success"===t.data.result&&(a.$notify({title:"Амжилттай",message:"Захиалга илгээгдлээ",type:"success"}),a.product=[],a.$router.push("/orders"))})).catch((function(t){a.orderBtn=!1,console.log(t)}))):(t.orderBtn=!0,t.$axios({method:"post",url:a.$appUrl+"/api/order/create-movement",headers:{Authorization:"Bearer ".concat(i)},data:{product:t.product,ordervalue:t.orderValue,toLocation:t.currentPosition}}).then((function(t){a.orderBtn=!1,"failed"===t.data.result?a.$notify({title:"Амжилтгүй",message:t.data.msg,type:"error"}):"success"===t.data.result&&(a.$notify({title:"Амжилттай",message:"Захиалга илгээгдлээ",type:"success"}),a.product=[])})).catch((function(t){a.orderBtn=!1,console.log(t)}))));case 6:case"end":return e.stop()}}),e)})))()},initCartData:function(){var t=this;_.times(5,(function(e){var a=xa.floating({min:30,max:100,fixed:2}),i=xa.integer({min:1,max:5});t.cart.push({id:e,photo:"/static/images/shop/"+xa.integer({min:0,max:19})+".jpg",product:xa.sentence({words:3}),price:a,price_text:_.replace(a.toFixed(2).toString(),".",","),qnt:i})}))},initItemsData:function(){var t=this;_.times(5,(function(e){var a=xa.floating({min:30,max:100,fixed:2});t.items.push({id:e,photo:"/static/images/shop/"+xa.integer({min:0,max:19})+".jpg",product:xa.sentence({words:3}),price:_.replace(a.toFixed(2).toString(),".",",")})}))},ChangeCartQty:function(){var t=this;return Object(Xe["a"])(regeneratorRuntime.mark((function e(){var a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t,i=localStorage.getItem("token"),!i){e.next=7;break}return e.next=5,t.$axios({method:"post",url:a.$appUrl+"/api/product/change-cart-qty",headers:{Authorization:"Bearer ".concat(i)},data:{product:t.product}}).then((function(t){if("success"==t.data.result)return"success"})).catch((function(t){return console.log(t),"failed"}));case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.initCartData(),this.initItemsData()},beforeRouteLeave:function(t,e,a){var i=this;return Object(Xe["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i.product.length>0?(e=i,s=localStorage.getItem("token"),s&&i.$axios({method:"post",url:e.$appUrl+"/api/product/change-cart-qty",headers:{Authorization:"Bearer ".concat(s)},data:{product:i.product}}).then((function(t){"success"==t.data.result&&a()})).catch((function(t){console.log(t)}))):a();case 1:case"end":return t.stop()}}),t)})))()}},Ca=wa,ka=(a("b989"),Object(x["a"])(Ca,fa,ba,!1,null,null,null)),Sa=ka.exports,$a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Захиалгын жагсаалт")])],1),a("el-button-group",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Шинэ захиалга үүсгэх",placement:"top-end"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-edit",size:"mini"},on:{click:function(e){return t.$router.push("/cart")}}})],1)],1)],1)]),a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.datePickerChanged},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}})],1),a("el-input",{style:{width:"20%"},attrs:{placeholder:"Захиалгын дугаар ...","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchOrder(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"page-ecommerce-dashboard scrollable",style:{"max-height":"87%"}},[a("div",{staticClass:"table-box card-base card-outline",style:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",[t._v("Ажилтан")]),a("th",[t._v("Үүсгэсэн огноо")]),a("th",[t._v("Захиалгын дугаар")]),a("th",[t._v("Төлөв")]),6==t.LoggedUser.posID||4==t.LoggedUser.posID?a("th",[t._v("Төлбөр")]):t._e()])]),a("tbody",t._l(t.orders,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"},on:{click:function(a){return t.goOrder(e.order_number)}}},[a("td",[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/user/"+e.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.name))]),void 0!=e.shop?a("p",{staticClass:"m-0"},[t._v(t._s(e.shop))]):t._e()])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.created_at.replaceAll("T"," ").replaceAll(".000Z"," ")))])])]),a("td",[a("div",{staticClass:"item-box item-location"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.order_number))])])]),a("td",{staticStyle:{"max-width":"150px"}},[a("div",{staticClass:"item-box item-status",class:{"status-Pending":1==e.stat,"status-Complete":2==e.stat,"status-Returned":3==e.stat},style:{"border-radius":"5px"}},[1==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Хүлээгдэж байгаа")]):2==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Зөвшөөрөгдсөн")]):3==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Татгалзсан")]):t._e(),2==e.stat||3==e.stat?a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.updated_at.replaceAll("T"," ").replaceAll(".000Z"," ")))]):a("p",{staticClass:"m-0 o-060"},[t._v("-")])])]),6==t.LoggedUser.posID||4==t.LoggedUser.posID?a("td",{staticStyle:{"max-width":"150px"},style:{"border-radius":"5px"}},[a("div",{staticClass:"item-box item-status",class:{"status-Complete":1==e.paid,"status-Returned":0==e.paid}},[1==e.paid?a("h4",{staticClass:"m-0 mb-5"},[t._v("PAID")]):0==e.paid?a("h4",{staticClass:"m-0 mb-5"},[t._v("UNPAID")]):t._e(),"false"==e.read_it?a("p",{staticClass:"m-0 o-060"},[t._v("Хүлээж аваагүй")]):a("p",{staticClass:"m-0 o-060"},[t._v("Хүлээж авсан")])])]):t._e()])})),0)])])])])},Ia=[],za=a("5530"),Ta=(a("0d7a"),a("8428")),La=(new $e.a,{name:"Order",data:function(){return{dataTimeRange:null,search:"",gridData:[],orders:[],loading:!1,LoggedUser:[]}},methods:{goOrder:function(t){this.$router.push({name:"ecommerce-show-order",params:{id:t}})},datePickerChanged:function(t){if(null!=t){var e=Object(za["a"])(Object(za["a"])({},this.$route.query),{},{start:t[0],end:t[1]});this.$router.replace({query:e})}else this.dataTimeRange=t;this.getOrders(t)},getOrders:function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/order/get-order",headers:{Authorization:"Bearer ".concat(a)},data:{datetime:t}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.orders=t.data.orders)})).catch((function(t){e.loading=!1,console.log(t)}))},searchOrder:function(){if(""!==this.search){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/search-order",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:this.search}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.orders=e.data.orders)})).catch((function(e){t.loading=!1,console.log(e)}))}}},mounted:function(){this.LoggedUser=JSON.parse(localStorage.getItem("user"));var t=this.$route.query;void 0!=t.start&&void 0!=t.end&&(this.dataTimeRange=[t.start,t.end]),this.getOrders(this.dataTimeRange)},components:{Grid:Ta["Grid"]}}),Ua=La,Ba=(a("62d9"),Object(x["a"])(Ua,$a,Ia,!1,null,null,null)),Ea=Ba.exports,Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Ирж байгаа захиалгын жагсаалт")])],1),a("el-button-group",[1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Шинэ захиалга үүсгэх",placement:"top-end"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-edit",size:"mini"},on:{click:function(e){return t.$router.push("/import-edit")}}})],1):t._e()],1)],1)]),a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.datePickerChanged},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}})],1),a("el-input",{style:{width:"20%"},attrs:{placeholder:"Захиалгын дугаар ...","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchOrder(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"page-ecommerce-dashboard scrollable",style:{"max-height":"87%"}},[a("div",{staticClass:"table-box card-base card-outline",style:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",[t._v("Захиалга")]),a("th",[t._v("Үүсгэсэн огноо")]),a("th",[t._v("Захиалгын дугаар")]),a("th",[t._v("Төлөв")]),1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("th"):t._e()])]),a("tbody",t._l(t.orders,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"}},[a("td",{on:{click:function(a){return t.goOrder(e.ordernumber)}}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.name))])])]),a("td",{on:{click:function(a){return t.goOrder(e.ordernumber)}}},[a("div",{staticClass:"item-box item-location"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.created_at.replaceAll("T"," ").replaceAll(".000Z"," ")))])])]),a("td",{on:{click:function(a){return t.goOrder(e.ordernumber)}}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.ordernumber))])])]),a("td",{staticStyle:{"max-width":"150px"},on:{click:function(a){return t.goOrder(e.ordernumber)}}},[a("div",{staticClass:"item-box item-status",class:{"status-Pending":0==e.stat,"status-Complete":1==e.stat},style:{"border-radius":"5px"}},[0==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Хүлээгдэж байгаа")]):1==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Ирсэн")]):t._e(),1==e.stat?a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.updated_at.split("T")[0]))]):a("p",{staticClass:"m-0 o-060"},[t._v("-")])])]),1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("td",[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-s-tools",size:"small",circle:""}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return t.changeStatus(e)}}},[a("i",{staticClass:"el-icon-edit"}),t._v(" Төлөв шинэчлэх")]),a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(a){return t.deleteImport(e)}}},[a("i",{staticClass:"el-icon-delete"}),t._v(" Устгах")])],1)],1)],1):t._e()])})),0)])]),a("el-dialog",{attrs:{title:"Төлөв өөрчлөх",visible:t.modals.changeStatus,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"changeStatus",e)}}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Төлвөө сонгоно уу"},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}},t._l(t.status,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.stat}})})),1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.changeStatus=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveChangedStatus}},[t._v("Хадгалах")])],1)],1)],1)])},Oa=[],Pa=(new $e.a,{name:"Order",data:function(){return{dataTimeRange:null,search:"",gridData:[],orders:[],loading:!1,LoggedUser:[],status:[{label:"Хүлээгдэж байгаа",stat:!1},{label:"Ирсэн",stat:!0}],selectedStatus:!1,selectedItem:[],modals:{changeStatus:!1}}},methods:{saveChangedStatus:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/change-import-status",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:this.selectedItem.ordernumber,status:this.selectedStatus}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.selectedItem.stat=t.selectedStatus,t.selectedItem.updated_at=e.data.dt,console.log(e.data.dt))})).catch((function(e){t.loading=!1,console.log(e)}))},changeStatus:function(t){this.selectedItem=t,this.modals.changeStatus=!0},deleteImport:function(t){var e=this;this.$confirm("<strong>".concat(t.name,"</strong> -г устгахдаа итгэлтэй байна уу?"),"Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Үгүй",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){var a=e;e.loading=!0;var i=localStorage.getItem("token");i&&e.$axios({method:"post",url:a.$appUrl+"/api/order/delete-import",headers:{Authorization:"Bearer ".concat(i)},data:{ordernumber:t.ordernumber}}).then((function(e){a.loading=!1,"success"==e.data.result&&a.orders.forEach((function(e,i){e.ordernumber==t.ordernumber&&a.orders.splice(i,1)}))})).catch((function(t){a.loading=!1,console.log(t)}))}))},goOrder:function(t){this.$router.push({name:"import",params:{id:t}})},datePickerChanged:function(t){this.getOrders(t)},getOrders:function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/order/get-imports",headers:{Authorization:"Bearer ".concat(a)},data:{datetime:t}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.orders=t.data.imports)})).catch((function(t){e.loading=!1,console.log(t)}))},searchOrder:function(){if(""!==this.search){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/search-imports",headers:{Authorization:"Bearer ".concat(e)},data:{search:this.search}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.orders=e.data.imports)})).catch((function(e){t.loading=!1,console.log(e)}))}}},mounted:function(){this.LoggedUser=JSON.parse(localStorage.getItem("user")),this.getOrders(this.dataTimeRange)},components:{Grid:Ta["Grid"]}}),ja=Pa,Na=(a("1817"),Object(x["a"])(ja,Da,Oa,!1,null,null,null)),Ra=Na.exports,Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"scrollable page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",{attrs:{to:{path:"/imports"}}},[t._v("Ирж байгаа захиалга")]),a("el-breadcrumb-item",[t._v("Гадаад захиалга үүсгэх")])],1)],1)]),a("div",{staticClass:"cart-box"},[a("div",[a("el-select",{staticClass:"mobile-filter",attrs:{filterable:"",placeholder:"Брэнд",size:"mini"},model:{value:t.options.brand,callback:function(e){t.$set(t.options,"brand",e)},expression:"options.brand"}},t._l(t.brands,(function(t,e){return a("el-option",{key:e,attrs:{label:t.brandname,value:t.id}})})),1),a("el-input-number",{staticClass:"ml-10 mobile-filter",attrs:{placeholder:"Хоног",size:"mini"},on:{change:t.updateFilter},model:{value:t.options.day,callback:function(e){t.$set(t.options,"day",e)},expression:"options.day"}}),a("el-input-number",{staticClass:"ml-10 mobile-filter",attrs:{placeholder:"Зарагдсан тоо",size:"mini"},on:{change:t.updateFilter},model:{value:t.options.sold,callback:function(e){t.$set(t.options,"sold",e)},expression:"options.sold"}}),a("el-input-number",{staticClass:"ml-10 mobile-filter",attrs:{placeholder:"Үлдэгдэл",size:"mini"},on:{change:t.updateFilter},model:{value:t.options.qty,callback:function(e){t.$set(t.options,"qty",e)},expression:"options.qty"}}),a("el-button",{staticClass:"ml-10 mobile-filter",attrs:{type:"danger",size:"mini",icon:"el-icon-search",plain:""},on:{click:t.getProducts}}),a("el-input",{staticClass:"ml-10 mobile-filter",staticStyle:{width:"200px"},attrs:{placeholder:"Модель эсвэл нэр ...","suffix-icon":"el-icon-search",size:"mini"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProduct(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("el-select",{staticClass:"ml-10 mobile-filter",staticStyle:{float:"right"},attrs:{filterable:"",placeholder:"Брэнд",size:"mini"},on:{change:t.exchangeChanged},model:{value:t.symbolSelect.selected,callback:function(e){t.$set(t.symbolSelect,"selected",e)},expression:"symbolSelect.selected"}},t._l(t.symbolSelect.list,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"item mt-20 flex b-rad-4",attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("div",{staticClass:"page-ecommerce-dashboard card-shadow--small",staticStyle:{width:"100%"},style:{"border-radius":"10px"}},[a("div",{staticClass:"table-box card-base card-outline",staticStyle:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",{staticStyle:{width:"40%"}},[t._v("Бүтээгдэхүүн")]),a("th",{staticStyle:{width:"20%"}},[t._v("Үнэ")]),a("th",{staticStyle:{width:"10%"}},[t._v("Үлд")]),a("th",{staticStyle:{width:"30%"}})])]),t.product.length>0?a("tbody",t._l(t.filterProduct(),(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"}},[a("td",[a("div",{staticClass:"item-box item-product flex"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$imgUrl+e.image}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",{staticStyle:{width:"100px"}},[a("h4",{staticClass:"m-0",staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",width:"100%"}},[t._v(t._s(e.name))]),a("p",{staticClass:"m-0",staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",width:"100%"}},[t._v(t._s(e.model))])])])]),a("td",[t._v(" "+t._s(t.symbol[t.order.exchange])+t._s(Number(e[t.order.exchange]).toLocaleString())+" ")]),a("td",[t._v(" "+t._s(Number(e.totalQty).toLocaleString())+" ")]),a("td",{staticClass:"flex"},[a("el-button",{attrs:{size:"mini",icon:"el-icon-close",circle:""},on:{click:function(a){return t.hideProduct(e)}}}),a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-right",circle:""},on:{click:function(a){return t.addToImport(e)}}})],1)])})),0):a("tbody",[a("tr",[a("td",{attrs:{colspan:"4",align:"center"}},[t._v("Уучлаарай бүтээгдэхүүн олдсонгүй")])])])])])])]),a("el-col",{staticClass:"item mt-20 b-rad-4 card-shadow--small",staticStyle:{background:"#fff","padding-top":"5px"},attrs:{xs:24,sm:24,md:24,lg:14,xl:14}},[a("span",{staticStyle:{float:"right"}},[t._v("Захиалгын дугаар: "),a("strong",[t._v(t._s(t.order.ordernumber))])]),a("br"),a("div",{staticClass:"page-ecommerce-dashboard mt-10",staticStyle:{width:"100%"},style:{"border-radius":"10px"}},[a("div",{staticClass:"table-box card-base card-outline",staticStyle:{overflow:"auto",width:"100%"}},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",{staticStyle:{width:"80%"}},[t._v("Бүтээгдэхүүн")]),a("th",[t._v("Үнэ")]),a("th",[t._v("Үлдэгдэл")]),a("th",[t._v("Нийт")]),a("th")])]),t.order.product.length>0?a("tbody",[t._l(t.order.product,(function(e,i){return a("tr",{key:i,style:{cursor:"pointer"}},[a("td",[t._v(t._s(i+1))]),a("td",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$imgUrl+e.image}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.name))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.model))])])])]),a("td",[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:"үнэ",size:"mini"},model:{value:e[t.order.exchange],callback:function(a){t.$set(e,t.order.exchange,a)},expression:"item[order.exchange]"}})],1),a("td",[a("el-input-number",{attrs:{placeholder:"Тоо ширхэг",size:"mini"},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"item.qty"}})],1),a("td",{attrs:{align:"right"}},[t._v(" "+t._s(t.symbol[t.order.exchange])+t._s(Number(e.qty*e[t.order.exchange]).toLocaleString())+" ")]),a("td",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:function(a){return t.removeProduct(e)}}})],1)])})),a("tr",[a("td",[a("strong",[t._v("Нийт")])]),a("td",{attrs:{colspan:"3",align:"right"}},[a("strong",[t._v(t._s(Number(t.totalQuantity).toLocaleString()))])]),a("td",{attrs:{colspan:"2",align:"right"}},[t._v(" "+t._s(t.symbol[t.order.exchange])),a("strong",[t._v(t._s(Number(t.totalAmount).toLocaleString()))])])])],2):a("tbody",[a("tr",[a("td",{attrs:{colspan:"4",align:"center"}},[t._v(" Уучлаарай бүтээгдэхүүн нэмээгүй байна ")])])])])])]),a("div",{staticClass:"flex",staticStyle:{padding:"10px",float:"right"}},[a("download-excel",{attrs:{data:t.excelData,fields:t.excelField,worksheet:"My Worksheet",name:t.order.ordernumber+".xlsx"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Татах",placement:"top"}},[a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-download",circle:""}})],1)],1),a("el-button",{staticClass:"ml-10",attrs:{type:"danger",plain:"",size:"mini"},on:{click:t.doneOrder}},[t._v("Хадгалах")])],1)])],1)],1),a("el-dialog",{attrs:{title:"Хайлтын илэрц",visible:t.modals.result},on:{"update:visible":function(e){return t.$set(t.modals,"result",e)}}},[a("el-table",{attrs:{data:t.filteredProduct}},[a("el-table-column",{attrs:{property:"name",label:"Нэр",width:"300"}}),a("el-table-column",{attrs:{property:"model",label:"Модель",width:"200"}}),a("el-table-column",{attrs:{property:"sale_price",label:"Үнэ"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-sell",circle:""},on:{click:function(a){return t.addToImport(e.row)}}})]}}])})],1)],1)],1)},Ma=[],qa={data:function(){return{modals:{result:!1},loading:!1,options:[],brands:[],product:[],order:{name:"",ordernumber:"",exchange:"cny",product:[]},symbol:{cny:"¥",usd:"$"},symbolSelect:{list:[{label:"CNY",value:"cny"},{label:"USD",value:"usd"}],selected:""},end:!1,excelField:{"#":"id",Description:"description",Quantity:"quantity","Unit price":"unitprice","Total Amount":"totalamount"},excelData:[{id:1,description:"hello",quantity:2,unitprice:1700,totalamount:3400}],allproduct:[],filteredProduct:[],search:"",hiddenProduct:[]}},computed:{totalQuantity:function(){return this.addProductToExcelData(),_.reduce(this.order.product,(function(t,e){return t+e.qty}),0)},totalAmount:function(){var t=this;return this.addProductToExcelData(),_.reduce(this.order.product,(function(e,a){return e+a[t.order.exchange]*a.qty}),0)}},beforeRouteLeave:function(t,e,a){!1===this.end&&this.order.product.length>0?(this.saveOrder(),a()):a()},mounted:function(){var t=localStorage.filterOption;void 0!==t?(t=JSON.parse(t),this.options=t):(t={brand:1,day:90,qty:3,sold:10},this.options=t,localStorage.filterOption=JSON.stringify(t));var e=localStorage.hiddenProduct;if(void 0!=e){var a=JSON.parse(e),i=[],s=new Date;s=s.getFullYear()+"-"+(s.getMonth()>8?s.getMonth()+1:"0"+(s.getMonth()+1))+"-"+(s.getDate()>9?s.getDate():"0"+s.getDate()),a.forEach((function(t){t.date>s&&i.push(t)})),this.c=i,localStorage.hiddenProduct=JSON.stringify(i)}this.getProducts()},methods:(i={filterProduct:function(){var t=this,e=[];return this.product.forEach((function(a){var i=t.hiddenProduct.some((function(t){return t.id==a.id}));i||e.push(a)})),e},hideProduct:function(t){Date.prototype.addDays=function(t){var e=new Date(this.valueOf());return e.setDate(e.getDate()+t),e};var e=(new Date).addDays(30);e=e.getFullYear()+"-"+(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>9?e.getDate():"0"+e.getDate()),this.hiddenProduct.push({id:t.id,date:e}),localStorage.hiddenProduct=JSON.stringify(this.hiddenProduct)},searchProduct:function(){var t=this;""!==this.search&&(this.filteredProduct=[],this.allproduct.forEach((function(e){e.model.toUpperCase().includes(t.search.toUpperCase())&&t.filteredProduct.push(e)})),this.modals.result=!0)}},Object(je["a"])(i,"searchProduct",(function(){var t=this;""!==this.search&&(this.filteredProduct=[],this.allproduct.forEach((function(e){e.model.toUpperCase().includes(t.search.toUpperCase())&&t.filteredProduct.push(e)})),this.modals.result=!0)})),Object(je["a"])(i,"updateFilter",(function(){localStorage.filterOption=JSON.stringify(this.options)})),Object(je["a"])(i,"doneOrder",(function(){var t=this;this.order.product.length>0?this.$prompt("Захиалгын утга оруулна уу","Санамж",{confirmButtonText:"Хадгалах",cancelButtonText:"Болих",inputErrorMessage:"Буруу утга"}).then((function(e){var a=e.value,i=t;t.loading=!0;var s=localStorage.getItem("token");s&&t.$axios({method:"post",url:i.$appUrl+"/api/order/end-import-order",headers:{Authorization:"Bearer ".concat(s)},data:{product:t.order.product,ordernumber:t.order.ordernumber,exhange:t.order.exchange,name:a,done:1}}).then((function(t){i.loading=!1,i.end=!0,i.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Хадгалагдлаа",type:"success"}),i.$router.push("/imports")})).catch((function(t){i.loading=!1,console.log(t)}))})):this.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Уучлраарай хадгалсан бүтээгдэхүүнү олдсонгүй",type:"error"})})),Object(je["a"])(i,"saveOrder",(function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/update-import-order",headers:{Authorization:"Bearer ".concat(e)},data:{product:this.order.product,ordernumber:this.order.ordernumber,exhange:this.order.exchange,name:"",done:0}}).then((function(e){t.loading=!1})).catch((function(e){t.loading=!1,console.log(e)}))})),Object(je["a"])(i,"addToImport",(function(t){var e={qty:1,sale_price:t.sale_price,id:t.id,cny:t.cny,usd:t.usd,image:t.image,name:t.name,model:t.model},a=this;this.loading=!0;var i=localStorage.getItem("token");i&&this.$axios({method:"post",url:a.$appUrl+"/api/order/add-product-to-import",headers:{Authorization:"Bearer ".concat(i)},data:{product:e,ordernumber:this.order.ordernumber}}).then((function(i){a.loading=!1,"success"==i.data.result&&(a.order.product.push(e),a.product.forEach((function(e,i){e.model==t.model&&a.product.splice(i,1)})))})).catch((function(t){a.loading=!1,console.log(t)}))})),Object(je["a"])(i,"removeProduct",(function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/order/remove-product-from-import",headers:{Authorization:"Bearer ".concat(a)},data:{id:t.id,ordernumber:this.order.ordernumber}}).then((function(a){e.loading=!1,e.order.product.forEach((function(a,i){a.id==t.id&&e.order.product.splice(i,1)}))})).catch((function(t){e.loading=!1,console.log(t)}))})),Object(je["a"])(i,"exchangeChanged",(function(){this.order.exchange=this.symbolSelect.selected})),Object(je["a"])(i,"addProductToExcelData",(function(){var t=this,e=[],a=0,i=0;this.order.product.forEach((function(s,o){a+=s.qty,i+=s.qty*s[t.order.exchange];var r={id:o+1,description:s.model+" "+s.name,quantity:s.qty,unitprice:s[t.order.exchange],totalamount:s.qty*s[t.order.exchange]};e.push(r)})),e.push({id:"",description:"",quantity:a,unitprice:"Total Amount: ",totalamount:i}),this.excelData=[],this.excelData=e})),Object(je["a"])(i,"getProducts",(function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/get-import-edit",headers:{Authorization:"Bearer ".concat(e)},data:{brand:this.options.brand,day:this.options.day,qty:this.options.qty,sold:this.options.sold}}).then((function(e){t.loading=!1,t.order.exchange=e.data.exchange,t.symbolSelect.selected=e.data.exchange,t.brands=e.data.brands,t.product=e.data.product,t.order.ordernumber=e.data.ordernumber,t.order.product=e.data.orderProduct,t.allproduct=e.data.allproduct,t.addProductToExcelData()})).catch((function(e){t.loading=!1,console.log(e)}))})),i)},Fa=qa,Ha=(a("f530"),Object(x["a"])(Fa,Aa,Ma,!1,null,null,null)),Wa=Ha.exports,Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Дотоод хөдөлгөөн")])],1),a("el-button-group",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Шинэ захиалга үүсгэх",placement:"top-end"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-edit",size:"mini"},on:{click:function(e){return t.$router.push("/cart")}}})],1)],1)],1)]),a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.datePickerChanged},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}})],1),a("el-input",{style:{width:"20%"},attrs:{placeholder:"Захиалгын дугаар ...","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchOrder(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"page-ecommerce-dashboard scrollable",style:{"max-height":"87%"}},[a("div",{staticClass:"table-box card-base card-outline",style:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover"},[t._m(0),a("tbody",t._l(t.orders,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"},on:{click:function(a){return t.goOrder(e.ordernumber)}}},[a("td",[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/user/"+e.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.name))]),a("p",{staticClass:"m-0"},[t._v(t._s(t.getLocation(e.to_where)))])])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.date))])])]),a("td",[a("div",{staticClass:"item-box item-location"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.ordernumber))])])]),a("td",[a("div",{staticClass:"item-box item-location"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(t.getLocation(e.from_where)))])])]),a("td",{staticStyle:{"max-width":"150px"}},[a("div",{staticClass:"item-box item-status",class:{"status-Pending":"send"==e.stat,"status-Complete":"confirmed"==e.stat,"status-Returned":"disabled"==e.stat,"status-Paid":"received"==e.stat},style:{"border-radius":"5px"}},["send"==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Хүлээгдэж байгаа")]):"confirmed"==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Зөвшөөрөгдсөн")]):"disabled"==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Татгалзсан")]):"received"==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Хүлээж авсан")]):t._e(),a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.date))])])]),a("td",{staticStyle:{"max-width":"150px"}},[a("div",{staticClass:"item-box item-status",class:{"status-Complete":"true"==e.write_it,"status-Returned":"false"==e.write_it},style:{"border-radius":"5px"}},["false"==e.write_it?a("h4",{staticClass:"m-0 mb-5"},[t._v("Үгүй")]):a("h4",{staticClass:"m-0 mb-5"},[t._v("Тийм")]),a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.date))])])])])})),0)])])])])},Za=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Үүсгэсэн ажилтан")]),a("th",[t._v("Огноо")]),a("th",[t._v("Захиалгын дугаар")]),a("th",[t._v("Хаанаас")]),a("th",[t._v("Төлөв")]),a("th",[t._v("Шивсэн")])])])}],Ja=(new $e.a,{name:"Order",data:function(){return{dataTimeRange:null,search:"",gridData:[],orders:[],location:[],loading:!1}},methods:{getLocation:function(t){var e="";return this.location.forEach((function(a){a.code==t&&(e=a.name)})),e},goOrder:function(t){this.$router.push({name:"ecommerce-show-movement",params:{id:t}})},datePickerChanged:function(t){this.getOrders(t)},getOrders:function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/order/get-movement",headers:{Authorization:"Bearer ".concat(a)},data:{datetime:t}}).then((function(t){e.loading=!1,"success"==t.data.result?(e.orders=t.data.orders,e.location=t.data.location):"time"==t.data.result&&e.$notify({title:"Амжилтгүй",message:"Цагаа бүртгүүлнэ үү",type:"error"}),e.loading=!1})).catch((function(t){e.loading=!1}))},searchOrder:function(){if(""!==this.search){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/search-movement",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:this.search}}).then((function(e){t.loading=!1,"success"==e.data.result?t.orders=e.data.orders:"time"==e.data.result&&t.$notify({title:"Амжилтгүй",message:"Цагаа бүртгүүлнэ үү",type:"error"})})).catch((function(e){t.loading=!1,console.log(e)}))}}},mounted:function(){this.getOrders(this.dataTimeRange)},components:{Grid:Ta["Grid"]}}),Va=Ja,Ya=(a("0fd8"),Object(x["a"])(Va,Ga,Za,!1,null,null,null)),Xa=Ya.exports,Qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-checkout scrollable"},[a("el-breadcrumb",{staticClass:"mb-20 hide-on-print",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",{attrs:{to:{path:"/orders"}}},[t._v("Агуулахын захиалга")]),a("el-breadcrumb-item",[t._v(t._s(t.order.ordernumber))])],1),a("div",{staticClass:"widget shipping card-shadow--small b-rad-4 hide-on-print"},[a("div",{staticClass:"title"},[t._v(" Захиалгын дэлгэрэнгүй ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"flex justify-space-between"},[a("div",{staticClass:"box grow flex column mt-40 fs-20 info",style:{position:"relative"}},[a("div",{staticClass:"mb-5"},[a("i",{staticClass:"mdi mdi-account mr-10"}),t._v(t._s(t.order.detail.name))]),a("div",{staticClass:"mb-5"},[a("i",{staticClass:"mdi mdi-map-marker mr-10"}),t._v(t._s(t.order.detail.shop))]),a("div",[a("i",{staticClass:"mdi mdi-phone mr-10"}),t._v(t._s(t.order.detail.phone))]),a("div",{style:{position:"absolute",right:"5%",top:"25%"}},[void 0!=t.order.detail.img?a("el-avatar",{attrs:{size:80,src:t.$appUrl+"/images/local/user/"+t.order.detail.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]):t._e()],1)]),a("div",{staticClass:"box grow flex mt-40 fs-20 type align-center justify-center"},[1==t.order.detail.stat?a("div",{staticClass:"box grow type-btn text-center ml-10 mt-5"},[t._m(0),t._m(1)]):t._e(),2==t.order.detail.stat?a("div",{staticClass:"box grow type-btn-success text-center ml-10 mt-5"},[t._m(2),t._m(3)]):t._e(),3==t.order.detail.stat?a("div",{staticClass:"box grow type-btn-error text-center ml-10 mt-5"},[t._m(4),t._m(5)]):t._e(),6!=t.LoggedUser.posID&&4!=t.LoggedUser.posID||0!=t.order.detail.paid?6!=t.LoggedUser.posID&&4!=t.LoggedUser.posID||1!=t.order.detail.paid?t._e():a("div",{staticClass:"box grow type-btn-success text-center ml-10 mt-5"},[t._m(8),t._m(9)]):a("div",{staticClass:"box grow type-btn-error text-center ml-10 mt-5"},[t._m(6),t._m(7)])])])])]),a("div",{staticClass:"widget review card-shadow--small b-rad-4 hide-on-print"},[a("div",{staticClass:"title"},[t._v(" Бүтээгдэхүүн ("+t._s(t.order.product.length)+") ")]),a("div",{staticClass:"content"},[a("el-row",{staticClass:"items mt-40",attrs:{gutter:20}},t._l(t.order.product,(function(e){return a("el-col",{key:e.id,attrs:{xs:24,sm:12,md:12,lg:8,xl:8}},[a("div",{staticClass:"item mb-20 flex"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:t.$imgUrl+e.image}})]),a("div",{staticClass:"box grow flex column justify-center"},[a("div",{staticClass:"product-name"},[t._v(t._s(e.name)+" "),a("strong",[t._v(t._s(e.model))])]),a("div",{staticClass:"price"},[1==t.order.detail.stat&&e.posID<6?a("el-input-number",{staticClass:"mr-5",style:{width:"100px"},attrs:{"controls-position":"right",min:0,max:e.remain},model:{value:e.quantity,callback:function(a){t.$set(e,"quantity",a)},expression:"i.quantity"}}):t._e(),1==t.order.detail.stat&&6==e.posID?a("el-input-number",{staticClass:"mr-5",style:{width:"100px"},attrs:{"controls-position":"right",min:0,max:e.total},model:{value:e.quantity,callback:function(a){t.$set(e,"quantity",a)},expression:"i.quantity"}}):a("span",[t._v(t._s(Number(e.quantity).toLocaleString()))]),t._v(" x ₮ "+t._s(Number(e.wholesale_price).toLocaleString())+" = "),a("strong",[t._v("₮ "+t._s(Number(e.wholesale_price*e.quantity).toLocaleString()))])],1)])])])})),1)],1)]),a("div",{staticClass:"widget payment card-shadow--small b-rad-4 hide-on-print"},[a("div",{staticClass:"title"},[t._v(" Нэмэлт мэдээлэл ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"flex justify-space-between"},[a("div",{staticClass:"box grow mt-40 pr-30 info"},[a("h3",{staticClass:"m-0 mb-10"},[t._v("Захиалгын утга")]),a("p",[t._v(t._s(t.order.detail.order_value))])]),a("div",{staticClass:"box grow mt-40 total"},[a("div",{staticClass:"t-row"},[a("div",{staticClass:"label"},[t._v("Захиалгын дугаар")]),a("div",{staticClass:"value"},[t._v(t._s(t.order.ordernumber))])]),a("div",{staticClass:"t-row"},[a("div",{staticClass:"label"},[t._v("Нийт")]),a("div",{staticClass:"value"},[t._v("₮ "+t._s(t.amount_text))])]),1!=t.order.detail.stat||1!=t.LoggedUser.posID&&2!=t.LoggedUser.posID||6==t.order.detail.posID?1==t.order.detail.stat&&6==t.order.detail.posID&&4==t.LoggedUser.posID?a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.confirmOrder}},[t._v("Баталгаажуулах")]):t._e():a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.confirmOrder}},[t._v("Баталгаажуулах")]),a("br"),1!=t.order.detail.stat||1!=t.LoggedUser.posID&&2!=t.LoggedUser.posID&&t.order.detail.user_id!=t.LoggedUser.id?1==t.order.detail.stat&&(6==t.order.detail.posID&&4==t.LoggedUser.posID||t.order.detail.user_id==t.LoggedUser.id)?a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:t.disableOrder}},[t._v("Цуцлах")]):2==t.order.detail.stat&&6==t.LoggedUser.posID&&0==t.order.detail.paid?a("el-button",{attrs:{type:"info",size:"small",plain:""},on:{click:t.showQpay}},[t._v("Төлбөр төлөх")]):t._e():a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:t.disableOrder}},[t._v("Цуцлах")]),2==t.order.detail.stat&&t.order.detail.user_id==t.LoggedUser.id&&1==t.order.detail.paid&&"false"==t.order.detail.read_it?a("el-button",{attrs:{type:"info",size:"small",plain:""},on:{click:t.endOrder}},[t._v("Хүлээж авах")]):t._e(),3==t.order.detail.stat&&t.order.detail.user_id==t.LoggedUser.id&&"false"==t.order.detail.read_it?a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:t.disableOrder}},[t._v("Устгах")]):t._e(),2!=t.order.detail.stat||1!=t.LoggedUser.posID&&2!=t.LoggedUser.posID||6==t.order.detail.posID?t._e():a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.print}},[t._v("Хэвлэх")])],1)])]),a("div",{staticClass:"mt-40 small-info hide-on-print"},[a("h3",{staticClass:"m-0 mb-10"},[t._v("Захиалгын утга")]),a("p",[t._v(t._s(t.order.detail.order_value))])])]),a("el-dialog",{attrs:{title:"Төлбөрийн мэдээлэл",visible:t.modals.pay,width:"30%",align:"center"},on:{"update:visible":function(e){return t.$set(t.modals,"pay",e)}}},[a("p",{staticStyle:{"font-size":"16px"}},[t._v("Та ухаалаг банкны аппликэйшн хэрэглэж"),a("br"),t._v(" "),a("strong",[t._v("QPAY")]),t._v(" -ээр төлнө үү")]),a("qrcode",{attrs:{text:t.order.detail.qrcode,align:"center"}}),a("div",{staticClass:"mt-20"},[a("div",{style:{"font-size":"18px"},attrs:{align:"center"}},[t._v("Шилжүүлгийн мэдээлэл")]),a("div",{staticStyle:{"padding-bottom":"30px"},attrs:{align:"center"}},[a("table",[a("tr",[a("td",{staticStyle:{"padding-right":"15px"},attrs:{align:"right"}},[t._v("ГОЛОМТ БАНК: ")]),a("td",[a("strong",[t._v("1410002791")])])]),a("tr",[a("td",{staticStyle:{"padding-right":"15px"},attrs:{align:"right"}},[t._v("ГҮЙЛГЭЭНИЙ УТГА: ")]),a("td",[a("strong",[t._v(t._s(t.order.ordernumber))])])]),a("tr",[a("td",{staticStyle:{"padding-right":"15px"},attrs:{align:"right"}},[t._v("ХҮЛЭЭН АВАГЧ: ")]),a("td",[a("strong",[t._v("ТҮМЭН ТЕХНО ХХК")])])])]),a("div",{staticClass:"mt-5"},[a("span",{style:{"font-weight":"700"}},[t._v("АНХААРУУЛГА")]),t._v(" Төлбөрийг дансанд шилжүүлсэн тохиолдолд "),a("span",{style:{"font-weight":"700"}},[t._v("ажлын цагийн "),a("br"),t._v(" 30-60 минутанд")]),t._v(" шалгагдаж баталгаажих болно.")])])])],1),a("div",{staticClass:"show-on-print",staticStyle:{"padding-left":"2cm","padding-top":"1.5cm","padding-right":"1.5cm","padding-bottom":"1.5cm"},attrs:{id:"printMe"}},[a("div",{staticStyle:{border:"2px solid grey","border-radius":"5px",padding:"5px","padding-bottom":"40px"}},[a("table",{staticClass:"styled hover"},[t._m(10),a("tbody",{staticClass:"print-table"},[t._l(t.order.product,(function(e,i){return a("tr",{key:i},[a("td",{staticClass:"mr-10"},[t._v(" "+t._s(i)+" ")]),a("td",{attrs:{width:"100%"}},[a("div",{staticClass:"item-box item-product"},[a("div",[a("p",{staticClass:"m-0"},[a("strong",[t._v(t._s(e.model))]),t._v(" "+t._s(e.name))])])])]),a("td",[a("div",{staticClass:"item-box item-product"},[a("div",[a("p",{staticClass:"m-0"},[t._v(t._s(Number(e.quantity).toLocaleString()))])])])]),a("td",[a("div",{staticClass:"item-box item-product"},[a("div",[a("p",{staticClass:"m-0"},[t._v("₮"+t._s(Number(e.wholesale_price).toLocaleString()))])])])]),a("td",[a("div",{staticClass:"item-box item-product"},[a("div",[a("p",{staticClass:"m-0"},[t._v("₮"+t._s(Number(e.quantity*e.wholesale_price).toLocaleString()))])])])])])})),a("tr",[t._m(11),a("td",[t._v("₮"+t._s(t.amount_text))])]),a("tr",[t._m(12),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.order.detail.name))])]),a("tr",[t._m(13),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.order.detail.shop))])]),a("tr",[t._m(14),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.order.ordernumber))])])],2)]),t._m(15)])])],1)},Ka=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i",{staticClass:"mdi mdi-truck mb-10 fs-30"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("Захиалгагдсан")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i",{staticClass:"mdi mdi-briefcase-check mb-10 fs-30"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("Зөвшөөрөгдсөн")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i",{staticClass:"mdi mdi-door-closed-lock mb-10 fs-30"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("Цуцлагдсан")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i",{staticClass:"mdi mdi-credit-card-minus mb-10 fs-30"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("UNPAID")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i",{staticClass:"mdi mdi-credit-card-check-outline mb-10 fs-30"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("PAID")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Бүтээгдэхүүн")]),a("th",[t._v("Т.ширхэг")]),a("th",[t._v("Үнэ")]),a("th",[t._v("Нийт")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"3"}},[a("strong",[t._v("Нийт")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"2",align:"right"}},[a("strong",[t._v("Захиалагч")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"2",align:"right"}},[a("strong",[t._v("Салбар")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"2",align:"right"}},[a("strong",[t._v("Захиалгын дугаар")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12",staticStyle:{"margin-top":"50px","text-align":"center"}},[t._v(" Хүлээлгэн өгсөн: _______________"),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("Хүлээн авсан: _________________")])])}],ti=a("dfcf"),ei=(new $e.a,null),ai={name:"EcommerceCheckout",components:{qrcode:ti["a"]},data:function(){return{items:[],LoggedUser:[],card:"",date:"",cvv:"",name:"",order:{ordernumber:"",detail:[],product:[]},modals:{pay:!1},loading:!1}},beforeRouteUpdate:function(t,e,a){clearInterval(ei),this.order.ordernumber=t.params.id,this.getOrder(),a()},computed:{amount:function(){return _.reduce(this.order.product,(function(t,e){return t+e.wholesale_price*e.quantity}),0)},amount_text:function(){return Number(this.amount).toLocaleString()}},mounted:function(){this.order.ordernumber=this.$route.params.id,this.LoggedUser=JSON.parse(localStorage.getItem("user")),this.getOrder()},beforeRouteLeave:function(t,e,a){clearInterval(ei);var i=localStorage.getItem("token");if(i)if(this.order.product.length>0&&1==this.order.detail.stat){var s=this,o=localStorage.getItem("token");o&&this.$axios({method:"post",url:s.$appUrl+"/api/order/change-order-qty",headers:{Authorization:"Bearer ".concat(o)},data:{product:this.order.product,ordernumber:this.order.ordernumber}}).then((function(t){"success"==t.data.result&&a()})).catch((function(t){console.log(t)}))}else a();else a()},methods:{endOrder:function(){var t=this;this.$confirm("Хүлээж авахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var e=t,a=localStorage.getItem("token");a&&e.$axios({method:"post",url:e.$appUrl+"/api/order/end-order",headers:{Authorization:"Bearer ".concat(a)},data:{ordernumber:e.order.ordernumber,role:e.LoggedUser.posID}}).then((function(t){"success"==t.data.result&&(e.order.detail.read_it="true",e.$notify({title:"Амжилттай",message:"Хүлээж авлаа",type:"success"}))})).catch((function(t){console.log(t)}))}))},print:function(){this.$htmlToPaper("printMe")},showQpay:function(){if(6==this.LoggedUser.posID)if(null==this.order.detail.qrcode){var t=this.amount,e=this,a=localStorage.getItem("token");a&&e.$axios({method:"post",url:e.$appUrl+"/api/order/create-qpay-bill",headers:{Authorization:"Bearer ".concat(a)},data:{ordernumber:e.order.ordernumber,user:e.LoggedUser,total:t}}).then((function(t){console.log(t),"success"==t.data.result&&(e.order.detail.qrcode=t.data.qr,e.order.detail.payment_id=t.data.payment,e.modals.pay=!0)})).catch((function(t){console.log(t)}))}else this.modals.pay=!0},confirmOrder:function(){var t=this;this.$confirm("Баталгаажуулахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var e=localStorage.getItem("token");e&&t.$axios({method:"post",url:t.$appUrl+"/api/order/change-order-qty",headers:{Authorization:"Bearer ".concat(e)},data:{product:t.order.product,ordernumber:t.order.ordernumber}}).then((function(a){"success"==a.data.result&&t.$axios({method:"post",url:t.$appUrl+"/api/order/confirm-order",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:t.order.ordernumber}}).then((function(e){"success"==e.data.result&&(t.order.detail.stat=2,t.$notify({title:"Амжилттай",message:"Амжилттай баталгаажлаа",type:"success"}))})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}))},disableOrder:function(){var t=this;this.$confirm("Энэ захиалгыг цуцлахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var e=localStorage.getItem("token");e&&t.$axios({method:"post",url:t.$appUrl+"/api/order/disable-order",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:t.order.ordernumber}}).then((function(e){"success"==e.data.result&&(t.$notify({title:"Амжилттай",message:"Захиалга ажилттай цуцлагдлаа",type:"success"}),t.$router.push("/orders"))})).catch((function(t){console.log(t)}))}))},getOrder:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/get-current-order",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:this.order.ordernumber}}).then((function(e){t.loading=!1,"success"==e.data.result?(t.order.detail=e.data.order,t.order.product=e.data.products,0==e.data.order.paid&&t.LoggedUser.posID>4&&(ei=setInterval(t.usingChecker,5e3))):t.$router.push({name:"not-found"})})).catch((function(e){t.loading=!1,console.log(e)}))},usingChecker:function(){if(null!==this.order.qrcode){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/check-qpay-bill",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:this.order.ordernumber}}).then((function(e){"success"==e.data.result&&1==e.data.paid&&(t.$notify({title:"Амжилттай",message:"Төлбөр амжилттай төлөгдлөө",type:"success",duration:0}),t.order.detail.paid=!0,clearInterval(ei))})).catch((function(t){console.log(t)}))}}}},ii=ai,si=(a("d5b0"),Object(x["a"])(ii,Qa,Ka,!1,null,null,null)),oi=si.exports,ri=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-ecommerce-checkout scrollable"},[a("el-breadcrumb",{staticClass:"mb-20",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",{attrs:{to:{path:"/movements"}}},[t._v("Дотоод хөдөлгөөн")]),a("el-breadcrumb-item",[t._v(t._s(t.order.ordernumber))])],1),a("div",{staticClass:"widget shipping card-shadow--small b-rad-4"},[a("div",{staticClass:"content"},[a("div",{staticClass:"flex justify-space-between"},[a("div",{staticClass:"box grow flex column mt-40 fs-20 info widget shipping card-shadow--small b-rad-4",style:{position:"relative"}},[a("div",{staticClass:"title"},[t._v(" Захиалга өгсөн ")]),a("div",{staticClass:"mb-5"},[a("i",{staticClass:"mdi mdi-account mr-10"}),t._v(t._s(t.order.detail.name))]),a("div",{staticClass:"mb-5"},[a("i",{staticClass:"mdi mdi-map-marker mr-10"}),t._v(t._s(t.getLocation(t.order.detail.to_where)))]),a("div",[a("i",{staticClass:"mdi mdi-phone mr-10"}),t._v(t._s(t.order.detail.phone))]),a("div",{style:{position:"absolute",right:"5%",top:"35%"}},[void 0!=t.order.detail.img?a("el-avatar",{attrs:{size:50,src:t.$appUrl+"/images/local/user/"+t.order.detail.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]):t._e()],1)]),a("div",{staticClass:"box grow flex column mt-40 fs-20 info widget shipping card-shadow--small b-rad-4",style:{position:"relative"}},[a("div",{staticClass:"title"},[t._v(" Зөвшөөрсөн ")]),a("div",{staticClass:"mb-5"},[a("i",{staticClass:"mdi mdi-account mr-10"}),t._v(t._s(t.order.confirmed.name))]),a("div",{staticClass:"mb-5"},[a("i",{staticClass:"mdi mdi-map-marker mr-10"}),t._v(t._s(t.getLocation(t.order.detail.from_where)))]),a("div",[a("i",{staticClass:"mdi mdi-phone mr-10"}),t._v(t._s(t.order.confirmed.phone))]),a("div",{style:{position:"absolute",right:"5%",top:"35%"}},[void 0!=t.order.detail.img?a("el-avatar",{attrs:{size:50,src:t.$appUrl+"/images/local/user/"+t.order.confirmed.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]):t._e()],1)]),a("div",{staticClass:"box grow flex column mt-40 fs-20 info widget shipping card-shadow--small b-rad-4",style:{position:"relative"}},[a("div",{staticClass:"title"},[t._v(" Хүлээж авсан ")]),a("div",{staticClass:"mb-5"},[a("i",{staticClass:"mdi mdi-account mr-10"}),t._v(t._s(t.order.received.name))]),a("div",{staticClass:"mb-5"},[a("i",{staticClass:"mdi mdi-map-marker mr-10"}),t._v(t._s(t.getLocation(t.order.detail.to_where)))]),a("div",[a("i",{staticClass:"mdi mdi-phone mr-10"}),t._v(t._s(t.order.received.phone))]),a("div",{style:{position:"absolute",right:"5%",top:"35%"}},[void 0!=t.order.detail.img?a("el-avatar",{attrs:{size:50,src:t.$appUrl+"/images/local/user/"+t.order.received.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]):t._e()],1)])])])]),a("div",{staticClass:"widget review card-shadow--small b-rad-4"},[a("div",{staticClass:"title"},[t._v(" Бүтээгдэхүүн ("+t._s(t.order.product.length)+") ")]),a("div",{staticClass:"content"},[a("el-row",{staticClass:"items mt-40",attrs:{gutter:20}},t._l(t.order.product,(function(e){return a("el-col",{key:e.id,attrs:{xs:24,sm:12,md:12,lg:8,xl:8}},[a("div",{staticClass:"item mb-20 flex"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:t.$imgUrl+e.image}})]),a("div",{staticClass:"box grow flex column justify-center"},[a("div",{staticClass:"product-name"},[t._v(t._s(e.name)+" "),a("strong",[t._v(t._s(e.model))])]),a("div",{staticClass:"price"},[t.order.detail.to_where!=t.LoggedUserCurrentShop&&t.order.detail.from_where!=t.LoggedUserCurrentShop||"send"!=t.order.detail.stat?a("span",[t._v(t._s(Number(e.quantity).toLocaleString()))]):a("el-input-number",{staticClass:"mr-5",style:{width:"100px"},attrs:{"controls-position":"right",min:1,max:e[t.order.detail.from_where]},model:{value:e.quantity,callback:function(a){t.$set(e,"quantity",a)},expression:"i.quantity"}}),t._v(" x ₮ "+t._s(Number(e.sale_price).toLocaleString())+" = "),a("strong",[t._v("₮ "+t._s(Number(e.sale_price*e.quantity).toLocaleString()))])],1)])])])})),1)],1)]),a("div",{staticClass:"widget payment card-shadow--small b-rad-4"},[a("div",{staticClass:"title"},[t._v(" Нэмэлт мэдээлэл ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"flex justify-space-between"},[a("div",{staticClass:"box grow mt-40 pr-30 info"},[a("h3",{staticClass:"m-0 mb-10"},[t._v("Захиалгын утга")]),a("p",[t._v(t._s(t.order.detail.move_value))])]),a("div",{staticClass:"box grow mt-40 total"},[a("div",{staticClass:"t-row"},[a("div",{staticClass:"label"},[t._v("Захиалгын дугаар")]),a("div",{staticClass:"value"},[t._v(t._s(t.order.ordernumber))])]),a("div",{staticClass:"t-row"},[a("div",{staticClass:"label"},[t._v("Төлөв")]),"send"==t.order.detail.stat?a("div",{staticClass:"value"},[t._v("Захиалагдсан")]):t._e(),"confirmed"==t.order.detail.stat?a("div",{staticClass:"value"},[t._v("Зөвшөөрөгдсөн")]):t._e(),"received"==t.order.detail.stat?a("div",{staticClass:"value"},[t._v("Хүлээж авсан")]):t._e(),"disabled"==t.order.detail.stat?a("div",{staticClass:"value"},[t._v("Татгалзсан")]):t._e()]),a("div",{staticClass:"t-row"},[a("div",{staticClass:"label"},[t._v("Нийт")]),a("div",{staticClass:"value"},[t._v("₮ "+t._s(t.amount_text))])]),"received"!=t.order.detail.stat||1!=t.LoggedUser.posID&&2!=t.LoggedUser.posID?t._e():a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.wroteMovement}},[t._v("Шивсэн гэж тэмдэглэх")]),a("br"),t.order.detail.from_where==t.LoggedUserCurrentShop&&"send"==t.order.detail.stat?a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.confirmMovement}},[t._v("Зөвшөөрөх")]):t._e(),a("br"),t.order.detail.from_where!=t.LoggedUserCurrentShop&&t.order.detail.to_where!=t.LoggedUserCurrentShop||"send"!=t.order.detail.stat?t._e():a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:t.disableMovement}},[t._v("Цуцлах")]),t.order.detail.to_where==t.LoggedUserCurrentShop&&"confirmed"==t.order.detail.stat?a("el-button",{attrs:{type:"danger",size:"confirmed",plain:""},on:{click:t.receiveMovement}},[t._v("Хүлээж авсан гэж тэмдэглэх")]):t._e()],1)])]),a("div",{staticClass:"mt-40 small-info"},[a("h3",{staticClass:"m-0 mb-10"},[t._v("Захиалгын утга")]),a("p",[t._v(t._s(t.order.detail.order_value))])])])],1)},ni=[],li=(new $e.a,{name:"EcommerceCheckout",data:function(){return{items:[],LoggedUser:[],card:"",date:"",cvv:"",name:"",order:{ordernumber:"",detail:[],product:[],confirmed:[],received:[]},location:[],LoggedUserCurrentShop:""}},computed:{amount:function(){return _.reduce(this.order.product,(function(t,e){return t+e.sale_price*e.quantity}),0)},amount_text:function(){return Number(this.amount).toLocaleString()}},mounted:function(){this.order.ordernumber=this.$route.params.id,this.LoggedUser=JSON.parse(localStorage.getItem("user")),this.getOrder()},beforeRouteLeave:function(t,e,a){if(this.order.product.length>0&&"send"==this.order.detail.stat){var i=this,s=localStorage.getItem("token");s&&this.$axios({method:"post",url:i.$appUrl+"/api/order/change-movement-qty",headers:{Authorization:"Bearer ".concat(s)},data:{product:this.order.product,ordernumber:this.order.ordernumber}}).then((function(t){"success"==t.data.result&&a()})).catch((function(t){console.log(t)}))}else a()},methods:{wroteMovement:function(){var t=this,e=this;this.$confirm("Шивсэн болгохдоо итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var a=localStorage.getItem("token");a&&t.$axios({method:"post",url:e.$appUrl+"/api/order/wrote-movement",headers:{Authorization:"Bearer ".concat(a)},data:{ordernumber:t.order.ordernumber}}).then((function(t){"success"==t.data.result?(e.$notify({title:"Амжилттай",message:"Амжилттай шивлээ",type:"success"}),e.$router.push("/movements")):e.$router.push({name:"not-found"})})).catch((function(t){console.log(t)}))}))},disableMovement:function(){var t=this,e=this;this.$confirm("Энэ захиалгыг цуцлахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var a=localStorage.getItem("token");a&&t.$axios({method:"post",url:e.$appUrl+"/api/order/disable-movement",headers:{Authorization:"Bearer ".concat(a)},data:{ordernumber:t.order.ordernumber}}).then((function(t){"success"==t.data.result?(e.$notify({title:"Амжилттай",message:"Амжилттай цуцлагдлаа",type:"success"}),e.$router.push("/movements")):"time"==t.data.result?e.$router.push("/movements"):"notfound"==t.data.result&&e.$router.push({name:"not-found"})})).catch((function(t){console.log(t)}))}))},receiveMovement:function(){var t=this;this.$confirm("Хүлээж авсан болгохдоо итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var e=localStorage.getItem("token");e&&t.$axios({method:"post",url:t.$appUrl+"/api/order/received-movement",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:t.order.ordernumber}}).then((function(e){"success"==e.data.result&&(t.$notify({title:"Амжилттай",message:"Амжилттай хүлээж авлаа",type:"success"}),t.getOrder())})).catch((function(t){console.log(t)}))}))},confirmMovement:function(){var t=this;this.$confirm("Баталгаажуулахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var e=localStorage.getItem("token");e&&t.$axios({method:"post",url:t.$appUrl+"/api/order/change-movement-qty",headers:{Authorization:"Bearer ".concat(e)},data:{product:t.order.product,ordernumber:t.order.ordernumber}}).then((function(a){"success"==a.data.result&&t.$axios({method:"post",url:t.$appUrl+"/api/order/confirm-movement",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:t.order.ordernumber}}).then((function(e){"success"==e.data.result&&(t.$notify({title:"Амжилттай",message:"Амжилттай баталгаажлаа",type:"success"}),t.getOrder())})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}))},getLocation:function(t){var e;return this.location.forEach((function(a){t==a.code&&(e=a.name)})),e},getOrder:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/get-current-movement",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:this.order.ordernumber}}).then((function(e){"success"==e.data.result?(console.log(e),t.order.detail=e.data.movement,t.order.confirmed=e.data.cEmp,t.order.received=e.data.rEmp,t.order.product=e.data.product,t.location=e.data.location,t.LoggedUserCurrentShop=e.data.shop):"time"==e.data.result?t.$router.push("/movements"):"notfound"==e.data.result&&t.$router.push({name:"not-found"})})).catch((function(t){console.log(t)}))}}}),ci=li,di=(a("e160"),Object(x["a"])(ci,ri,ni,!1,null,null,null)),ui=di.exports,pi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-ecommerce-checkout scrollable"},[a("el-breadcrumb",{staticClass:"mb-20",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",{attrs:{to:{path:"/imports"}}},[t._v("Ирж байгаа захиалга")]),a("el-breadcrumb-item",[t._v(t._s(t.order.ordernumber))])],1),a("el-row",{staticClass:"cart-box",attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:17,xl:17}},[a("div",{staticClass:"widget review card-shadow--small b-rad-4"},[a("div",{staticClass:"title"},[t._v(" Бүтээгдэхүүн ("+t._s(t.order.product.length)+") ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"page-ecommerce-dashboard mt-10",staticStyle:{width:"100%"},style:{"border-radius":"10px"}},[a("div",{staticClass:"table-box card-base card-outline",staticStyle:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",{staticStyle:{"font-size":"14px"}},[a("th",[t._v("#")]),a("th",{staticStyle:{width:"80%"}},[t._v("Бүтээгдэхүүн")]),a("th",[t._v("Үнэ")]),a("th",[t._v("Ө.Үнэ")]),a("th",[t._v("Б.Үнэ")]),a("th",[t._v("Х.Үнэ")]),a("th",[t._v("Үлдэгдэл")]),a("th",[t._v("Нийт")]),1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("th"):t._e()])]),t.order.product.length>0?a("tbody",[t._l(t.order.product,(function(e,i){return a("tr",{key:i,style:{cursor:"pointer"}},[a("td",[t._v(t._s(i+1))]),a("td",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$imgUrl+e.image}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.name))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.model))])])])]),a("td",[1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:"үнэ",size:"mini"},model:{value:e[t.order.detail.exchange],callback:function(a){t.$set(e,t.order.detail.exchange,a)},expression:"item[order.detail.exchange]"}}):a("span",[t._v(t._s(Number(e.sale_price).toLocaleString()))])],1),a("td",[1==t.LoggedUser.posID||2==t.LoggedUser.posID?a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:"үнэ",size:"mini"},model:{value:e.cost_price,callback:function(a){t.$set(e,"cost_price",a)},expression:"item.cost_price"}}):t._e()],1),a("td",[1==t.LoggedUser.posID||2==t.LoggedUser.posID?a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:"үнэ",size:"mini"},model:{value:e.wholesale_price,callback:function(a){t.$set(e,"wholesale_price",a)},expression:"item.wholesale_price"}}):t._e()],1),a("td",[1==t.LoggedUser.posID||2==t.LoggedUser.posID?a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:"үнэ",size:"mini"},model:{value:e.sale_price,callback:function(a){t.$set(e,"sale_price",a)},expression:"item.sale_price"}}):t._e()],1),a("td",{attrs:{align:"right"}},[1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("el-input-number",{attrs:{placeholder:"Тоо ширхэг",size:"mini"},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"item.qty"}}):a("span",[t._v(t._s(Number(e.qty).toLocaleString()))])],1),a("td",{attrs:{align:"right"}},[1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("span",[t._v(t._s(t.symbol[t.order.detail.exchange])+t._s(Number(e.qty*e[t.order.detail.exchange]).toLocaleString()))]):a("span",[t._v("₮"+t._s(Number(e.qty*e.sale_price).toLocaleString()))])]),1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("td",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:function(a){return t.removeProduct(e)}}})],1):t._e()])})),a("tr",[a("td",[a("strong",[t._v("Нийт")])]),a("td",{attrs:{colspan:"6",align:"right"}},[a("strong",[t._v(t._s(Number(t.totalQuantity).toLocaleString()))])]),a("td",{attrs:{colspan:"2",align:"right"}},[1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("span",[t._v(t._s(t.symbol[t.order.detail.exchange])),a("strong",[t._v(t._s(Number(t.totalAmount).toLocaleString()))])]):a("span",[t._v("₮"),a("strong",[t._v(t._s(Number(t.totalAmount).toLocaleString()))])])])])],2):t._e()])])])])])]),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:7,xl:7}},[a("div",{staticClass:"widget payment card-shadow--small b-rad-4"},[a("div",{staticClass:"title"},[t._v(" Нэмэлт мэдээлэл ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"flex justify-space-between"},[a("div",{staticClass:"box grow mt-10 total"},[a("div",{staticClass:"t-row"},[a("table",{attrs:{align:"center"}},[a("tr",[a("td",{staticClass:"label",attrs:{width:"50%"}},[t._v("Төлөв")]),1==t.order.detail.stat?a("td",{staticClass:"value",attrs:{width:"50%"}},[t._v("Ирсэн")]):a("td",{staticClass:"value",attrs:{width:"50%"}},[t._v("Хүлээгдэж байгаа")])]),a("tr",[a("td",{staticClass:"label",attrs:{width:"50%"}},[t._v("Захиалга")]),a("td",{staticClass:"value",attrs:{width:"50%"}},[t._v(t._s(t.order.detail.name))])]),a("tr",[a("td",{staticClass:"label",attrs:{width:"50%"}},[t._v("Захиалгын дугаар")]),a("td",{staticClass:"value",attrs:{width:"50%"}},[t._v(t._s(t.order.ordernumber))])]),a("tr",[a("td",{staticClass:"label",attrs:{width:"50%"}},[t._v("Захиалсан огноо")]),void 0!==t.order.detail.created_at?a("td",{staticClass:"value",attrs:{width:"50%"}},[t._v(t._s(t.order.detail.created_at.split("T")[0]))]):t._e()]),1==t.order.detail.stat?a("tr",[a("td",{staticClass:"label",attrs:{width:"50%"}},[t._v("Ирсэн огноо")]),void 0!==t.order.detail.updated_at?a("td",{staticClass:"value",attrs:{width:"50%"}},[t._v(t._s(t.order.detail.updated_at.split("T")[0]))]):t._e()]):t._e()])]),a("div",{attrs:{align:"center"}},[1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("download-excel",{attrs:{data:t.excelData,fields:t.excelField,worksheet:"My Worksheet",name:t.order.ordernumber+".xls"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Татах",placement:"top"}},[a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-download",plain:""}})],1)],1):t._e(),1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("el-button",{attrs:{type:"primary",disabled:t.saveBtn,size:"small",plain:""},on:{click:t.saveImportChanged}},[t._v("Өөрчлөлтийг хадгалах")]):t._e()],1)])])])]),1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("el-input",{attrs:{placeholder:"Модель эсвэл нэр ..."},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProduct(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("template",{slot:"append"},[a("a",{attrs:{href:"javascript:;"},on:{click:t.searchProduct}},[a("i",{staticClass:"mdi mdi-database-search"})])])],2):t._e()],1)],1),a("el-dialog",{attrs:{title:"Хайлтын илэрц",visible:t.modals.result},on:{"update:visible":function(e){return t.$set(t.modals,"result",e)}}},[a("el-table",{attrs:{data:t.filteredProduct}},[a("el-table-column",{attrs:{property:"name",label:"Нэр",width:"300"}}),a("el-table-column",{attrs:{property:"model",label:"Модель",width:"200"}}),a("el-table-column",{attrs:{property:"sale_price",label:"Үнэ"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-sell",circle:""},on:{click:function(a){return t.addToImport(e.row)}}})]}}])})],1)],1)],1)},mi=[],hi=(new $e.a,{name:"EcommerceCheckout",data:function(){return{items:[],LoggedUser:[],card:"",date:"",cvv:"",name:"",order:{ordernumber:"",detail:[],product:[],original:[],confirmed:[],received:[]},location:[],LoggedUserCurrentShop:"",symbol:{cny:"¥",usd:"$"},excelField:{"#":"id",Description:"description",Quantity:"quantity","Unit price":"unitprice","Total Amount":"totalamount"},excelData:[{id:1,description:"hello",quantity:2,unitprice:1700,totalamount:3400}],saveBtn:!0,allproduct:[],modals:{result:!1},filteredProduct:[],search:""}},beforeRouteLeave:function(t,e,a){var i=this;!1===this.saveBtn?this.$confirm("Өөрчлөлтийг хадгалах уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Үгүй",type:"warning"}).then((function(){i.saveImportChanged(),a()})).catch((function(){a()})):a()},computed:{totalQuantity:function(){var t=this;return this.saveBtn=!0,this.order.original.forEach((function(e){t.order.product.forEach((function(a){a.id===e.id&&(a.qty!==e.qty||a[t.order.detail.exchange]!=e[t.order.detail.exchange]||a.sale_price!=e.sale_price||a.cost_price!=e.cost_price||a.wholesale_price!=e.wholesale_price)&&(t.saveBtn=!1)}))})),_.reduce(this.order.product,(function(t,e){return t+e.qty}),0)},totalAmount:function(){var t=this;return 1==this.LoggedUser.posID||2==this.LoggedUser.posID||4==this.LoggedUser.posID?_.reduce(this.order.product,(function(e,a){return e+a[t.order.detail.exchange]*a.qty}),0):_.reduce(this.order.product,(function(t,e){return t+e.sale_price*e.qty}),0)}},mounted:function(){this.order.ordernumber=this.$route.params.id,this.LoggedUser=JSON.parse(localStorage.getItem("user")),this.getOrder()},methods:{addToImport:function(t){var e={qty:1,sale_price:t.sale_price,id:t.id,cny:t.cny,usd:t.usd,image:t.image,name:t.name,model:t.model},a={qty:1,sale_price:t.sale_price,id:t.id,cny:t.cny,usd:t.usd,image:t.image,name:t.name,model:t.model},i=this;this.loading=!0;var s=localStorage.getItem("token");s&&this.$axios({method:"post",url:i.$appUrl+"/api/order/add-product-to-import",headers:{Authorization:"Bearer ".concat(s)},data:{product:e,ordernumber:this.order.ordernumber}}).then((function(t){i.loading=!1,"success"==t.data.result?(i.order.product.push(e),i.order.original.push(a),i.addProductToExcelData()):"alreadyExist"==t.data.result&&i.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Аль хэдийн нэмэгдсэн байна",type:"error"})})).catch((function(t){i.loading=!1,console.log(t)}))},searchProduct:function(){var t=this;""!==this.search&&(this.filteredProduct=[],this.allproduct.forEach((function(e){e.model.toUpperCase().includes(t.search.toUpperCase())&&t.filteredProduct.push(e)})),this.modals.result=!0)},removeProduct:function(t){var e=this;this.$confirm("<strong>".concat(t.model,"</strong> -г устгах уу?"),"Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Үгүй",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){var a=e;e.loading=!0;var i=localStorage.getItem("token");i&&e.$axios({method:"post",url:a.$appUrl+"/api/order/remove-product-from-import",headers:{Authorization:"Bearer ".concat(i)},data:{id:t.id,ordernumber:e.order.ordernumber}}).then((function(e){a.loading=!1,a.order.product.forEach((function(e,i){e.id==t.id&&a.order.product.splice(i,1)})),a.order.original.forEach((function(e,i){e.id==t.id&&a.order.product.splice(i,1)})),a.addProductToExcelData()})).catch((function(t){a.loading=!1,console.log(t)}))}))},saveImportChanged:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/update-import-order",headers:{Authorization:"Bearer ".concat(e)},data:{product:this.order.product,ordernumber:this.order.ordernumber,exhange:this.order.detail.exchange,name:this.order.detail.name,done:1}}).then((function(e){t.loading=!1,t.saveBtn=!0,t.order.original.forEach((function(e){t.order.product.forEach((function(a){a.id===e.id&&(e.qty=a.qty,e[t.order.detail.exchange]=a[t.order.detail.exchange],t.addProductToExcelData())}))})),t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Хадгалагдлаа",type:"success"})})).catch((function(e){t.loading=!1,console.log(e)}))},addProductToExcelData:function(){var t=this,e=[],a=0,i=0;this.order.product.forEach((function(s,o){a+=s.qty,i+=s.qty*s[t.order.detail.exchange];var r={id:o+1,description:s.model+" "+s.name,quantity:s.qty,unitprice:s[t.order.detail.exchange],totalamount:s.qty*s[t.order.detail.exchange]};e.push(r)})),e.push({id:"",description:"",quantity:a,unitprice:"Total Amount: ",totalamount:i}),this.excelData=[],this.excelData=e},getOrder:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/get-current-import",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:this.order.ordernumber}}).then((function(e){"success"==e.data.result?(console.log(e),t.order.detail=e.data.order,t.order.original=e.data.original,t.order.product=e.data.product,t.allproduct=e.data.allproduct,t.addProductToExcelData()):"failed"==e.data.result&&t.$router.push({name:"not-found"})})).catch((function(t){console.log(t)}))}}}),gi=hi,vi=(a("2cce"),Object(x["a"])(gi,pi,mi,!1,null,null,null)),fi=vi.exports,bi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"scrollable",style:{"max-height":"100%","overflow-x":"hidden","padding-left":"10px","padding-right":"10px"}},[i("el-row",{staticClass:"items mt-4",attrs:{gutter:20}},[i("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-card",{staticClass:"box-card",attrs:{align:"right"}},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.updateInvoice(0)}}},[t._v("Түр хадгалах")]),i("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){return t.updateInvoice(1)}}},[t._v("Хадгалах")])],1)],1),i("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"page-invoice"},[i("div",{staticClass:"invoice bg-white black-text"},[i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo",style:{"margin-top":"2%"}},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("h1",[t._v("НЭХЭМЖЛЭХ")]),i("p",[t._v("ТҮМЭН ТЕХНО ХХК")]),i("p",{staticClass:"address"},[t._v("Монгол улс, Улаанбаатар хот, СБД 6-р хороо"),i("br"),t._v(" НҮБ-н гудамж, 3-35 тоот")]),i("p",{staticClass:"address"},[t._v("Утас: "),i("strong",[t._v("8630 6010")])])])]),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[i("h2",[t._v("Төлөгч байгууллага / Хувь хүн")]),i("div",{staticClass:"flex",style:{"margin-top":"10px","margin-bottom":"10px"}},[i("el-select",{attrs:{filterable:"",placeholder:"Төлөгч байгууллага",size:"mini"},on:{change:t.changeCompany},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.companies,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name+" ("+t.email+")",value:t.id}})})),1),i("el-button",{staticClass:"ml-10",attrs:{type:"primary",icon:"el-icon-plus",plain:"",size:"mini"},on:{click:function(e){t.modals.newClient=!0}}})],1),i("p",[i("strong",[t._v(t._s(t.invoiceTo.company))]),t._v(" (РД: "+t._s(t.invoiceTo.register)+")")]),i("p",{staticClass:"email"},[t._v(t._s(t.invoiceTo.email))]),i("p",[t._v(t._s(t.invoiceTo.phone))])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",[i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Нэхэмжлэхийн дугаар :")])]),i("td",{staticStyle:{width:"40%"},attrs:{align:"left"}},[t._v(t._s(t.detail.invoiceNumber))])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Нэхэмжилсэн огноо :")])]),i("td",{staticStyle:{width:"40%"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"date",placeholder:"Pick a day"},model:{value:t.invoiceTo.created_at,callback:function(e){t.$set(t.invoiceTo,"created_at",e)},expression:"invoiceTo.created_at"}})],1)]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Хүчинтэй огноо :")])]),i("td",{staticStyle:{width:"40%"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"date",placeholder:"Pick a day"},model:{value:t.invoiceTo.updated_at,callback:function(e){t.$set(t.invoiceTo,"updated_at",e)},expression:"invoiceTo.updated_at"}})],1)]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Төлөв :")])]),i("td",{staticStyle:{width:"40%"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Төлөв",size:"mini"},model:{value:t.invoiceTo.stat,callback:function(e){t.$set(t.invoiceTo,"stat",e)},expression:"invoiceTo.stat"}},t._l(t.status,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)])])])]),t._l(t.products,(function(e,a){return i("div",{key:a,staticClass:"invoice-bottom"},[i("el-button",{style:{position:"absolute",bottom:"10px",right:"10px"},attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(e){return t.removeProduct(a)}}}),i("table",[i("thead",[i("tr",[i("th",[t._v("Бүтээгдэхүүн")]),i("th",[t._v("Тоо")]),i("th",[t._v("Үнэ")]),i("th",[t._v("Нийт үнэ")])])]),i("tbody",[i("tr",[i("td",[i("el-input",{attrs:{placeholder:"Бүтээгдэхүүний модель",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProduct(a)}},model:{value:e.product_model,callback:function(a){t.$set(e,"product_model",a)},expression:"item.product_model"}})],1),i("td",[i("el-input-number",{attrs:{min:1},model:{value:e.remain,callback:function(a){t.$set(e,"remain",a)},expression:"item.remain"}})],1),i("td",{style:{width:"15%"}},[i("el-input",{attrs:{placeholder:"Бүтээгдэхүүний модель",clearable:""},model:{value:e.price,callback:function(a){t.$set(e,"price",a)},expression:"item.price"}})],1),i("td",{style:{width:"10%"}},[t._v(t._s(Number(e.price*e.remain).toLocaleString()))])]),i("tr",[i("td",[i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Бүтээгдэхүүний нэр"},model:{value:e.product_name,callback:function(a){t.$set(e,"product_name",a)},expression:"item.product_name"}})],1),i("td"),i("td"),i("td")])])])],1)})),i("div",{staticClass:"mt-20"},[i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:t.addProduct}},[t._v("Бүтээгдэхүүн нэмэх")])],1),i("div",{staticStyle:{"margin-bottom":"50px"}},[i("table",{attrs:{align:"right"}},[i("tr",[i("td",{staticClass:"Rate"},[i("h2",[t._v("Total")])]),i("td",{staticClass:"payment"},[i("h2",[t._v("₮"+t._s(t.amount_text))])])])])]),i("div",{staticClass:"legalcopy flex mt-20"},[i("p",{staticClass:"legal box grow mr-20 mt-0"},[i("strong",[t._v("Биднийг сонгосонд баярлалаа !")]),t._v(" Дараа дахин үйлчлүүлээрэй. Таны бизнест амжилт хүсье. ")])])],2)])])],1)],1)],1),i("el-dialog",{attrs:{title:"Хайлтын илэрц",visible:t.modals.result},on:{"update:visible":function(e){return t.$set(t.modals,"result",e)}}},[i("el-table",{attrs:{data:t.filteredProduct}},[i("el-table-column",{attrs:{property:"name",label:"Нэр",width:"300"}}),i("el-table-column",{attrs:{property:"model",label:"Модель",width:"200"}}),i("el-table-column",{attrs:{property:"sale_price",label:"Үнэ"}}),i("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"danger",icon:"el-icon-sell",circle:""},on:{click:function(a){return t.addToInvoice(e.row)}}})]}}])})],1)],1),i("el-dialog",{attrs:{title:"Төлөгч байгууллага бүртгэх",visible:t.modals.newClient,align:"center"},on:{"update:visible":function(e){return t.$set(t.modals,"newClient",e)}}},[i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Нэр",clearable:""},model:{value:t.newClient.name,callback:function(e){t.$set(t.newClient,"name",e)},expression:"newClient.name"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Имэйл хаяг",clearable:""},model:{value:t.newClient.email,callback:function(e){t.$set(t.newClient,"email",e)},expression:"newClient.email"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Регистр",clearable:""},model:{value:t.newClient.register,callback:function(e){t.$set(t.newClient,"register",e)},expression:"newClient.register"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Утасны дугаар",clearable:""},model:{value:t.newClient.phone,callback:function(e){t.$set(t.newClient,"phone",e)},expression:"newClient.phone"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.modals.newClient=!1}}},[t._v("Болих")]),i("el-button",{attrs:{type:"primary"},on:{click:t.saveClient}},[t._v("Хадгалах")])],1)],1)],1)},_i=[],yi={data:function(){return{newClient:{name:"",register:"",phone:"",email:""},invoiceTo:{company:"ICBC",register:"2090562",phone:"75117733",email:"sales@icbc.mn"},selected:"",companies:[],detail:{invoiceNumber:""},products:[],allproduct:[],filteredProduct:[],selectedIndex:0,modals:{result:!1,newClient:!1},status:[{label:"Төлөгдсөн",value:"true"},{label:"Төлөгдөөгүй",value:"false"},{label:"Дутуу төлөлт",value:"half"}]}},computed:{amount:function(){return _.reduce(this.products,(function(t,e){return t+e.price*e.remain}),0)},amount_text:function(){return this.invoiceTo.total_amount=this.amount,Number(this.amount).toLocaleString()}},mounted:function(){this.detail.invoiceNumber=this.$route.params.id,this.getInvoice()},methods:{updateInvoice:function(t){var e=this,a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/invoice/update-invoice",headers:{Authorization:"Bearer ".concat(a)},data:{to:this.invoiceTo,product:this.products,invoiceNumber:this.detail.invoiceNumber,done:t}}).then((function(a){"success"==a.data.result&&(e.$notify({title:"Амжилтай",message:"Амжилттай хадгалагдлаа",type:"success"}),1===t&&e.$router.push("/invoices"))})).catch((function(t){console.log(t)}))},saveClient:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/invoice/add-new-company",headers:{Authorization:"Bearer ".concat(e)},data:{name:this.newClient.name,email:this.newClient.email,register:this.newClient.register,phone:this.newClient.phone}}).then((function(e){"success"==e.data.result?(t.companies.push(t.newClient),t.invoiceTo.company=t.newClient.name,t.invoiceTo.email=t.newClient.email,t.invoiceTo.register=t.newClient.register,t.invoiceTo.phone=t.newClient.phone,t.selected=e.data.email,t.$notify({title:"Амжилтай",message:"Амжилттай бүртгэгдлээ",type:"success"}),t.modals.newClient=!1):t.$notify({title:"Амжилтгүй",message:"Бүртгэлтэй цахим хаяг",type:"error"})})).catch((function(t){console.log(t)}))},addToInvoice:function(t){var e=this.products.some((function(e){return e.product_model==t.model}));if(e)this.products.forEach((function(e,a){e.product_model==t.model&&e.remain++}));else{var a=this.products[this.selectedIndex];a.product_name=t.name,a.product_model=t.model,a.price=t.sale_price,a.remain=1}},searchProduct:function(t){var e=this;this.selectedIndex=t;var a="";this.products.forEach((function(e,i){i==t&&(a=e.product_model)})),""!==a&&(this.filteredProduct=[],this.allproduct.forEach((function(t){t.model.toUpperCase().includes(a.toUpperCase())&&e.filteredProduct.push(t)})),this.modals.result=!0)},addProduct:function(){var t={product_name:"",product_model:"",remain:1,price:0};this.products.push(t)},removeProduct:function(t){var e=this;this.products.forEach((function(a,i){t==i&&e.products.splice(i,1)}))},changeCompany:function(t){var e=this;this.companies.forEach((function(a){a.id==t&&(e.invoiceTo.company=a.name,e.invoiceTo.register=a.register,e.invoiceTo.phone=a.phone,e.invoiceTo.email=a.email)}))},getInvoice:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/invoice/get-invoice",headers:{Authorization:"Bearer ".concat(e)},data:{invoiceNumber:t.detail.invoiceNumber}}).then((function(e){"success"==e.data.result&&(t.companies=e.data.companies,t.invoiceTo=e.data.invoice,t.selected=e.data.invoice.email,t.allproduct=e.data.allproduct,e.data.product.length<=0?t.addProduct():t.products=e.data.product)})).catch((function(t){console.log(t)}))}}},xi=yi,wi=(a("57cc"),Object(x["a"])(xi,bi,_i,!1,null,null,null)),Ci=wi.exports,ki=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"scrollable",style:{"max-height":"100%","overflow-x":"hidden","padding-left":"10px","padding-right":"10px"}},[i("el-row",{staticClass:"items mt-4",attrs:{gutter:20}},[i("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-card",{staticClass:"box-card",attrs:{align:"right"}},[i("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){return t.$router.push("/invoices")}}},[t._v("Хадгалах")])],1)],1),i("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"page-invoice"},[i("div",{staticClass:"invoice bg-white black-text"},[i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo",style:{"margin-top":"2%"}},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("h1",[t._v("НЭХЭМЖЛЭХ")]),i("p",[t._v("ТҮМЭН ТЕХНО ХХК")]),i("p",{staticClass:"address"},[t._v("Монгол улс, Улаанбаатар хот, СБД 6-р хороо"),i("br"),t._v(" НҮБ-н гудамж, 3-35 тоот")]),i("p",{staticClass:"address"},[t._v("Утас: "),i("strong",[t._v("8630 6010")])])])]),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[i("h2",[t._v("Төлөгч байгууллага / Хувь хүн")]),i("div",{staticClass:"flex",style:{"margin-top":"10px","margin-bottom":"10px"}},[i("el-select",{attrs:{filterable:"",placeholder:"Төлөгч байгууллага",size:"mini"},on:{change:t.changeCompany},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.companies,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name+" ("+t.email+")",value:t.id}})})),1),i("el-button",{staticClass:"ml-10",attrs:{type:"primary",icon:"el-icon-plus",plain:"",size:"mini"},on:{click:function(e){t.modals.newClient=!0}}})],1),i("p",[i("strong",[t._v(t._s(t.invoiceTo.company))]),t._v(" (РД: "+t._s(t.invoiceTo.register)+")")]),i("p",{staticClass:"email"},[t._v(t._s(t.invoiceTo.email))]),i("p",[t._v(t._s(t.invoiceTo.phone))])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",[i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Нэхэмжлэхийн дугаар :")])]),i("td",{staticStyle:{width:"40%"},attrs:{align:"left"}},[t._v(t._s(t.detail.invoiceNumber))])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Нэхэмжилсэн огноо :")])]),i("td",{staticStyle:{width:"40%"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"date",placeholder:"Pick a day"},model:{value:t.invoiceTo.created_at,callback:function(e){t.$set(t.invoiceTo,"created_at",e)},expression:"invoiceTo.created_at"}})],1)]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Хүчинтэй огноо :")])]),i("td",{staticStyle:{width:"40%"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"date",placeholder:"Pick a day"},model:{value:t.invoiceTo.updated_at,callback:function(e){t.$set(t.invoiceTo,"updated_at",e)},expression:"invoiceTo.updated_at"}})],1)]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Төлөв :")])]),i("td",{staticStyle:{width:"40%"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Төлөв",size:"mini"},model:{value:t.invoiceTo.stat,callback:function(e){t.$set(t.invoiceTo,"stat",e)},expression:"invoiceTo.stat"}},t._l(t.status,(function(t,e){return i("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)])])])]),t._l(t.products,(function(e,a){return i("div",{key:a,staticClass:"invoice-bottom"},[i("el-button",{style:{position:"absolute",bottom:"10px",right:"10px"},attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(e){return t.removeProduct(a)}}}),i("table",[i("thead",[i("tr",[i("th",[t._v("Бүтээгдэхүүн")]),i("th",[t._v("Тоо")]),i("th",[t._v("Үнэ")]),i("th",[t._v("Нийт үнэ")])])]),i("tbody",[i("tr",[i("td",[i("el-input",{attrs:{placeholder:"Бүтээгдэхүүний модель",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProduct(a)}},model:{value:e.product_model,callback:function(a){t.$set(e,"product_model",a)},expression:"item.product_model"}})],1),i("td",[i("el-input-number",{attrs:{min:1},model:{value:e.remain,callback:function(a){t.$set(e,"remain",a)},expression:"item.remain"}})],1),i("td",{style:{width:"15%"}},[i("el-input",{attrs:{placeholder:"Бүтээгдэхүүний модель",clearable:""},model:{value:e.price,callback:function(a){t.$set(e,"price",a)},expression:"item.price"}})],1),i("td",{style:{width:"10%"}},[t._v(t._s(Number(e.price*e.remain).toLocaleString()))])]),i("tr",[i("td",[i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Бүтээгдэхүүний нэр"},model:{value:e.product_name,callback:function(a){t.$set(e,"product_name",a)},expression:"item.product_name"}})],1),i("td"),i("td"),i("td")])])])],1)})),i("div",{staticClass:"mt-20"},[i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:t.addProduct}},[t._v("Бүтээгдэхүүн нэмэх")])],1),i("div",{staticStyle:{"margin-bottom":"50px"}},[i("table",{attrs:{align:"right"}},[i("tr",[i("td",{staticClass:"Rate"},[i("h2",[t._v("Total")])]),i("td",{staticClass:"payment"},[i("h2",[t._v("₮"+t._s(t.amount_text))])])])])]),i("div",{staticClass:"legalcopy flex mt-20"},[i("p",{staticClass:"legal box grow mr-20 mt-0"},[i("strong",[t._v("Биднийг сонгосонд баярлалаа !")]),t._v(" Дараа дахин үйлчлүүлээрэй. Таны бизнест амжилт хүсье. ")])])],2)])])],1)],1)],1),i("el-dialog",{attrs:{title:"Хайлтын илэрц",visible:t.modals.result},on:{"update:visible":function(e){return t.$set(t.modals,"result",e)}}},[i("el-table",{attrs:{data:t.filteredProduct}},[i("el-table-column",{attrs:{property:"name",label:"Нэр",width:"300"}}),i("el-table-column",{attrs:{property:"model",label:"Модель",width:"200"}}),i("el-table-column",{attrs:{property:"sale_price",label:"Үнэ"}}),i("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"danger",icon:"el-icon-sell",circle:""},on:{click:function(a){return t.addToInvoice(e.row)}}})]}}])})],1)],1),i("el-dialog",{attrs:{title:"Төлөгч байгууллага бүртгэх",visible:t.modals.newClient,align:"center"},on:{"update:visible":function(e){return t.$set(t.modals,"newClient",e)}}},[i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Нэр",clearable:""},model:{value:t.newClient.name,callback:function(e){t.$set(t.newClient,"name",e)},expression:"newClient.name"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Имэйл хаяг",clearable:""},model:{value:t.newClient.email,callback:function(e){t.$set(t.newClient,"email",e)},expression:"newClient.email"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Регистр",clearable:""},model:{value:t.newClient.register,callback:function(e){t.$set(t.newClient,"register",e)},expression:"newClient.register"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Утасны дугаар",clearable:""},model:{value:t.newClient.phone,callback:function(e){t.$set(t.newClient,"phone",e)},expression:"newClient.phone"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.modals.newClient=!1}}},[t._v("Болих")]),i("el-button",{attrs:{type:"primary"},on:{click:t.saveClient}},[t._v("Хадгалах")])],1)],1)],1)},Si=[],$i={data:function(){return{newClient:{name:"",register:"",phone:"",email:""},invoiceTo:{company:"ICBC",register:"2090562",phone:"75117733",email:"sales@icbc.mn"},selected:"",companies:[],detail:{invoiceNumber:""},products:[],allproduct:[],filteredProduct:[],selectedIndex:0,modals:{result:!1,newClient:!1},status:[{label:"Төлөгдсөн",value:"true"},{label:"Төлөгдөөгүй",value:"false"},{label:"Дутуу төлөлт",value:"half"}]}},computed:{amount:function(){return _.reduce(this.products,(function(t,e){return t+e.price*e.remain}),0)},amount_text:function(){return this.invoiceTo.total_amount=this.amount,Number(this.amount).toLocaleString()}},mounted:function(){this.detail.invoiceNumber=this.$route.params.id,this.getInvoice()},beforeRouteLeave:function(t,e,a){var i=this;return Object(Xe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i.$confirm("Өөрчлөлтийг хадгалах","Санамж",{confirmButtonText:"Хадгалах",cancelButtonText:"Болих",type:"warning",center:!0}).then((function(){i.updateInvoice(1,1),a()})).catch((function(){var t=i,e=localStorage.getItem("token");e&&i.$axios({method:"post",url:t.$appUrl+"/api/invoice/delete-changed-invoice",headers:{Authorization:"Bearer ".concat(e)},data:{invoiceNumber:i.detail.invoiceNumber}}).then((function(t){a()})).catch((function(t){console.log(t)}))}));case 1:case"end":return t.stop()}}),t)})))()},methods:{updateInvoice:function(t,e){var a=this,i=localStorage.getItem("token");i&&this.$axios({method:"post",url:a.$appUrl+"/api/invoice/update-invoice",headers:{Authorization:"Bearer ".concat(i)},data:{to:this.invoiceTo,product:this.products,invoiceNumber:this.detail.invoiceNumber,done:t}}).then((function(i){"success"==i.data.result&&(a.$notify({title:"Амжилтай",message:"Амжилттай хадгалагдлаа",type:"success"}),0==e&&1===t&&a.$router.push("/invoices"))})).catch((function(t){console.log(t)}))},saveClient:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/invoice/add-new-company",headers:{Authorization:"Bearer ".concat(e)},data:{name:this.newClient.name,email:this.newClient.email,register:this.newClient.register,phone:this.newClient.phone}}).then((function(e){"success"==e.data.result?(t.companies.push(t.newClient),t.invoiceTo.company=t.newClient.name,t.invoiceTo.email=t.newClient.email,t.invoiceTo.register=t.newClient.register,t.invoiceTo.phone=t.newClient.phone,t.selected=e.data.email,t.$notify({title:"Амжилтай",message:"Амжилттай бүртгэгдлээ",type:"success"}),t.modals.newClient=!1):t.$notify({title:"Амжилтгүй",message:"Бүртгэлтэй цахим хаяг",type:"error"})})).catch((function(t){console.log(t)}))},addToInvoice:function(t){var e=this.products.some((function(e){return e.product_model==t.model}));if(e)this.products.forEach((function(e,a){e.product_model==t.model&&e.remain++}));else{var a=this.products[this.selectedIndex];a.product_name=t.name,a.product_model=t.model,a.price=t.sale_price,a.remain=1}},searchProduct:function(t){var e=this;this.selectedIndex=t;var a="";this.products.forEach((function(e,i){i==t&&(a=e.product_model)})),""!==a&&(this.filteredProduct=[],this.allproduct.forEach((function(t){t.model.toUpperCase().includes(a.toUpperCase())&&e.filteredProduct.push(t)})),this.modals.result=!0)},addProduct:function(){var t={product_name:"",product_model:"",remain:1,price:0};this.products.push(t)},removeProduct:function(t){var e=this;this.products.forEach((function(a,i){t==i&&e.products.splice(i,1)}))},changeCompany:function(t){var e=this;this.companies.forEach((function(a){a.id==t&&(e.invoiceTo.company=a.name,e.invoiceTo.register=a.register,e.invoiceTo.phone=a.phone,e.invoiceTo.email=a.email)}))},getInvoice:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/invoice/get-invoice-from-offer",headers:{Authorization:"Bearer ".concat(e)},data:{invoiceNumber:t.detail.invoiceNumber}}).then((function(e){"success"==e.data.result?(t.companies=e.data.companies,t.invoiceTo=e.data.invoice,t.selected=e.data.invoice.email,t.allproduct=e.data.allproduct,e.data.product.length<=0?t.addProduct():t.products=e.data.product):t.$router.push("/not-found")})).catch((function(t){console.log(t)}))}}},Ii=$i,zi=(a("209c"),Object(x["a"])(Ii,ki,Si,!1,null,null,null)),Ti=zi.exports,Li=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"scrollable",style:{"max-height":"100%","overflow-x":"hidden","padding-left":"10px","padding-right":"10px"}},[i("el-row",{staticClass:"items mt-4",attrs:{gutter:20}},[i("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-card",{staticClass:"box-card",attrs:{align:"right"}},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.updateInvoice(0)}}},[t._v("Түр хадгалах")]),i("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){return t.updateInvoice(1)}}},[t._v("Хадгалах")])],1)],1),i("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"page-invoice"},[i("div",{staticClass:"invoice bg-white black-text"},[i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo",style:{"margin-top":"2%"}},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("h1",[t._v("ҮНИЙН САНАЛ")]),i("p",[t._v("ТҮМЭН ТЕХНО ХХК")]),i("p",{staticClass:"address",staticStyle:{"margin-top":"7px","font-size":"12px"}},[t._v("Монгол улс, Улаанбаатар хот, СБД 6-р хороо"),i("br"),t._v(" НҮБ-н гудамж, 3-35 тоот")]),i("p",{staticClass:"address"},[t._v("Утас: "),i("strong",[t._v("8630 6010")])])])]),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[i("h2",[t._v("Төлөгч байгууллага / Хувь хүн")]),i("div",{staticClass:"flex",style:{"margin-top":"10px","margin-bottom":"10px"}},[i("el-select",{attrs:{filterable:"",placeholder:"Төлөгч байгууллага",size:"mini"},on:{change:t.changeCompany},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.companies,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name+" ("+t.email+")",value:t.id}})})),1),i("el-button",{staticClass:"ml-10",attrs:{type:"primary",icon:"el-icon-plus",plain:"",size:"mini"},on:{click:function(e){t.modals.newClient=!0}}})],1),i("p",[i("strong",[t._v(t._s(t.invoiceTo.company))]),t._v(" (РД: "+t._s(t.invoiceTo.register)+")")]),i("p",{staticClass:"email"},[t._v(t._s(t.invoiceTo.email))]),i("p",[t._v(t._s(t.invoiceTo.phone))])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",[i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Үнийн саналын дугаар :")])]),i("td",{staticStyle:{width:"40%"},attrs:{align:"left"}},[t._v(t._s(t.detail.invoiceNumber))])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Үүсгэсэн огноо :")])]),i("td",{staticStyle:{width:"40%"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"date",placeholder:"Pick a day"},model:{value:t.invoiceTo.created_at,callback:function(e){t.$set(t.invoiceTo,"created_at",e)},expression:"invoiceTo.created_at"}})],1)]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Хүчинтэй огноо :")])]),i("td",{staticStyle:{width:"40%"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"date",placeholder:"Pick a day"},model:{value:t.invoiceTo.updated_at,callback:function(e){t.$set(t.invoiceTo,"updated_at",e)},expression:"invoiceTo.updated_at"}})],1)]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Нийлүүлэх хугацаа ( хоног ) :")])]),i("td",{staticStyle:{width:"40%"}},[i("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:0,size:"mini"},model:{value:t.invoiceTo.available_date,callback:function(e){t.$set(t.invoiceTo,"available_date",e)},expression:"invoiceTo.available_date"}})],1)]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Урьдчилгаа төлбөр ( хувь ) :")])]),i("td",{staticStyle:{width:"40%"}},[i("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:0,size:"mini"},model:{value:t.invoiceTo.pre_amount,callback:function(e){t.$set(t.invoiceTo,"pre_amount",e)},expression:"invoiceTo.pre_amount"}})],1)])])])]),t._l(t.products,(function(e,a){return i("div",{key:a,staticClass:"invoice-bottom"},[i("el-button",{style:{position:"absolute",bottom:"10px",right:"70px"},attrs:{type:"primary",icon:"el-icon-upload2",circle:"",size:"mini"},on:{click:function(a){return t.uploadImage(e.id)}}}),i("el-button",{style:{position:"absolute",bottom:"10px",right:"40px"},attrs:{type:"primary",icon:"el-icon-picture-outline",circle:"",size:"mini"},on:{click:function(a){return t.showBigImage(e.image,e.image1,e.image2,e.image3,e.image_type)}}}),i("el-button",{style:{position:"absolute",bottom:"10px",right:"10px"},attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(i){return t.removeProduct(e,a)}}}),i("table",[i("thead",[i("tr",[i("th",[t._v("Бүтээгдэхүүн")]),i("th",[t._v("Тоо")]),i("th",[t._v("Үнэ")]),i("th",[t._v("Нийт үнэ")])])]),i("tbody",[i("tr",[i("td",[i("el-input",{attrs:{placeholder:"Бүтээгдэхүүн",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProduct(a)}},model:{value:e.product_name,callback:function(a){t.$set(e,"product_name",a)},expression:"item.product_name"}})],1),i("td",[i("el-input-number",{attrs:{min:1},model:{value:e.remain,callback:function(a){t.$set(e,"remain",a)},expression:"item.remain"}})],1),i("td",{style:{width:"15%"}},[i("el-input",{attrs:{placeholder:"Бүтээгдэхүүний тайлбар",clearable:""},model:{value:e.price,callback:function(a){t.$set(e,"price",a)},expression:"item.price"}})],1),i("td",{style:{width:"10%"}},[t._v(t._s(Number(e.price*e.remain).toLocaleString()))])]),i("tr",[i("td",[i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Бүтээгдэхүүний тайлбар"},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"item.description"}})],1),i("td"),i("td"),i("td")])])])],1)})),i("div",{staticClass:"mt-20"},[i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:t.addProduct}},[t._v("Бүтээгдэхүүн нэмэх")])],1),i("div",{staticStyle:{"margin-bottom":"50px"}},[i("table",{attrs:{align:"right"}},[i("tr",[i("td",{staticClass:"Rate"},[i("h2",[t._v("Total")])]),i("td",{staticClass:"payment"},[i("h2",[t._v("₮"+t._s(t.amount_text))])])])])]),i("div",{staticClass:"legalcopy flex mt-20"},[i("p",{staticClass:"legal box grow mr-20 mt-0"},[i("strong",[t._v("Биднийг сонгосонд баярлалаа !")]),t._v(" Дараа дахин үйлчлүүлээрэй. Таны бизнест амжилт хүсье. ")])])],2)])])],1)],1)],1),i("div",{staticClass:"demo-image__preview"},[i("el-image",{ref:"bigImage",staticStyle:{width:"100px",height:"100px"},attrs:{hidden:"",id:"bigImage",src:"https://api.hurdanhuruu.mn/images/race/default.jpeg","preview-src-list":t.bigImageSource}})],1),i("input",{ref:"image",attrs:{type:"file",accept:"image/*",hidden:"",id:"image"},on:{change:t.onProfileImageSelected}}),i("el-dialog",{attrs:{title:"Хайлтын илэрц",visible:t.modals.result},on:{"update:visible":function(e){return t.$set(t.modals,"result",e)}}},[i("el-table",{attrs:{data:t.filteredProduct}},[i("el-table-column",{attrs:{property:"name",label:"Нэр",width:"300"}}),i("el-table-column",{attrs:{property:"model",label:"Модель",width:"200"}}),i("el-table-column",{attrs:{property:"sale_price",label:"Үнэ"}}),i("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"danger",icon:"el-icon-sell",circle:""},on:{click:function(a){return t.addToInvoice(e.row)}}})]}}])})],1)],1),i("el-dialog",{attrs:{title:"Төлөгч байгууллага бүртгэх",visible:t.modals.newClient,align:"center"},on:{"update:visible":function(e){return t.$set(t.modals,"newClient",e)}}},[i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Нэр",clearable:""},model:{value:t.newClient.name,callback:function(e){t.$set(t.newClient,"name",e)},expression:"newClient.name"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Имэйл хаяг",clearable:""},model:{value:t.newClient.email,callback:function(e){t.$set(t.newClient,"email",e)},expression:"newClient.email"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Регистр",clearable:""},model:{value:t.newClient.register,callback:function(e){t.$set(t.newClient,"register",e)},expression:"newClient.register"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Утасны дугаар",clearable:""},model:{value:t.newClient.phone,callback:function(e){t.$set(t.newClient,"phone",e)},expression:"newClient.phone"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.modals.newClient=!1}}},[t._v("Болих")]),i("el-button",{attrs:{type:"primary"},on:{click:t.saveClient}},[t._v("Хадгалах")])],1)],1)],1)},Ui=[],Bi=(a("a4d3"),a("e01a"),{data:function(){return{newClient:{name:"",register:"",phone:"",email:""},invoiceTo:{company:"ICBC",register:"2090562",phone:"75117733",email:"sales@icbc.mn",available_date:0,pre_amount:0},selected:"",companies:[],detail:{invoiceNumber:""},products:[],allproduct:[],filteredProduct:[],selectedIndex:0,bigImageSource:[""],modals:{result:!1,newClient:!1},upload:{id:"",selected:""}}},computed:{amount:function(){return _.reduce(this.products,(function(t,e){return t+e.price*e.remain}),0)},amount_text:function(){return this.invoiceTo.total_amount=this.amount,Number(this.amount).toLocaleString()}},mounted:function(){this.detail.invoiceNumber=this.$route.params.id,this.getInvoice()},methods:{uploadImage:function(t){this.upload.id=t,this.$refs.image.click()},onProfileImageSelected:function(t){if(t.target.files[0].size/1024>100)this.$notify({title:"Амжилтгүй",message:"100KB -аас ихгүй байх ёстой",type:"error"});else{var e=t.target.files[0];this.upload.selected=e;var a=this,i=localStorage.getItem("token");if(this.upload.selected){var s=new FormData;s.append("photo",this.upload.selected,this.upload.selected.name),s.append("id",JSON.stringify(this.upload.id)),this.$axios.post(this.$appUrl+"/api/offer/update-offer-product-image",s,{headers:{Authorization:"Bearer ".concat(i)}}).then((function(t){console.log(t.data.image),a.products.forEach((function(e){e.id==a.upload.id&&(e.image=t.data.image,e.image1="no-image.jpg",e.image2="no-image.jpg",e.image3="no-image.jpg",e.image_type=2)}))})).catch((function(t){a.loading=!1,console.log(t)}))}}},showBigImage:function(t,e,a,i,s){if(1==s)this.bigImageSource=[this.$imgUrl+t,this.$imgUrl+e,this.$imgUrl+a,this.$imgUrl+i];else{var o=this.$appUrl+"/images/local/offer/";this.bigImageSource=[o+t,o+e,o+a,o+i]}var r=document.getElementById("bigImage");r.click()},updateInvoice:function(t){var e=this,a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/offer/update-offer",headers:{Authorization:"Bearer ".concat(a)},data:{to:this.invoiceTo,product:this.products,invoiceNumber:this.detail.invoiceNumber,done:t}}).then((function(a){"success"==a.data.result&&(e.$notify({title:"Амжилтай",message:"Амжилттай хадгалагдлаа",type:"success"}),1===t&&e.$router.push("/offers"))})).catch((function(t){console.log(t)}))},saveClient:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/invoice/add-new-company",headers:{Authorization:"Bearer ".concat(e)},data:{name:this.newClient.name,email:this.newClient.email,register:this.newClient.register,phone:this.newClient.phone}}).then((function(e){"success"==e.data.result?(t.companies.push(t.newClient),t.invoiceTo.company=t.newClient.name,t.invoiceTo.email=t.newClient.email,t.invoiceTo.register=t.newClient.register,t.invoiceTo.phone=t.newClient.phone,t.selected=e.data.email,t.$notify({title:"Амжилтай",message:"Амжилттай бүртгэгдлээ",type:"success"}),t.modals.newClient=!1):t.$notify({title:"Амжилтгүй",message:"Бүртгэлтэй цахим хаяг",type:"error"})})).catch((function(t){console.log(t)}))},addToInvoice:function(t){var e=this.products.some((function(e){return e.product_model==t.model}));if(e)this.products.forEach((function(e,a){e.product_model==t.model&&e.remain++}));else{var a=this,i=localStorage.getItem("token");i&&this.$axios({method:"post",url:a.$appUrl+"/api/offer/update-offer-product",headers:{Authorization:"Bearer ".concat(i)},data:{product:t,id:this.products[this.selectedIndex].id,type:1}}).then((function(e){if("success"==e.data.result){var i=a.products[a.selectedIndex];i.product_name=t.model+" "+t.name,i.product_model=t.model,i.price=t.sale_price,i.image_type=1,i.description=t.description,i.image=t.image1,i.image1=t.image2,i.image2=t.image3,i.offer_number=a.detail.invoiceNumber,i.image3=t.image4}})).catch((function(t){console.log(t)}))}},searchProduct:function(t){var e=this;this.selectedIndex=t;var a="";this.products.forEach((function(e,i){i==t&&(a=e.product_name)})),""!==a&&(this.filteredProduct=[],this.allproduct.forEach((function(t){t.model.toUpperCase().includes(a.toUpperCase())&&e.filteredProduct.push(t)})),this.modals.result=!0)},addProduct:function(){var t={product_name:"",product_model:"",remain:1,price:0,description:"",image:"no-image.jpg",image1:"no-image.jpg",image2:"no-image.jpg",image3:"no-image.jpg",image_type:2,offer_number:this.detail.invoiceNumber},e=this,a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/offer/add-product-to-offer",headers:{Authorization:"Bearer ".concat(a)},data:{product:t}}).then((function(a){"success"==a.data.result&&(t["id"]=a.data.id,e.products.push(t))})).catch((function(t){console.log(t)}))},removeProduct:function(t,e){var a=this,i=localStorage.getItem("token");i&&this.$axios({method:"post",url:a.$appUrl+"/api/offer/delete-offer-product",headers:{Authorization:"Bearer ".concat(i)},data:{offernumber:this.detail.invoiceNumber,id:t.id}}).then((function(t){"success"==t.data.result&&a.products.splice(e,1)})).catch((function(t){console.log(t)}))},changeCompany:function(t){var e=this;this.companies.forEach((function(a){a.id==t&&(e.invoiceTo.company=a.name,e.invoiceTo.register=a.register,e.invoiceTo.phone=a.phone,e.invoiceTo.email=a.email)}))},getInvoice:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/offer/get-offer",headers:{Authorization:"Bearer ".concat(e)},data:{invoiceNumber:t.detail.invoiceNumber}}).then((function(e){"success"==e.data.result&&(t.companies=e.data.companies,t.invoiceTo=e.data.invoice,t.selected=e.data.invoice.email,t.allproduct=e.data.allproduct,e.data.product.length<=0?t.addProduct():t.products=e.data.product)})).catch((function(t){console.log(t)}))}}}),Ei=Bi,Di=(a("ba76b"),Object(x["a"])(Ei,Li,Ui,!1,null,null,null)),Oi=Di.exports,Pi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"scrollable",style:{"max-height":"100%","overflow-x":"hidden","padding-left":"10px","padding-right":"10px"}},[i("el-row",{staticClass:"items mt-4",attrs:{gutter:20}},[i("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-card",{staticClass:"box-card",attrs:{align:"right"}},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.updateInvoice(0)}}},[t._v("Түр хадгалах")]),i("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){return t.updateInvoice(1)}}},[t._v("Хадгалах")])],1)],1),i("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"page-invoice"},[i("div",{staticClass:"invoice bg-white black-text"},[i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo",style:{width:"400px"}},[i("img",{style:{"margin-top":"0"},attrs:{src:a("2117"),alt:"logo"}}),i("p",{staticClass:"font-invoice",staticStyle:{"font-size":"13px","line-height":"normal",color:"#0bacfa"}},[t._v("Монгол улс, Улаанбаатар хот, Чингэлтэй дүүрэг,"),i("br"),t._v(" 4-р хороо, Жуулчны гудамж 4/4 Макс Цамхаг,"),i("br"),t._v(" 3 давхарт 306 тоот, Вэб: www.icbc.mn, Цахим шуудан: info@icbc.mn, Утас: (976)-75117733"),i("br")]),i("p",{staticClass:"font-invoice",staticStyle:{"font-size":"16px","margin-top":"10px","text-align":"center","line-height":"normal"}},[i("span",{staticStyle:{display:"inline-block",width:"165px","border-bottom":"1px solid #0bacfa"}},[t._v(t._s(t.official.created_at.split("T")[0]))]),i("span",{staticStyle:{color:"#0bacfa"}},[t._v("№")]),i("span",{staticStyle:{display:"inline-block",width:"165px","border-bottom":"1px solid #0bacfa"}},[t._v(t._s(t.official.official_id))])]),i("p",{staticClass:"font-invoice",staticStyle:{"font-size":"16px","margin-top":"10px","text-align":"center","line-height":"normal",color:"#0bacfa"}},[t._v("танай"),i("span",{staticStyle:{display:"inline-block",width:"120px","border-bottom":"1px solid"}}),t._v("-ны № "),i("span",{staticStyle:{display:"inline-block",width:"120px","border-bottom":"1px solid"}}),t._v("-т")]),i("div",{style:{width:"340px",position:"relative","margin-left":"30px","padding-left":"10px","padding-right":"10px","padding-top":"5px"},attrs:{align:"center"}},[i("span",{style:{position:"absolute",left:"-10px",top:"-15px","font-size":"20px",color:"#0bacfa"}},[t._v("┍")]),i("el-input",{style:{"text-align":"center"},attrs:{type:"textarea",id:"textabout",rows:2,placeholder:"Албан бичгийн толгой"},model:{value:t.official.about,callback:function(e){t.$set(t.official,"about",e)},expression:"official.about"}}),i("span",{style:{position:"absolute",right:"-10px",top:"-15px","font-size":"20px",color:"#0bacfa"}},[t._v("┑")])],1)]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("div",{style:{width:"400px",position:"relative","padding-left":"10px","padding-right":"10px","padding-top":"5px"},attrs:{align:"center"}},[i("span",{style:{position:"absolute",left:"-10px",top:"-15px","font-size":"20px",color:"#0bacfa"}},[t._v("┍")]),i("el-input",{attrs:{type:"textarea",rows:2,id:"textabout",placeholder:"Албан бичиг явуулах компани"},model:{value:t.official.receiver,callback:function(e){t.$set(t.official,"receiver",e)},expression:"official.receiver"}}),i("span",{style:{position:"absolute",right:"-10px",top:"-15px","font-size":"20px",color:"#0bacfa"}},[t._v("┑")])],1)])]),i("div",{staticClass:"invoice-middle"},[i("el-input",{attrs:{type:"textarea",rows:10,maxlength:"4000",placeholder:"Тодорхойлолт"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:(e.preventDefault(),t.checkTab(e))}},model:{value:t.official.description,callback:function(e){t.$set(t.official,"description",e)},expression:"official.description"}})],1)])])])],1)],1)],1)])},ji=[],Ni=(a("fb6a"),{data:function(){return{official:{receiver:"",about:"",description:"",official_id:0,created_at:""},officialIndex:""}},computed:{amount:function(){return _.reduce(this.products,(function(t,e){return t+e.price*e.remain}),0)},amount_text:function(){return this.invoiceTo.total_amount=this.amount,Number(this.amount).toLocaleString()}},mounted:function(){var t=this;this.officialIndex=this.$route.params.id,this.$prompt("Батлах нууц үгээ оруулна уу","Санамж",{confirmButtonText:"Батлах",cancelButtonText:"Болих",inputType:"Password"}).then((function(e){var a=e.value,i=t,s=localStorage.getItem("token");s&&t.$axios({method:"post",url:i.$appUrl+"/api/user/check-official-password",headers:{Authorization:"Bearer ".concat(s)},data:{password:a}}).then((function(t){"success"==t.data.result?i.getInvoice():(i.$notify({title:"Амжилтгүй",message:"Нууц үг буруу",type:"error"}),i.$router.push("/officials"))})).catch((function(t){console.log(t)}))})).catch((function(){t.$router.push("/officials")}))},methods:{checkTab:function(t){t.preventDefault();var e=this.official.description.slice(0,t.target.selectionStart),a=this.official.description.slice(t.target.selectionStart);this.official.description="".concat(e,"\t").concat(a)},updateInvoice:function(t){if(""!=this.official.description&&""!=this.official.about&&""!=this.official.receiver){var e=this,a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/offer/update-official",headers:{Authorization:"Bearer ".concat(a)},data:{official:this.official,done:t}}).then((function(a){"success"==a.data.result&&(e.$notify({title:"Амжилтай",message:"Амжилттай хадгалагдлаа",type:"success"}),1===t&&e.$router.push("/officials"))})).catch((function(t){console.log(t)}))}else this.$notify({title:"Амжилтгүй",message:"Талбараа бүрэн бөглөнө үү",type:"error"})},getInvoice:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/offer/get-official",headers:{Authorization:"Bearer ".concat(e)},data:{officialId:t.officialIndex}}).then((function(e){"success"==e.data.result?t.official=e.data.official:t.$router.push({name:"not-found"})})).catch((function(t){console.log(t)}))}}}),Ri=Ni,Ai=(a("721c"),Object(x["a"])(Ri,Pi,ji,!1,null,null,null)),Mi=Ai.exports,qi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Нэхэмжлэхийн жагсаалт")])],1)],1)]),a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.datePickerChanged},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}})],1),a("el-input",{style:{width:"20%"},attrs:{placeholder:"Нэхэмжлэхийн дугаар ...","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchOrder(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"page-ecommerce-dashboard scrollable",style:{"max-height":"87%"}},[a("div",{staticClass:"table-box card-base card-outline",style:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover"},[t._m(0),a("tbody",t._l(t.invoices,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"}},[a("td",{on:{click:function(a){return t.goOrder(e.invoice_number)}}},[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/user/"+e.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.username))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.userphone))])])])]),a("td",{on:{click:function(a){return t.goOrder(e.invoice_number)}}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.created_at.replaceAll("T"," ").replaceAll(".000Z"," ")))])])]),a("td",{on:{click:function(a){return t.goOrder(e.invoice_number)}}},[a("div",{staticClass:"item-box item-location"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.invoice_number))])])]),a("td",{on:{click:function(a){return t.goOrder(e.invoice_number)}}},[a("div",{staticClass:"item-box item-location"},[a("h4",{staticClass:"m-0 mb-5"},[t._v(t._s(e.company))]),a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.phone))])])]),a("td",{on:{click:function(a){return t.goOrder(e.invoice_number)}}},[a("div",{staticClass:"item-box item-location"},[a("h4",{staticClass:"m-0 mb-5"},[t._v(t._s(Number(e.total_amount).toLocaleString()))])])]),a("td",{staticStyle:{"max-width":"150px"},on:{click:function(a){return t.goOrder(e.invoice_number)}}},[a("div",{staticClass:"item-box item-status",class:{"status-Pending":"false"==e.stat,"status-Complete":"true"==e.stat,"status-Returned":"half"==e.stat},style:{"border-radius":"5px"}},["false"==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Хүлээгдэж байгаа")]):"true"==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Төлөгдсөн")]):"half"==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Дутуу төлөлт")]):t._e(),a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.updated_at.replaceAll("T"," ").replaceAll(".000Z"," ")))])])]),a("td",[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-s-tools",size:"small",circle:""}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[1==t.LoggedUser.posID||2==t.LoggedUser.posID?a("el-dropdown-item",{nativeOn:{click:function(a){return t.writePrice(e.invoice_number)}}},[a("i",{staticClass:"el-icon-edit"}),t._v(" Дүн шивэх")]):t._e(),a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(a){return t.deleteInvoice(e.invoice_number)}}},[a("i",{staticClass:"el-icon-delete"}),t._v(" Устгах")])],1)],1)],1)])})),0)])])])])},Fi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Ажилтан")]),a("th",[t._v("Үүсгэсэн огноо")]),a("th",[t._v("Захиалгын дугаар")]),a("th",[t._v("Төлөгч байгууллага")]),a("th",[t._v("Нийт дүн")]),a("th",[t._v("Төлөв")]),a("th")])])}],Hi=(new $e.a,{name:"Order",data:function(){return{dataTimeRange:null,search:"",gridData:[],invoices:[],loading:!1,LoggedUser:""}},methods:{deleteInvoice:function(t){var e=this;this.$confirm("Энэ нэхэмжлэхийг утсгахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var a=e,i=localStorage.getItem("token");i&&e.$axios({method:"post",url:a.$appUrl+"/api/invoice/delete-invoice",headers:{Authorization:"Bearer ".concat(i)},data:{invoiceNumber:t}}).then((function(e){"success"==e.data.result&&(a.invoices.forEach((function(e,i){e.invoice_number==t&&a.invoices.splice(i,1)})),a.$notify({title:"Амжилтай",message:"Амжилттай устгагдлаа",type:"success"}))})).catch((function(t){console.log(t)}))}))},writePrice:function(t){var e=this;this.$prompt("Шивэх үнийн дүнгээ оруулна уу","Нэхэмжлэхийн төлбөр",{confirmButtonText:"Хадгалах",cancelButtonText:"Болих",inputPattern:/[0-9]/,inputErrorMessage:"Зөвхөн тоо оруулна уу"}).then((function(a){var i=a.value,s=e;e.loading=!0;var o=localStorage.getItem("token");o&&e.$axios({method:"post",url:s.$appUrl+"/api/invoice/update-invoice-amount",headers:{Authorization:"Bearer ".concat(o)},data:{invoiceNumber:t,amount:i}}).then((function(e){s.loading=!1,"success"==e.data.result&&(s.invoices.forEach((function(a,i){a.invoice_number==t&&(s.invoices[i].stat=e.data.stat)})),s.$notify({title:"Амжилтай",message:"Амжилттай шинэчлэгдлээ",type:"success"}))})).catch((function(t){s.loading=!1,console.log(t)}))}))},goOrder:function(t){this.$router.push({name:"invoice",params:{id:t}})},datePickerChanged:function(t){if(null!=t){var e=Object(za["a"])(Object(za["a"])({},this.$route.query),{},{start:t[0],end:t[1]});this.$router.replace({query:e})}else this.dataTimeRange=t;this.getOrders(t)},getOrders:function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/invoice/get-invoices",headers:{Authorization:"Bearer ".concat(a)},data:{datetime:t}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.invoices=t.data.invoices)})).catch((function(t){e.loading=!1,console.log(t)}))},searchOrder:function(){if(""!==this.search){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/invoice/search-invoice",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:this.search}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.invoices=e.data.invoice)})).catch((function(e){t.loading=!1,console.log(e)}))}}},mounted:function(){this.LoggedUser=JSON.parse(localStorage.getItem("user"));var t=this.$route.query;void 0!=t.start&&void 0!=t.end&&(this.dataTimeRange=[t.start,t.end]),this.getOrders(this.dataTimeRange)},components:{Grid:Ta["Grid"]}}),Wi=Hi,Gi=(a("b0c2"),Object(x["a"])(Wi,qi,Fi,!1,null,null,null)),Zi=Gi.exports,Ji=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Илгээсэн нэхэмжлэхийн жагсаалт")])],1)],1)]),a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.datePickerChanged},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}})],1),a("el-input",{style:{width:"20%"},attrs:{placeholder:"Нэхэмжлэхийн дугаар ...","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchOrder(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"page-ecommerce-dashboard scrollable",style:{"max-height":"87%"}},[a("div",{staticClass:"table-box card-base card-outline",style:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover"},[t._m(0),a("tbody",t._l(t.invoices,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"}},[a("td",{on:{click:function(a){return t.goOrder(e.invoice_number)}}},[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/user/"+e.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.username))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.userphone))])])])]),a("td",{on:{click:function(a){return t.goOrder(e.invoice_number)}}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.created_at.replaceAll("T"," ").replaceAll(".000Z"," ")))]),a("p",{staticClass:"m-0"},[a("a",[t._v(t._s(e.sentemail))])])])]),a("td",{on:{click:function(a){return t.goOrder(e.invoice_number)}}},[a("div",{staticClass:"item-box item-location"},[a("h4",{staticClass:"m-0 mb-5"},[t._v(t._s(e.invoice_number))])])]),a("td",{on:{click:function(a){return t.goOrder(e.invoice_number)}}},[a("div",{staticClass:"item-box item-location"},[a("h4",{staticClass:"m-0 mb-5"},[t._v(t._s(e.company))]),a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.phone))])])]),a("td",{on:{click:function(a){return t.goOrder(e.invoice_number)}}},[a("div",{staticClass:"item-box item-location"},[a("h4",{staticClass:"m-0 mb-5"},[t._v(t._s(Number(e.total_amount).toLocaleString()))])])]),a("td",{staticStyle:{"max-width":"150px"},on:{click:function(a){return t.goOrder(e.invoice_number)}}},[a("div",{staticClass:"item-box item-status",class:{"status-Pending":"false"==e.stat,"status-Complete":"true"==e.stat,"status-Returned":"half"==e.stat},style:{"border-radius":"5px"}},["false"==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Хүлээгдэж байгаа")]):"true"==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Төлөгдсөн")]):"half"==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Дутуу төлөлт")]):t._e(),a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.updated_at.replaceAll("T"," ").replaceAll(".000Z"," ")))])])]),a("td",[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-s-tools",size:"small",circle:""}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[1==t.LoggedUser.posID||2==t.LoggedUser.posID?a("el-dropdown-item",{nativeOn:{click:function(a){return t.writePrice(e.invoice_number)}}},[a("i",{staticClass:"el-icon-edit"}),t._v(" Дүн шивэх")]):t._e(),a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(a){return t.deleteInvoice(e.invoice_number)}}},[a("i",{staticClass:"el-icon-delete"}),t._v(" Устгах")])],1)],1)],1)])})),0)])])])])},Vi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Ажилтан")]),a("th",[t._v("Илгээсэн")]),a("th",[t._v("Захиалгын дугаар")]),a("th",[t._v("Төлөгч байгууллага")]),a("th",[t._v("Нийт дүн")]),a("th",[t._v("Төлөв")]),a("th")])])}],Yi=(new $e.a,{name:"Order",data:function(){return{dataTimeRange:null,search:"",gridData:[],invoices:[],loading:!1,LoggedUser:""}},methods:{deleteInvoice:function(t){var e=this;this.$confirm("Энэ нэхэмжлэхийг утсгахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var a=e,i=localStorage.getItem("token");i&&e.$axios({method:"post",url:a.$appUrl+"/api/invoice/delete-invoice",headers:{Authorization:"Bearer ".concat(i)},data:{invoiceNumber:t}}).then((function(e){"success"==e.data.result&&(a.invoices.forEach((function(e,i){e.invoice_number==t&&a.invoices.splice(i,1)})),a.$notify({title:"Амжилтай",message:"Амжилттай устгагдлаа",type:"success"}))})).catch((function(t){console.log(t)}))}))},writePrice:function(t){var e=this;this.$prompt("Шивэх үнийн дүнгээ оруулна уу","Нэхэмжлэхийн төлбөр",{confirmButtonText:"Хадгалах",cancelButtonText:"Болих",inputPattern:/[0-9]/,inputErrorMessage:"Зөвхөн тоо оруулна уу"}).then((function(a){var i=a.value,s=e;e.loading=!0;var o=localStorage.getItem("token");o&&e.$axios({method:"post",url:s.$appUrl+"/api/invoice/update-invoice-amount",headers:{Authorization:"Bearer ".concat(o)},data:{invoiceNumber:t,amount:i}}).then((function(e){s.loading=!1,"success"==e.data.result&&(s.invoices.forEach((function(a,i){a.invoice_number==t&&(s.invoices[i].stat=e.data.stat)})),s.$notify({title:"Амжилтай",message:"Амжилттай шинэчлэгдлээ",type:"success"}))})).catch((function(t){s.loading=!1,console.log(t)}))}))},goOrder:function(t){this.$router.push({name:"invoice",params:{id:t}})},datePickerChanged:function(t){this.getOrders(t)},getOrders:function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/invoice/get-sent-invoice",headers:{Authorization:"Bearer ".concat(a)},data:{datetime:t}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.invoices=t.data.invoices)})).catch((function(t){e.loading=!1,console.log(t)}))},searchOrder:function(){if(""!==this.search){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/invoice/search-invoice",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:this.search}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.invoices=e.data.invoice)})).catch((function(e){t.loading=!1,console.log(e)}))}}},mounted:function(){this.LoggedUser=JSON.parse(localStorage.getItem("user")),this.getOrders(this.dataTimeRange)},components:{Grid:Ta["Grid"]}}),Xi=Yi,Qi=(a("8d23"),Object(x["a"])(Xi,Ji,Vi,!1,null,null,null)),Ki=Qi.exports,ts=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"scrollable"},[a("div",{staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Тайлангийн жагсаалт")])],1)],1)]),a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.datePickerChanged},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}})],1),a("el-button",{staticClass:"mr-10",attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:t.addReport}})],1)]),a("div",{staticClass:"page-ecommerce-dashboard"},[a("div",{staticClass:"table-box card-base card-outline"},[a("table",{staticClass:"styled striped hover"},[t._m(0),a("tbody",t._l(t.invoices,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"},on:{click:function(a){return t.goOrder(e.id)}}},[a("td",[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/user/"+e.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.name))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.phone))])])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.date))])])]),a("td",[a("div",{staticClass:"item-box item-location"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.storename))])])]),a("td",[a("div",{staticClass:"item-box item-location"},[a("p",{staticClass:"m-0 o-060"},[t._v("₮"+t._s(Number(e.total).toLocaleString()))])])]),a("td",{staticStyle:{"max-width":"150px"}},[a("div",{staticClass:"item-box item-status",class:{"status-Pending":0==e.stat,"status-Complete":1==e.stat},style:{"border-radius":"5px"}},[0==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Шивэгдээгүй")]):1==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Шивэгдсэн")]):t._e()])])])})),0)])])]),a("el-dialog",{attrs:{title:"Кассын тайлан илгээх",visible:t.modals.newReport,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"newReport",e)}}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Салбараа сонгоно уу"},model:{value:t.newReport.store,callback:function(e){t.$set(t.newReport,"store",e)},expression:"newReport.store"}},t._l(t.store,(function(t,e){return a("el-option",{key:e,attrs:{label:t.address_name,value:t.address}})})),1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.newReport=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.showDetailForm}},[t._v("Үргэлжлүүлэх")])],1)],1),a("el-dialog",{attrs:{title:"Кассын тайлан илгээх",visible:t.modals.newReportDetail,width:"50%"},on:{"update:visible":function(e){return t.$set(t.modals,"newReportDetail",e)}}},[a("el-row",{staticClass:"items",attrs:{gutter:20}},[a("el-col",{staticClass:"mt-20",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("strong",[t._v("Нийт борлуулалтын дүн")]),a("el-input-number",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{min:0},model:{value:t.newReport.totalAmount,callback:function(e){t.$set(t.newReport,"totalAmount",e)},expression:"newReport.totalAmount"}})],1),a("el-col",{staticClass:"mt-20",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("strong",[t._v("Тайлангийн огноо")]),a("el-date-picker",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{type:"date",placeholder:"yyyy-mm-dd",clearable:""},model:{value:t.newReport.date,callback:function(e){t.$set(t.newReport,"date",e)},expression:"newReport.date"}})],1),a("el-col",{staticClass:"mt-20",attrs:{xs:24,sm:24,md:12,lg:8,xl:6}},[a("strong",[t._v("Карт / ПОС")]),a("el-input-number",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{min:0},model:{value:t.newReport.card,callback:function(e){t.$set(t.newReport,"card",e)},expression:"newReport.card"}})],1),a("el-col",{staticClass:"mt-20",attrs:{xs:24,sm:24,md:12,lg:8,xl:6}},[a("strong",[t._v("Шилжүүлэг / Мобайл")]),a("el-input-number",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{min:0},model:{value:t.newReport.mobile,callback:function(e){t.$set(t.newReport,"mobile",e)},expression:"newReport.mobile"}})],1),a("el-col",{staticClass:"mt-20",attrs:{xs:24,sm:24,md:12,lg:8,xl:6}},[a("strong",[t._v("Qpay")]),a("el-input-number",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{min:0},model:{value:t.newReport.qpay,callback:function(e){t.$set(t.newReport,"qpay",e)},expression:"newReport.qpay"}})],1),a("el-col",{staticClass:"mt-20",attrs:{xs:24,sm:24,md:12,lg:8,xl:6}},[a("strong",[t._v("Candy")]),a("el-input-number",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{min:0},model:{value:t.newReport.candy,callback:function(e){t.$set(t.newReport,"candy",e)},expression:"newReport.candy"}})],1),a("el-col",{staticClass:"mt-20",attrs:{xs:24,sm:24,md:12,lg:8,xl:6}},[a("strong",[t._v("Нэхэмжлэх")]),a("el-input-number",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{min:0},model:{value:t.newReport.invoice,callback:function(e){t.$set(t.newReport,"invoice",e)},expression:"newReport.invoice"}})],1),a("el-col",{staticClass:"mt-20",attrs:{xs:24,sm:24,md:12,lg:8,xl:6}},[a("strong",[t._v("Хямдралын дүн")]),a("el-input-number",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{min:0},model:{value:t.newReport.discount,callback:function(e){t.$set(t.newReport,"discount",e)},expression:"newReport.discount"}})],1),a("el-col",{staticClass:"mt-20",attrs:{xs:24,sm:24,md:12,lg:8,xl:6}},[a("strong",[t._v("Буцаалтын дүн")]),a("el-input-number",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{min:0},model:{value:t.newReport.deleted,callback:function(e){t.$set(t.newReport,"deleted",e)},expression:"newReport.deleted"}})],1),a("el-col",{staticClass:"mt-20",attrs:{xs:24,sm:24,md:12,lg:8,xl:6}},[a("strong",[t._v("Бэлэн тушаасан")]),a("el-input-number",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{min:0},model:{value:t.newReport.belenTushaasan,callback:function(e){t.$set(t.newReport,"belenTushaasan",e)},expression:"newReport.belenTushaasan"}})],1),a("el-col",{staticClass:"mt-20",attrs:{xs:24,sm:24,md:12,lg:8,xl:6}},[a("strong",[t._v("Харилцахад тушаасан")]),a("el-input-number",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{min:0},model:{value:t.newReport.toCommunicate,callback:function(e){t.$set(t.newReport,"toCommunicate",e)},expression:"newReport.toCommunicate"}})],1),a("el-col",{staticClass:"mt-20",attrs:{xs:24,sm:24,md:12,lg:8,xl:6}},[a("strong",[t._v("Үлдэгдэл")]),a("el-input",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{disabled:!0},model:{value:t.totalCash,callback:function(e){t.totalCash=e},expression:"totalCash"}})],1),a("el-col",{staticClass:"mt-20",attrs:{xs:24,sm:24,md:12,lg:8,xl:6}},[a("strong",[t._v("Кассын илүүдэл")]),a("el-input",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{disabled:!0},model:{value:t.more,callback:function(e){t.more=e},expression:"more"}})],1),a("el-col",{staticClass:"mt-20",attrs:{xs:24,sm:24,md:12,lg:8,xl:6}},[a("strong",[t._v("Кассын дутагдал")]),a("el-input",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{disabled:!0},model:{value:t.miss,callback:function(e){t.miss=e},expression:"miss"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.newReportDetail=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.SendToReport}},[t._v("Илгээх")])],1)],1)],1)},es=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Ажилтан")]),a("th",[t._v("Үүсгэсэн огноо")]),a("th",[t._v("Салбар")]),a("th",[t._v("Нийт")]),a("th",[t._v("Төлөв")])])])}],as=(new $e.a,{name:"Order",data:function(){return{dataTimeRange:null,search:"",gridData:[],invoices:[],loading:!1,store:[],modals:{newReport:!1,newReportDetail:!1},newReport:{store:"",totalAmount:0,date:null,card:0,mobile:0,qpay:0,candy:0,invoice:0,discount:0,deleted:0,toCommunicate:0,belenTushaasan:0,uld:0,more:0,miss:0}}},computed:{miss:function(){var t=this.newReport,e=t.totalAmount-t.card-t.mobile-t.qpay-t.candy-t.invoice-t.deleted-t.discount-t.belenTushaasan,a=e-this.newReport.toCommunicate;return a<0?(this.newReport.miss=0,0):(this.newReport.miss=a,a)},more:function(){var t=this.newReport,e=t.totalAmount-t.card-t.mobile-t.qpay-t.candy-t.invoice-t.deleted-t.discount-t.belenTushaasan,a=e-this.newReport.toCommunicate;return a<0?(this.newReport.more=-1*a,-1*a):(this.newReport.more=0,0)},totalCash:function(){var t=this;this.store.forEach((function(e){e.address==t.newReport.store&&(t.newReport.uld=e.cash_miss)}));var e=this.newReport,a=e.totalAmount-e.card-e.mobile-e.qpay-e.candy-e.invoice-e.deleted-e.discount-e.belenTushaasan,i=a-this.newReport.toCommunicate;return i<0?(this.newReport.uld=this.newReport.uld- -1*i,this.newReport.uld):(this.newReport.uld=this.newReport.uld+i,this.newReport.uld)}},methods:{SendToReport:function(){var t=this,e=this.newReport;if(void 0==e.totalAmount||void 0==e.card||void 0==e.mobile||void 0==e.qpay||void 0==e.candy||void 0==e.belenTushaasan||void 0==e.invoice||void 0==e.deleted||void 0==e.discount||void 0==e.toCommunicate||null==e.date)this.$notify({title:"Амжилтгүй",message:"Талбараа бүрэн бөглөнө үү",type:"error"});else{var a=0;this.store.forEach((function(e){e.address==t.newReport.store&&(a=e.cash_miss)}));var i=this;this.loading=!0;var s=localStorage.getItem("token");s&&this.$axios({method:"post",url:i.$appUrl+"/api/invoice/add-cash-report",headers:{Authorization:"Bearer ".concat(s)},data:{report:e,old_uld:a}}).then((function(t){i.loading=!1,"success"==t.data.result?(i.$notify({title:"Амжилттай",message:"Тайлан илгээгдлээ",type:"success"}),i.modals.newReportDetail=!1):"registered"==t.data.result?i.$notify({title:"Амжилтгүй",message:"Тайлан илгээгдсэн байна",type:"error"}):"noPlan"==t.data.result&&i.$notify({title:"Амжилтгүй",message:"Тухайн өдөр танд ажлын төлөвлөгөө байхгүй байна",type:"error"})})).catch((function(t){i.loading=!1,console.log(t)}))}},showDetailForm:function(){""!==this.newReport.store&&(this.modals.newReport=!1,this.modals.newReportDetail=!0)},addReport:function(){this.store.length>0?this.modals.newReport=!0:this.$notify({title:"Амжилтгүй",message:"Сүүлийн 5 өдөр танд цаг бүртгэгдээгүй байна",type:"error"})},goOrder:function(t){this.$router.push({name:"report",params:{id:t}})},datePickerChanged:function(t){this.getOrders(t)},getOrders:function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/invoice/get-reports",headers:{Authorization:"Bearer ".concat(a)},data:{datetime:t}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.invoices=t.data.invoices,e.store=t.data.locations)})).catch((function(t){e.loading=!1,console.log(t)}))}},mounted:function(){this.getOrders(this.dataTimeRange)},components:{Grid:Ta["Grid"]}}),is=as,ss=(a("cbb6"),Object(x["a"])(is,ts,es,!1,null,null,null)),os=ss.exports,rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"scrollable"},[a("div",{staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/products"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Тайлангийн жагсаалт")])],1)],1)]),a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.datePickerChanged},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}})],1),a("el-button",{staticClass:"mr-10",attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:t.addReport}})],1)]),a("div",{staticClass:"page-ecommerce-dashboard"},[a("div",{staticClass:"table-box card-base card-outline"},[a("table",{staticClass:"styled striped hover"},[t._m(0),a("tbody",t._l(t.orders,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"},on:{click:function(a){return t.goOrder(e.reportNumber)}}},[a("td",[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/user/"+e.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.name))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.phone))])])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.created_at.split("T")[0]))])])]),a("td",[a("div",{staticClass:"item-box item-location"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.reportNumber))])])])])})),0)])])]),a("el-dialog",{attrs:{title:"Тайлан илгээх",visible:t.modals.newReport},on:{"update:visible":function(e){return t.$set(t.modals,"newReport",e)}}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Тайлангийн өдрөө сонгоно уу"},model:{value:t.newReportDate,callback:function(e){t.newReportDate=e},expression:"newReportDate"}}),a("div",{staticClass:"table-box card-base card-outline"},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",{staticStyle:{width:"40%"}},[t._v("Бүтээгдэхүүн")]),a("th",[t._v("Үнэ")]),a("th",[t._v("Тоо ширхэг")]),a("th",[t._v("Нийт")]),a("th")])]),a("tbody",[t._l(t.addProducts,(function(e,i){return a("tr",{key:i},[a("td",{staticStyle:{width:"40%"}},[a("div",{staticClass:"item-box item-product flex"},[a("div",{staticClass:"product-image"},[1==e.type?a("el-avatar",{attrs:{size:40,src:t.$imgUrl+e.image}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]):a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/product/"+e.image}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.model))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.name))])])])]),a("td",[t._v(" ₮"+t._s(Number(e.sale_price).toLocaleString())+" ")]),a("td",[a("el-input-number",{attrs:{min:1,size:"mini"},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"item.qty"}})],1),a("td",[t._v(" ₮"+t._s(Number(e.sale_price*e.qty).toLocaleString())+" ")]),a("td",[a("el-button",{attrs:{type:"danger",circle:"",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.removeRow(i)}}})],1)])})),a("tr",[a("td",[a("strong",[t._v("Нийт")])]),a("td"),a("td",[t._v(t._s(Number(t.totalCount).toLocaleString()))]),a("td",[t._v("₮"+t._s(Number(t.totalCash).toLocaleString()))]),a("td")])],2)])]),a("div",{staticClass:"mt-20",staticStyle:{height:"1px","background-color":"grey"}}),a("div",{staticClass:"mt-10"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:"",size:"mini"},on:{click:t.addRow}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.newReport=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.SendToReport}},[t._v("Хадгалах")])],1)],1),a("el-dialog",{attrs:{title:"Бүтээгдэхүүн хайх",visible:t.modals.search},on:{"update:visible":function(e){return t.$set(t.modals,"search",e)}}},[a("el-input",{attrs:{placeholder:"Модель","prefix-icon":"el-icon-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("div",{staticClass:"table-box card-base card-outline scrollable"},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",[t._v("Модель")]),a("th",[t._v("Нэр")]),a("th",[t._v("Үнэ")]),a("th",[t._v("Үлдэгдэл")]),a("th")])]),a("tbody",t._l(t.filterProduct,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(e.model))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(Number(e.sale_price).toLocaleString()))]),a("td",[t._v(t._s(Number(e.qty).toLocaleString()))]),a("td",[a("el-button",{attrs:{circle:"",size:"mini",icon:"el-icon-sold-out"},on:{click:function(a){return t.addRowToProduct(e)}}})],1)])})),0)])])],1)],1)},ns=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Ажилтан")]),a("th",[t._v("Үүсгэсэн огноо")]),a("th",[t._v("Дугаар")])])])}],ls=(new $e.a,{name:"Order",data:function(){return{dataTimeRange:null,search:"",gridData:[],orders:[],loading:!1,store:[],modals:{newReport:!1,search:!1},addProducts:[],newReportDate:null,allproducts:[]}},computed:{filterProduct:function(){var t=this,e=[];return this.allproducts.forEach((function(a){a.model.includes(t.search)&&e.push(a)})),e},totalCash:function(){var t=0;return this.addProducts.forEach((function(e){t+=e.qty*e.sale_price})),t},totalCount:function(){var t=0;return this.addProducts.forEach((function(e){t+=e.qty})),t}},methods:{addRowToProduct:function(t){var e=!1;if(this.addProducts.forEach((function(a){a.model==t.model&&t.type==a.type&&(a.qty++,e=!0)})),!e){var a={id:t.id,model:t.model,name:t.name,qty:1,sale_price:t.sale_price,image:t.image,type:t.type};this.addProducts.push(a)}},addRow:function(){this.modals.search=!0},removeRow:function(t){this.addProducts.splice(t,1)},SendToReport:function(){var t=this;if(null==this.newReportDate||0==this.addProducts.length)this.$notify({title:"Амжилтгүй",message:"Огноо эсвэл бүтээгдэхүүн сонгогдоогүй байна",type:"error"});else{var e=!0;if(this.allproducts.forEach((function(a){t.addProducts.forEach((function(i){i.model==a.model&&i.type==a.type&&i.qty>a.qty&&(t.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"<strong>".concat(i.model,"</strong> үлдэгдэл хүрэлцэхгүй байна"),type:"error"}),e=!1)}))})),e){var a=this;this.loading=!0;var i=localStorage.getItem("token");i&&this.$axios({method:"post",url:a.$appUrl+"/api/order/add-customer-report",headers:{Authorization:"Bearer ".concat(i)},data:{datetime:this.newReportDate,products:this.addProducts}}).then((function(t){a.loading=!1,"success"==t.data.result?(a.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Тайлан бүртгэгдлээ",type:"success"}),a.addProducts=[],a.modals.newReport=!1,a.getOrders()):"exist"==t.data.result&&a.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Тухайн өдөр тайлан бүртгэгдсэн байна",type:"error"})})).catch((function(t){a.loading=!1,console.log(t)}))}}},showDetailForm:function(){""!==this.newReport.store&&(this.modals.newReport=!1,this.modals.newReportDetail=!0)},addReport:function(){this.modals.newReport=!0},goOrder:function(t){this.$router.push({name:"show-customer-reports",params:{id:t}})},datePickerChanged:function(t){this.getOrders(t)},getOrders:function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/order/customer-reports",headers:{Authorization:"Bearer ".concat(a)},data:{datetime:t}}).then((function(t){e.loading=!1,"success"==t.data.result&&(console.log(t),e.orders=t.data.reports,e.allproducts=[],t.data.customerproduct2.forEach((function(t){e.allproducts.push(t)})),t.data.customerproduct1.forEach((function(t){e.allproducts.push(t)})))})).catch((function(t){e.loading=!1,console.log(t)}))}},mounted:function(){this.getOrders(this.dataTimeRange)},components:{Grid:Ta["Grid"]}}),cs=ls,ds=(a("d6c1"),Object(x["a"])(cs,rs,ns,!1,null,null,null)),us=ds.exports,ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-ecommerce-checkout scrollable"},[a("el-breadcrumb",{staticClass:"mb-20",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/products"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",{attrs:{to:{path:"/customer-reports"}}},[t._v("Кассын тайлан")]),a("el-breadcrumb-item",[t._v(t._s(t.ordernumber))])],1),a("el-row",{staticClass:"cart-box",attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:17,xl:17}},[a("div",{staticClass:"widget review card-shadow--small b-rad-4"},[a("div",{staticClass:"title"},[t._v(" Бүтээгдэхүүн ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"page-ecommerce-dashboard mt-10",staticStyle:{width:"100%"},style:{"border-radius":"10px"}},[a("div",{staticClass:"table-box card-base card-outline",staticStyle:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",{staticStyle:{"font-size":"14px"}},[a("th",[t._v("#")]),a("th",{staticStyle:{width:"50%"}},[t._v("Бүтээгдэхүүн")]),a("th",[t._v("Үнэ")]),a("th",[t._v("Тоо ширхэг")]),a("th",[t._v("Нийт")])])]),a("tbody",[t._l(t.product,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(i+1))]),a("td",[a("div",{staticClass:"item-box item-product flex"},[a("div",{staticClass:"product-image"},[1==e.type?a("el-avatar",{attrs:{size:40,src:t.$imgUrl+e.image}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]):a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/product/"+e.image}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.model))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.name))])])])]),a("td",[t._v(" ₮"+t._s(Number(e.price).toLocaleString())+" ")]),a("td",[t._v(t._s(Number(e.qty).toLocaleString()))]),a("td",[t._v("₮"+t._s(Number(e.qty*e.price).toLocaleString()))])])})),a("tr",[a("td",{attrs:{colspan:"3"}},[a("strong",[t._v("Нийт")])]),a("td",[t._v(t._s(Number(t.totalCount).toLocaleString()))]),a("td",[t._v("₮"+t._s(Number(t.totalCash).toLocaleString()))])])],2)])])])])])]),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:7,xl:7}},[a("div",{staticClass:"widget payment card-shadow--small b-rad-4"},[a("div",{staticClass:"title"},[t._v(" Нэмэлт мэдээлэл ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"flex justify-space-between"},[a("div",{staticClass:"box grow mt-10 total"},[a("div",{staticClass:"t-row"},[a("table",{attrs:{align:"center"}},[a("tr",[a("td",{staticClass:"label",attrs:{width:"50%"}},[t._v("Огноо")]),void 0!==t.detail.created_at?a("td",{staticClass:"value",attrs:{width:"50%"}},[t._v(t._s(t.detail.created_at.split("T")[0]))]):t._e()]),a("tr",[a("td",{staticClass:"label",attrs:{width:"50%"}},[t._v("Үүсгэсэн")]),void 0!==t.detail.name?a("td",{staticClass:"value",attrs:{width:"50%"}},[t._v(t._s(t.detail.name))]):t._e()])])])])])])])])],1)],1)},ms=[],hs={data:function(){return{detail:[],ordernumber:"",loading:!1,product:[]}},computed:{totalCash:function(){var t=0;return this.product.forEach((function(e){t+=e.qty*e.price})),t},totalCount:function(){var t=0;return this.product.forEach((function(e){t+=e.qty})),t}},mounted:function(){this.ordernumber=this.$route.params.id,this.getReport()},methods:{getReport:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/show-customer-report",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:this.ordernumber}}).then((function(e){t.loading=!1,"success"==e.data.result?(t.detail=e.data.report,t.product=[],e.data.product1.forEach((function(e){t.product.push(e)})),e.data.product2.forEach((function(e){t.product.push(e)}))):t.$router.push("/not-found")})).catch((function(e){t.loading=!1,console.log(e)}))}}},gs=hs,vs=Object(x["a"])(gs,ps,ms,!1,null,null,null),fs=vs.exports,bs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Үнийн саналын жагсаалт")])],1)],1)]),a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.datePickerChanged},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}})],1),a("el-input",{style:{width:"20%"},attrs:{placeholder:"Үнийн саналын дугаар ...","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchOrder(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"page-ecommerce-dashboard scrollable",style:{"max-height":"87%"}},[a("div",{staticClass:"table-box card-base card-outline",style:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover"},[t._m(0),a("tbody",t._l(t.invoices,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"}},[a("td",{on:{click:function(a){return t.goOrder(e.offer_number)}}},[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/user/"+e.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.username))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.userphone))])])])]),a("td",{on:{click:function(a){return t.goOrder(e.offer_number)}}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.created_at.replaceAll("T"," ").replaceAll(".000Z"," ")))])])]),a("td",{on:{click:function(a){return t.goOrder(e.offer_number)}}},[a("div",{staticClass:"item-box item-location"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.offer_number))])])]),a("td",{on:{click:function(a){return t.goOrder(e.offer_number)}}},[a("div",{staticClass:"item-box item-location"},[a("h4",{staticClass:"m-0 mb-5"},[t._v(t._s(e.company))]),a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.phone))])])]),a("td",{on:{click:function(a){return t.goOrder(e.offer_number)}}},[a("div",{staticClass:"item-box item-location"},[a("h4",{staticClass:"m-0 mb-5"},[t._v(t._s(Number(e.total_amount).toLocaleString()))])])]),a("td",[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",circle:""}})],1)])})),0)])])])])},_s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Ажилтан")]),a("th",[t._v("Үүсгэсэн огноо")]),a("th",[t._v("Захиалгын дугаар")]),a("th",[t._v("Төлөгч байгууллага")]),a("th",[t._v("Нийт дүн")]),a("th")])])}],ys=(new $e.a,{name:"Order",data:function(){return{dataTimeRange:null,search:"",gridData:[],invoices:[],loading:!1}},methods:{goOrder:function(t){this.$router.push({name:"offer",params:{id:t}})},datePickerChanged:function(t){if(null!=t){var e=Object(za["a"])(Object(za["a"])({},this.$route.query),{},{start:t[0],end:t[1]});this.$router.replace({query:e})}else this.dataTimeRange=t;this.getOrders(t)},getOrders:function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/offer/get-offers",headers:{Authorization:"Bearer ".concat(a)},data:{datetime:t}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.invoices=t.data.invoices)})).catch((function(t){e.loading=!1,console.log(t)}))},searchOrder:function(){if(""!==this.search){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/offer/search-offer",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:this.search}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.invoices=e.data.invoice)})).catch((function(e){t.loading=!1,console.log(e)}))}}},mounted:function(){var t=this.$route.query;void 0!=t.start&&void 0!=t.end&&(this.dataTimeRange=[t.start,t.end]),this.getOrders(this.dataTimeRange)},components:{Grid:Ta["Grid"]}}),xs=ys,ws=(a("d43b"),Object(x["a"])(xs,bs,_s,!1,null,null,null)),Cs=ws.exports,ks=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Үнийн саналын жагсаалт")])],1)],1)]),a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.datePickerChanged},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}})],1),a("el-input",{style:{width:"20%"},attrs:{placeholder:"Үнийн саналын дугаар ...","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchOrder(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"page-ecommerce-dashboard scrollable",style:{"max-height":"87%"}},[a("div",{staticClass:"table-box card-base card-outline",style:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover"},[t._m(0),a("tbody",t._l(t.invoices,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"}},[a("td",{on:{click:function(a){return t.goOrder(e.offer_number)}}},[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/user/"+e.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.username))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.userphone))])])])]),a("td",{on:{click:function(a){return t.goOrder(e.offer_number)}}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.created_at.replaceAll("T"," ").replaceAll(".000Z"," ")))])])]),a("td",{on:{click:function(a){return t.goOrder(e.offer_number)}}},[a("div",{staticClass:"item-box item-location"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.offer_number))])])]),a("td",{on:{click:function(a){return t.goOrder(e.offer_number)}}},[a("div",{staticClass:"item-box item-location"},[a("h4",{staticClass:"m-0 mb-5"},[t._v(t._s(e.company))]),a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.phone))])])]),a("td",{on:{click:function(a){return t.goOrder(e.offer_number)}}},[a("div",{staticClass:"item-box item-location"},[a("h4",{staticClass:"m-0 mb-5"},[t._v(t._s(Number(e.total_amount).toLocaleString()))])])]),a("td",[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",circle:""}})],1)])})),0)])])])])},Ss=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Ажилтан")]),a("th",[t._v("Үүсгэсэн огноо")]),a("th",[t._v("Захиалгын дугаар")]),a("th",[t._v("Төлөгч байгууллага")]),a("th",[t._v("Нийт дүн")]),a("th")])])}],$s=(new $e.a,{name:"Order",data:function(){return{dataTimeRange:null,search:"",gridData:[],invoices:[],loading:!1}},methods:{goOrder:function(t){this.$router.push({name:"offer",params:{id:t}})},datePickerChanged:function(t){this.getOrders(t)},getOrders:function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/offer/get-sent-offer",headers:{Authorization:"Bearer ".concat(a)},data:{datetime:t}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.invoices=t.data.invoices)})).catch((function(t){e.loading=!1,console.log(t)}))},searchOrder:function(){if(""!==this.search){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/offer/search-offer",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:this.search}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.invoices=e.data.invoice)})).catch((function(e){t.loading=!1,console.log(e)}))}}},mounted:function(){this.getOrders(this.dataTimeRange)},components:{Grid:Ta["Grid"]}}),Is=$s,zs=(a("25ff"),Object(x["a"])(Is,ks,Ss,!1,null,null,null)),Ts=zs.exports,Ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Албан бичгийн жагсаалт")])],1)],1)]),a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.datePickerChanged},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}})],1),a("el-input",{style:{width:"20%"},attrs:{placeholder:"Албан бичгийн дугаар ...","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchOrder(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"page-ecommerce-dashboard scrollable",style:{"max-height":"87%"}},[a("div",{staticClass:"table-box card-base card-outline",style:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover"},[t._m(0),a("tbody",t._l(t.Sorted,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"}},[a("td",{attrs:{width:"20%"},on:{click:function(a){return t.goOrder(e.official_index)}}},[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/user/"+e.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.name))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.phone))])])])]),a("td",{on:{click:function(a){return t.goOrder(e.official_index)}}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.created_at.replaceAll("T"," ").replaceAll(".000Z"," ")))])])]),a("td",{on:{click:function(a){return t.goOrder(e.official_index)}}},[a("div",{staticClass:"item-box item-location"},[a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.official_index))])])]),a("td",{on:{click:function(a){return t.goOrder(e.official_index)}}},[a("div",{staticClass:"item-box item-location"},[a("h4",{staticClass:"m-0 mb-5"},[t._v(t._s(e.receiver))]),a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.about))])])]),a("td",[a("div",{staticClass:"item-box item-location"},[1==e.pin_to?a("el-button",{attrs:{icon:"el-icon-star-on",circle:""},on:{click:function(a){return t.pin(e.official_index,e.pin_to)}}}):a("el-button",{attrs:{icon:"el-icon-star-off",circle:""},on:{click:function(a){return t.pin(e.official_index,e.pin_to)}}})],1)])])})),0)])])])])},Us=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Ажилтан")]),a("th",[t._v("Үүсгэсэн огноо")]),a("th",[t._v("Албан бичгийн дугаар")]),a("th",[t._v("Хэнд/Тухай")]),a("th")])])}],Bs=(new $e.a,{name:"Order",data:function(){return{dataTimeRange:null,search:"",gridData:[],invoices:[],filtered:[],loading:!1}},computed:{Sorted:function(){return _.orderBy(this.filtered,"pin_to","desc")}},methods:{pin:function(t,e){var a=this,i=localStorage.getItem("token");i&&this.$axios({method:"post",url:a.$appUrl+"/api/offer/pin-to-official",headers:{Authorization:"Bearer ".concat(i)},data:{official:t}}).then((function(i){"success"==i.data.result?(e=1==e?0:1,a.filtered.forEach((function(a,i){a.official_index==t&&(a.pin_to=e)})),a.invoices.forEach((function(a,i){a.official_index==t&&(a.pin_to=e)})),a.$notify({title:"Амжилтай",message:"Амжилттай шинэчлэгдлээ",type:"success"})):a.$notify({title:"Амжилтгүй",message:"Уучлаарай танд энэ үйлдлийг хийх эрх байхгүй байна",type:"error"})})).catch((function(t){console.log(t)}))},goOrder:function(t){this.$router.push({name:"official",params:{id:t}})},filterOfficial:function(){if(null!==this.dataTimeRange){var t=this.dataTimeRange,e=[],a=new Date(t[0]).toISOString(),i=new Date(t[1]).toISOString();this.invoices.forEach((function(t){t.created_at>=a&&t.created_at<=i&&e.push(t)})),this.filtered=[],this.filtered=e}else this.filtered=[],this.filtered=this.invoices},datePickerChanged:function(t){if(null!=t){var e=Object(za["a"])(Object(za["a"])({},this.$route.query),{},{start:t[0],end:t[1]});this.$router.replace({query:e})}else this.dataTimeRange=t;this.filterOfficial()},getOrders:function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/offer/get-officials",headers:{Authorization:"Bearer ".concat(a)},data:{datetime:t}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.invoices=t.data.officials,e.filtered=t.data.officials,e.filterOfficial())})).catch((function(t){e.loading=!1,console.log(t)}))},searchOrder:function(){var t=this;if(""!==this.search){var e=[];this.invoices.forEach((function(a){a.official_index.includes(t.search)&&e.push(a)})),this.filtered=[],this.filtered=e}else this.filtered=[],this.filtered=this.invoices}},mounted:function(){var t=this.$route.query;void 0!=t.start&&void 0!=t.end&&(this.dataTimeRange=[t.start,t.end]),this.getOrders(this.dataTimeRange)},components:{Grid:Ta["Grid"]}}),Es=Bs,Ds=(a("354a"),Object(x["a"])(Es,Ls,Us,!1,null,null,null)),Os=Ds.exports,Ps=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-invoice scrollable"},[i("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!1,filename:t.invoiceNumber,"pdf-quality":3,"manual-pagination":!0,"paginate-elements-by-height":1,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"794px"}},[i("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[i("section",{staticClass:"pdf-content"},[i("div",{staticClass:"page-invoice"},[i("div",{staticClass:"invoice bg-white black-text",staticStyle:{"padding-left":"1.5cm","padding-right":"1cm","padding-top":"1cm"}},[i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("p",{staticStyle:{"font-size":"2.2em","font-weight":"500"}},[t._v("НЭХЭМЖЛЭХ")]),i("p",{staticClass:"address",staticStyle:{"margin-top":"7px","font-size":"12px"}},[t._v("Монгол улс, Улаанбаатар хот, СБД 6-р хороо"),i("br"),t._v(" НҮБ-н гудамж, 3-35 тоот")]),i("p",{staticClass:"address",staticStyle:{"margin-top":"7px","font-size":"12px"}},[t._v("Утас: "),i("strong",[t._v("8630 6010")])])])]),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[i("span",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v("Төлөгч байгууллага / Хувь хүн")])]),i("p",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(t.invoiceTo.company))]),t._v(" (РД: "+t._s(t.invoiceTo.register)+")")]),i("p",{staticClass:"email",staticStyle:{"margin-top":"15px","font-size":"14px"}},[t._v(t._s(t.invoiceTo.email))]),i("p",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.invoiceTo.phone))])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",[i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Нэхэмжлэхийн дугаар :")])]),i("td",{attrs:{align:"left"}},[t._v(t._s(t.invoiceNumber))])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Нэхэмжилсэн огноо :")])]),i("td",{staticStyle:{width:"40%"}},[void 0!==t.invoiceTo.created_at?i("span",[t._v(t._s(t.invoiceTo.created_at.split("T")[0]))]):t._e()])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Хүчинтэй огноо :")])]),i("td",{staticStyle:{width:"40%"}},[void 0!==t.invoiceTo.updated_at?i("span",[t._v(t._s(t.invoiceTo.updated_at.split("T")[0]))]):t._e()])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Төлөв :")])]),i("td",{staticStyle:{width:"40%"}},["true"==t.invoiceTo.stat?i("span",[t._v("Төлөгдсөн")]):t._e(),"false"==t.invoiceTo.stat?i("span",[t._v("Төлөгдөөгүй")]):t._e(),"half"==t.invoiceTo.stat?i("span",[t._v("Дутуу төлөгдсөн")]):t._e()])])])])]),i("div",{staticClass:"invoice-bottom"},[i("table",[i("thead",[i("tr",[i("th",[t._v("Бүтээгдэхүүн")]),i("th",[t._v("Тоо")]),i("th",[t._v("Үнэ")]),i("th",[t._v("Нийт үнэ")])])]),i("tbody",t._l(t.products,(function(e,a){return i("tr",{key:a},[i("td",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(e.product_model))]),i("br"),t._v(t._s(e.product_name))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v(t._s(Number(e.remain).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price*e.remain).toLocaleString()))])])})),0),i("tfoot",[i("tr",{attrs:{hidden:!t.switchs.noat}},[i("td",{style:{"padding-top":"5px","padding-right":"0px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[t._v("Үнэ")]),i("td",{style:{"border-bottom":"none"}},[t._v("₮"+t._s(Number((t.amount_text/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])]),i("tr",{attrs:{hidden:!t.switchs.noat}},[i("td",{style:{"padding-top":"5px","padding-right":"0px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[t._v("НӨАТ")]),i("td",{style:{"border-bottom":"none","padding-top":"5px"}},[t._v("₮"+t._s(Number((t.amount_text-t.amount_text/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])]),i("tr",[i("td",{style:{"padding-top":"5px","padding-right":"0px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("Нийт үнэ")])]),i("td",{style:{"padding-top":"5px"}},[i("strong",[t._v("₮"+t._s(Number(t.amount_text.toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])])])])]),i("div",{staticClass:"legalcopy mt-10"},[i("p",{staticClass:"legal box grow mr-20",style:{"margin-top":"-"+t.margin+"px"}},[i("strong",[t._v("Дансны мэдээлэл")]),i("table",{staticClass:"note"},[i("tr",[i("td",[t._v(" Хүлээн авагч ")]),i("td",[t._v(" ТҮМЭН ТЕХНО ХХК ")])]),i("tr",[i("td",[t._v(" Регистрийн дугаар ")]),i("td",[t._v(" 2090562 ")])]),i("tr",[i("td",[t._v(" Хаан банк ")]),i("td",[t._v(" 5427046456 ")])])]),i("br"),i("br"),i("br"),i("strong",[t._v("Биднийг сонгосонд баярлалаа !")]),t._v(" Танд амжилт хүсье ! ")])])]),i("div",{staticClass:"mt-20",attrs:{align:"center"}},[i("img",{staticStyle:{width:"180px",height:"auto","vertical-align":"middle"},attrs:{src:a("7d33"),alt:"stamp",hidden:!t.switchs.stamp}}),i("div",{staticStyle:{height:"70px"},attrs:{hidden:t.switchs.stamp}}),i("div",{staticStyle:{"font-size":"14px","margin-top":"-45px"},attrs:{id:"stamp-text"}},[i("span",{staticStyle:{"margin-right":"100px"}},[t._v("НЯГТЛАН БОДОГЧ")]),i("span",[t._v("Р.НОРОВБАДАМ")])])])])])])])]),i("div",{staticClass:"toolbar"},[i("el-button",{staticClass:"animated fadeInRight",attrs:{type:"info",plain:"",size:"small"},on:{click:t.toExpend}},[i("i",{staticClass:"el-icon-document-copy"}),t._v(" Зарлагын баримт үүсгэх")]),i("el-button",{staticClass:"animated fadeInRight",attrs:{type:"warning",plain:"",size:"small"},on:{click:t.toSend}},[i("i",{staticClass:"mdi mdi-email-send"}),t._v(" Илгээх")]),i("el-button",{staticClass:"animated fadeInRight",attrs:{type:"primary",plain:"",size:"small"},on:{click:t.toPdf}},[i("i",{staticClass:"mdi mdi-download"}),t._v(" Татах")]),i("el-button",{staticClass:"animated fadeInRight",attrs:{plain:"",size:"small"},on:{click:t.print}},[i("i",{staticClass:"mdi mdi-printer"}),t._v(" Хэвлэх")]),i("el-button",{attrs:{icon:"el-icon-setting",size:"small",circle:""},on:{click:function(e){t.modals.setting=!0}}})],1),i("div",{staticClass:"invoice bg-white black-text",staticStyle:{"padding-left":"1.5cm","padding-right":"1cm","padding-top":"1cm"}},[t._m(0),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[t._m(1),i("p",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(t.invoiceTo.company))]),t._v(" (РД: "+t._s(t.invoiceTo.register)+")")]),i("p",{staticClass:"email",staticStyle:{"margin-top":"15px","font-size":"14px"}},[t._v(t._s(t.invoiceTo.email))]),i("p",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.invoiceTo.phone))])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",[i("tr",[t._m(2),i("td",{attrs:{align:"left"}},[t._v(t._s(t.invoiceNumber))])]),i("tr",[t._m(3),i("td",{staticStyle:{width:"40%"}},[void 0!==t.invoiceTo.created_at?i("span",[t._v(t._s(t.invoiceTo.created_at.split("T")[0]))]):t._e()])]),i("tr",[t._m(4),i("td",{staticStyle:{width:"40%"}},[void 0!==t.invoiceTo.updated_at?i("span",[t._v(t._s(t.invoiceTo.updated_at.split("T")[0]))]):t._e()])]),i("tr",[t._m(5),i("td",{staticStyle:{width:"40%"}},["true"==t.invoiceTo.stat?i("span",[t._v("Төлөгдсөн")]):t._e(),"false"==t.invoiceTo.stat?i("span",[t._v("Төлөгдөөгүй")]):t._e(),"half"==t.invoiceTo.stat?i("span",[t._v("Дутуу төлөгдсөн")]):t._e()])])])])]),i("div",{staticClass:"invoice-bottom"},[i("table",[t._m(6),i("tbody",t._l(t.products,(function(e,a){return i("tr",{key:a},[i("td",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(e.product_model))]),i("br"),t._v(t._s(e.product_name))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v(t._s(Number(e.remain).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price*e.remain).toLocaleString()))])])})),0),i("tfoot",[i("tr",{attrs:{hidden:!t.switchs.noat}},[i("td",{style:{"padding-top":"5px","padding-right":"0px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[t._v("Үнэ")]),i("td",{style:{"border-bottom":"none"}},[t._v("₮"+t._s(Number((t.amount_text/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])]),i("tr",{attrs:{hidden:!t.switchs.noat}},[i("td",{style:{"padding-top":"5px","padding-right":"0px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[t._v("НӨАТ")]),i("td",{style:{"border-bottom":"none","padding-top":"5px"}},[t._v("₮"+t._s(Number((t.amount_text-t.amount_text/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])]),i("tr",[i("td",{style:{"padding-top":"5px","padding-right":"0px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("Нийт үнэ")])]),i("td",{style:{"padding-top":"5px"}},[i("strong",[t._v("₮"+t._s(Number(t.amount_text.toFixed(1)).toLocaleString(void 0,{minimumFractionDigits:2})))])])])])]),i("div",{staticClass:"legalcopy mt-10"},[i("p",{staticClass:"legal box grow mr-20",style:{"margin-top":"-"+t.margin+"px"}},[i("strong",[t._v("Дансны мэдээлэл")]),t._m(7),i("br"),i("br"),i("br"),i("strong",[t._v("Биднийг сонгосонд баярлалаа. ")]),t._v(" Танд амжилт хүсье ! ")])])]),i("div",{staticClass:"mt-20",attrs:{align:"center"}},[i("img",{staticStyle:{width:"180px",height:"auto","vertical-align":"middle"},attrs:{src:a("7d33"),alt:"stamp",hidden:!t.switchs.stamp}}),i("div",{staticStyle:{height:"70px"},attrs:{hidden:t.switchs.stamp}}),t._m(8)])]),i("el-dialog",{attrs:{title:"Тохиргоо",visible:t.modals.setting,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"setting",e)}}},[i("div",{staticStyle:{"padding-left":"20%"},attrs:{align:"left"}},[i("el-switch",{attrs:{"inactive-text":"Тамга харуулах"},model:{value:t.switchs.stamp,callback:function(e){t.$set(t.switchs,"stamp",e)},expression:"switchs.stamp"}}),i("br"),i("el-switch",{staticClass:"mt-20",attrs:{"inactive-text":"НӨАТ харуулах"},model:{value:t.switchs.noat,callback:function(e){t.$set(t.switchs,"noat",e)},expression:"switchs.noat"}})],1)])],1)},js=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("p",{staticStyle:{"font-size":"2.2em","font-weight":"500"}},[t._v("НЭХЭМЖЛЭХ")]),i("p",{staticClass:"address",staticStyle:{"margin-top":"7px","font-size":"12px"}},[t._v("Монгол улс, Улаанбаатар хот, СБД 6-р хороо"),i("br"),t._v(" НҮБ-н гудамж, 3-35 тоот")]),i("p",{staticClass:"address",staticStyle:{"margin-top":"7px","font-size":"12px"}},[t._v("Утас: "),i("strong",[t._v("8630 6010")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"font-size":"14px"}},[a("strong",[t._v("Төлөгч байгууллага / Хувь хүн")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Нэхэмжлэхийн дугаар :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Нэхэмжилсэн огноо :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Хүчинтэй огноо :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Төлөв :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Бүтээгдэхүүн")]),a("th",[t._v("Тоо")]),a("th",[t._v("Үнэ")]),a("th",[t._v("Нийт үнэ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"note"},[a("tr",[a("td",[t._v(" Хүлээн авагч ")]),a("td",[t._v(" ТҮМЭН ТЕХНО ХХК ")])]),a("tr",[a("td",[t._v(" Регистрийн дугаар ")]),a("td",[t._v(" 2090562 ")])]),a("tr",[a("td",[t._v(" Хаан банк ")]),a("td",[t._v(" 5427046456 ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"font-size":"14px","margin-top":"-45px"},attrs:{id:"stamp-text"}},[a("span",{staticStyle:{"margin-right":"100px"}},[t._v("НЯГТЛАН БОДОГЧ")]),a("span",[t._v("Р.НОРОВБАДАМ")])])}],Ns={name:"Invoice",components:{VueHtml2pdf:Ie["a"]},data:function(){return{invoiceTo:{company:"ICBC",register:"2090562",phone:"75117733",email:"sales@icbc.mn"},products:[],invoiceNumber:"",send:!1,showStamp:!1,modals:{setting:!1},switchs:{stamp:!0,noat:!0},loading:!1}},computed:{margin:function(){return 1==this.switchs.noat?50:20},amount:function(){return _.reduce(this.products,(function(t,e){return t+e.price*e.remain}),0)},amount_text:function(){return this.invoiceTo.total_amount=this.amount,this.amount}},mounted:function(){this.invoiceNumber=this.$route.params.id,this.getInvoice()},methods:{toExpend:function(){var t=this;this.$confirm("<p>Зарлагын баримт үүсгэхдээ итгэлтэй байна уу? </p>","Санамж",{confirmButtonText:"Үүсгэх",cancelButtonText:"Цуцлах",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){t.loading=!0;var e=t,a=localStorage.getItem("token");a&&t.$axios({method:"post",url:e.$appUrl+"/api/invoice/change-to-expend",headers:{Authorization:"Bearer ".concat(a)},data:{invoiceTo:e.invoiceTo,products:e.products}}).then((function(t){e.loading=!1,console.log(t),"success"==t.data.result&&e.$router.push({name:"edit-expend-done",params:{id:t.data.ordernumber}})})).catch((function(t){e.loading=!1,console.log(t)}))}))},toSend:function(){var t=this;this.$prompt("Имэйл хаягаа оруулна уу","Нэхэмжлэх илгээх",{confirmButtonText:"Илгээх",cancelButtonText:"Болих",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"Invalid Email"}).then((function(e){var a=e.value;t.loading=!0;var i=t,s=localStorage.getItem("token");s&&t.$axios({method:"post",url:i.$appUrl+"/api/invoice/send-invoice",headers:{Authorization:"Bearer ".concat(s)},data:{invoiceNumber:i.invoiceNumber,email:a}}).then((function(t){i.loading=!1,"success"==t.data.result&&i.$notify({title:"Амжилтай",message:"Амжилттай илгээгдлээ",type:"success"})})).catch((function(t){i.loading=!1,console.log(t)}))}))},toPdf:function(){this.$refs.html2Pdf.generatePdf()},print:function(){window.print()},getInvoice:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/invoice/get-invoice-done",headers:{Authorization:"Bearer ".concat(e)},data:{invoiceNumber:t.invoiceNumber}}).then((function(e){"success"==e.data.result?(t.invoiceTo=e.data.invoice,t.products=e.data.product):"failed"==e.data.result&&t.$router.push("/not-found")})).catch((function(t){console.log(t)}))}}},Rs=Ns,As=(a("7a56"),Object(x["a"])(Rs,Ps,js,!1,null,"1bc48c01",null)),Ms=As.exports,qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-ecommerce-checkout scrollable"},[a("el-breadcrumb",{staticClass:"mb-20",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",{attrs:{to:{path:"/reports"}}},[t._v("Кассын тайлан")]),a("el-breadcrumb-item",[t._v(t._s(t.order.ordernumber))])],1),a("div",{staticClass:"widget shipping card-shadow--small b-rad-4"},[a("div",{staticClass:"title"},[t._v(" Нэмэлт мэдээлэл ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"flex justify-space-between"},[a("div",{staticClass:"box grow flex column mt-40 fs-20 info",style:{position:"relative"}},[a("div",{staticClass:"mb-5"},[a("i",{staticClass:"mdi mdi-account mr-10"}),t._v(t._s(t.order.detail.name))]),a("div",{staticClass:"mb-5"},[a("i",{staticClass:"mdi mdi-map-marker mr-10"}),t._v(t._s(t.order.detail.storename))]),a("div",[a("i",{staticClass:"mdi mdi-calendar mr-10"}),t._v(t._s(t.order.detail.date))]),a("div",{style:{position:"absolute",right:"5%",top:"25%"}},[void 0!=t.order.detail.img?a("el-avatar",{attrs:{size:80,src:t.$appUrl+"/images/local/user/"+t.order.detail.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]):t._e()],1)]),a("div",{staticClass:"box grow flex mt-40 fs-20 type align-center justify-center"},[1==t.order.detail.stat?a("div",{staticClass:"box grow type-btn text-center"},[t._m(0),t._m(1)]):t._e(),0==t.order.detail.stat?a("div",{staticClass:"box grow type-btn-error text-center"},[t._m(2),t._m(3)]):t._e()])])])]),a("div",{staticClass:"widget review card-shadow--small b-rad-4"},[a("div",{staticClass:"title"},[t._v(" Тайлан ")]),a("div",{staticClass:"content"},[a("el-row",{staticClass:"items mt-40",attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered table-centered mb-0",attrs:{id:"table"}},[a("tbody",[a("tr",{staticStyle:{background:"#ed5f2b",color:"#fff"}},[a("td",{attrs:{width:"70%"}},[t._v("Нийт борлуулалт")]),t.edit?a("th",{attrs:{scope:"row"}},[a("el-input-number",{staticStyle:{width:"80%"},attrs:{size:"small",min:0},model:{value:t.order.detail.total,callback:function(e){t.$set(t.order.detail,"total",e)},expression:"order.detail.total"}})],1):a("th",{attrs:{scope:"row"}},[t._v(t._s(Number(t.order.detail.total).toLocaleString()))])]),a("tr",[a("td",[t._v("Карт / ПОС")]),t.edit?a("th",{attrs:{scope:"row"}},[a("el-input-number",{staticStyle:{width:"80%"},attrs:{size:"small",min:0},model:{value:t.order.detail.terminal,callback:function(e){t.$set(t.order.detail,"terminal",e)},expression:"order.detail.terminal"}})],1):a("th",{attrs:{scope:"row"}},[t._v(t._s(Number(t.order.detail.terminal).toLocaleString()))])]),a("tr",[a("td",[t._v("Шилжүүлэг / Мобайл")]),t.edit?a("th",{attrs:{scope:"row"}},[a("el-input-number",{staticStyle:{width:"80%"},attrs:{size:"small",min:0},model:{value:t.order.detail.mobile,callback:function(e){t.$set(t.order.detail,"mobile",e)},expression:"order.detail.mobile"}})],1):a("th",{attrs:{scope:"row"}},[t._v(t._s(Number(t.order.detail.mobile).toLocaleString()))])]),a("tr",[a("td",[t._v("Qpay")]),t.edit?a("th",{attrs:{scope:"row"}},[a("el-input-number",{staticStyle:{width:"80%"},attrs:{size:"small",min:0},model:{value:t.order.detail.qpay,callback:function(e){t.$set(t.order.detail,"qpay",e)},expression:"order.detail.qpay"}})],1):a("th",{attrs:{scope:"row"}},[t._v(t._s(Number(t.order.detail.qpay).toLocaleString()))])]),a("tr",[a("td",[t._v("Candy")]),t.edit?a("th",{attrs:{scope:"row"}},[a("el-input-number",{staticStyle:{width:"80%"},attrs:{size:"small",min:0},model:{value:t.order.detail.candy,callback:function(e){t.$set(t.order.detail,"candy",e)},expression:"order.detail.candy"}})],1):a("th",{attrs:{scope:"row"}},[t._v(t._s(Number(t.order.detail.candy).toLocaleString()))])]),a("tr",[a("td",[t._v("Нэхэмжлэх")]),t.edit?a("th",{attrs:{scope:"row"}},[a("el-input-number",{staticStyle:{width:"80%"},attrs:{size:"small",min:0},model:{value:t.order.detail.invoice,callback:function(e){t.$set(t.order.detail,"invoice",e)},expression:"order.detail.invoice"}})],1):a("th",{attrs:{scope:"row"}},[t._v(t._s(Number(t.order.detail.invoice).toLocaleString()))])]),a("tr",[a("td",[t._v("Хямдралын дүн")]),t.edit?a("th",{attrs:{scope:"row"}},[a("el-input-number",{staticStyle:{width:"80%"},attrs:{size:"small",min:0},model:{value:t.order.detail.sale,callback:function(e){t.$set(t.order.detail,"sale",e)},expression:"order.detail.sale"}})],1):a("th",{attrs:{scope:"row"}},[t._v(t._s(Number(t.order.detail.sale).toLocaleString()))])]),a("tr",[a("td",[t._v("Буцаалтын дүн")]),t.edit?a("th",{attrs:{scope:"row"}},[a("el-input-number",{staticStyle:{width:"80%"},attrs:{size:"small",min:0},model:{value:t.order.detail.deleted,callback:function(e){t.$set(t.order.detail,"deleted",e)},expression:"order.detail.deleted"}})],1):a("th",{attrs:{scope:"row"}},[t._v(t._s(Number(t.order.detail.deleted).toLocaleString()))])]),a("tr",{staticStyle:{background:"#5985de",color:"#fff"}},[a("td",[a("strong",[t._v("Эхний үлдэгдэл")])]),a("th",{attrs:{scope:"row"}},[t._v(t._s(Number(t.order.detail.belen).toLocaleString()))])]),a("tr",[a("td",[t._v("Харилцахад тушаасан")]),t.edit?a("th",{attrs:{scope:"row"}},[a("el-input-number",{staticStyle:{width:"80%"},attrs:{size:"small",min:0},model:{value:t.order.detail.hariltsahad_tushaasan,callback:function(e){t.$set(t.order.detail,"hariltsahad_tushaasan",e)},expression:"order.detail.hariltsahad_tushaasan"}})],1):a("th",{attrs:{scope:"row"}},[t._v(t._s(Number(t.order.detail.hariltsahad_tushaasan).toLocaleString()))])]),a("tr",[a("td",[t._v("Бэлэн тушаасан")]),t.edit?a("th",{attrs:{scope:"row"}},[a("el-input-number",{staticStyle:{width:"80%"},attrs:{size:"small",min:0},model:{value:t.order.detail.belen_tushaasan,callback:function(e){t.$set(t.order.detail,"belen_tushaasan",e)},expression:"order.detail.belen_tushaasan"}})],1):a("th",{attrs:{scope:"row"}},[t._v(t._s(Number(t.order.detail.belen_tushaasan).toLocaleString()))])]),a("tr",[a("td",[t._v("Кассын илүүдэл")]),a("th",{attrs:{scope:"row"}},[t._v(t._s(Number(t.more).toLocaleString()))])]),a("tr",[a("td",[t._v("Касын дутагдал")]),a("th",{attrs:{scope:"row"}},[t._v(t._s(Number(t.miss).toLocaleString()))])]),a("tr",{staticStyle:{background:"#5985de",color:"#fff"}},[a("td",[a("strong",[t._v("Эцсийн үлдэгдэл")])]),a("th",{attrs:{scope:"row"}},[t._v(t._s(Number(t.LastUld).toLocaleString()))])])])])])])],1)],1)]),a("div",{attrs:{align:"right"}},[a("el-card",[1==t.LoggedUser.posID||2==t.LoggedUser.posID?a("el-button",{attrs:{type:t.editType,plain:"",size:"small"},on:{click:t.editPlan}},[t._v(t._s(t.editText))]):t._e(),1!=t.LoggedUser.posID&&2!=t.LoggedUser.posID||0!=t.order.detail.stat?t._e():a("el-button",{attrs:{type:"warning",plain:"",size:"small"},on:{click:t.setStatReport}},[t._v("Шивсэн гэж тэмдэглэх")])],1)],1)],1)},Fs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i",{staticClass:"mdi mdi-truck mb-10 fs-30"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("Шивэгдсэн")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i",{staticClass:"mdi mdi-door-closed-lock mb-10 fs-30"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("Шивэгдээгүй")])])}],Hs=(new $e.a,{name:"EcommerceCheckout",data:function(){return{items:[],LoggedUser:[],card:"",date:"",cvv:"",name:"",order:{ordernumber:"",detail:[],product:[]},edit:!1,editText:"Засварлах",editType:"info",LastUld:0}},computed:{amount:function(){return _.reduce(this.order.product,(function(t,e){return t+e.sale_price*e.quantity}),0)},amount_text:function(){return Number(this.amount).toLocaleString()},miss:function(){var t=this.order.detail,e=t.total-t.terminal-t.mobile-t.qpay-t.candy-t.invoice-t.deleted-t.sale-t.belen_tushaasan,a=e-t.hariltsahad_tushaasan;return a<0?(this.order.detail.dutuu=0,this.LastUld=this.order.detail.belen+this.order.detail.dutuu-this.order.detail.iluu,0):(this.order.detail.dutuu=a,this.LastUld=this.order.detail.belen+this.order.detail.dutuu-this.order.detail.iluu,a)},more:function(){var t=this.order.detail,e=t.total-t.terminal-t.mobile-t.qpay-t.candy-t.invoice-t.deleted-t.sale-t.belen_tushaasan,a=e-t.hariltsahad_tushaasan;return a<0?(this.order.detail.iluu=-1*a,this.LastUld=this.order.detail.belen+this.order.detail.dutuu-this.order.detail.iluu,-1*a):(this.order.detail.iluu=0,this.LastUld=this.order.detail.belen+this.order.detail.dutuu-this.order.detail.iluu,0)}},mounted:function(){this.order.ordernumber=this.$route.params.id,this.LoggedUser=JSON.parse(localStorage.getItem("user")),this.getOrder()},methods:{editPlan:function(){if(this.edit){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/invoice/update-report",headers:{Authorization:"Bearer ".concat(e)},data:{reportNumber:this.order.ordernumber,report:this.order.detail}}).then((function(e){"success"==e.data.result&&(t.edit=!1,t.editText="Засварлах",t.editType="info",t.$notify({title:"Амжилтай",message:"Амжилттай хадгалагдлаа",type:"success"}))})).catch((function(t){console.log(t)}))}else this.edit=!0,this.editText="Хадгалах",this.editType="success"},setStatReport:function(){var t=this;this.edit?this.$notify({title:"Ажилтгүй",message:"Засвараа дуусгана уу",type:"error"}):this.$confirm("Шивсэн болгохдоо итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var e=t,a=localStorage.getItem("token");a&&t.$axios({method:"post",url:e.$appUrl+"/api/invoice/update-stat-report",headers:{Authorization:"Bearer ".concat(a)},data:{id:t.order.ordernumber}}).then((function(t){"success"==t.data.result?(e.order.detail.stat=1,e.$notify({title:"Амжилтай",message:"Амжилттай шинэчлэгдлээ",type:"success"})):e.$notify({title:"Ажилтгүй",message:"Танд энэ эрх олгогдоогүй байна",type:"success"})})).catch((function(t){console.log(t)}))}))},getOrder:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/invoice/get-report",headers:{Authorization:"Bearer ".concat(e)},data:{id:this.order.ordernumber}}).then((function(e){"success"==e.data.result?t.order.detail=e.data.report:t.$router.push({name:"not-found"})})).catch((function(t){console.log(t)}))}}}),Ws=Hs,Gs=(a("f61d"),Object(x["a"])(Ws,qs,Fs,!1,null,null,null)),Zs=Gs.exports,Js=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-invoice scrollable"},[i("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!1,filename:t.invoiceNumber,"pdf-quality":3,"manual-pagination":!0,"paginate-elements-by-height":1,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"794px"}},[i("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[i("section",{staticClass:"pdf-content"},[i("div",{staticClass:"page-invoice"},[i("div",{staticClass:"invoice bg-white black-text",staticStyle:{"padding-left":"1.5cm","padding-right":"1cm","padding-top":"1cm"}},[i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("p",{staticStyle:{"font-size":"2.2em","font-weight":"500"}},[t._v("ҮНИЙН САНАЛ")]),i("p",{staticClass:"address",staticStyle:{"margin-top":"7px","font-size":"12px"}},[t._v("Монгол улс, Улаанбаатар хот, ЧД 4-р хороо"),i("br"),t._v(" Жуулчны гудамж 4/4, Макс Цамхаг"),i("br"),t._v(" 3 давхар 306 тоот")]),i("p",{staticClass:"address",staticStyle:{"margin-top":"7px","font-size":"12px"}},[t._v("Утас: "),i("strong",[t._v("8630 6010")])])])]),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[i("span",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v("Төлөгч байгууллага / Хувь хүн")])]),i("p",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(t.invoiceTo.company))]),t._v(" (РД: "+t._s(t.invoiceTo.register)+")")]),i("p",{staticClass:"email",staticStyle:{"margin-top":"15px","font-size":"14px"}},[t._v(t._s(t.invoiceTo.email))]),i("p",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.invoiceTo.phone))])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",[i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Үнийн саналын дугаар :")])]),i("td",{attrs:{align:"left"}},[t._v(t._s(t.invoiceNumber))])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Үүсгэсэн огноо :")])]),i("td",{staticStyle:{width:"40%"}},[void 0!==t.invoiceTo.created_at?i("span",[t._v(t._s(t.invoiceTo.created_at.split("T")[0]))]):t._e()])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Хүчинтэй огноо :")])]),i("td",{staticStyle:{width:"40%"}},[void 0!==t.invoiceTo.updated_at?i("span",[t._v(t._s(t.invoiceTo.updated_at.split("T")[0]))]):t._e()])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Нийлүүлэх хугацаа :")])]),i("td",{staticStyle:{width:"40%"}},[t._v(" "+t._s(t.invoiceTo.available_date)+" хоног ")])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Урьдчилгаа төлбөр :")])]),i("td",{staticStyle:{width:"40%"}},[t._v(" "+t._s(t.invoiceTo.pre_amount)+"% ")])])])])]),i("div",{staticClass:"invoice-bottom"},[i("table",[i("thead",[i("tr",[i("th",[t._v("Бүтээгдэхүүн")]),i("th",[t._v("Тоо")]),i("th",[t._v("Үнэ")]),i("th",[t._v("Нийт үнэ")])])]),i("tbody",t._l(t.products,(function(e,a){return i("tr",{key:a},[i("td",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(e.product_name))]),i("br"),i("span",{staticStyle:{"font-size":"11px"}},[t._v(t._s(e.description))])]),i("td",{staticStyle:{"font-size":"14px"}},[t._v(t._s(Number(e.remain).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price*e.remain).toLocaleString()))])])})),0),i("tfoot",[i("tr",{attrs:{hidden:!t.switchs.noat}},[i("td",{style:{"border-bottom":"none","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[t._v("Үнэ")]),i("td",{style:{"border-bottom":"none"}},[t._v(t._s(Number((t.amount_text/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])]),i("tr",{attrs:{hidden:!t.switchs.noat}},[i("td",{style:{"border-bottom":"none","padding-top":"5px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[t._v("НӨАТ")]),i("td",{style:{"border-bottom":"none","padding-top":"5px"}},[t._v(t._s(Number((t.amount_text-t.amount_text/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])]),i("tr",[i("td",{style:{"padding-top":"5px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("Нийт үнэ")])]),i("td",{style:{"padding-top":"5px"}},[i("strong",[t._v(t._s(Number(t.amount_text.toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])])])])]),i("div",{staticClass:"legalcopy mt-10"},[i("p",{staticClass:"legal box grow mr-20 mt-0"},[i("strong",[t._v("Биднийг сонгосонд баярлалаа. ")]),t._v(" Танд амжилт хүсье! ")])])]),i("div",{staticClass:"mt-20",attrs:{align:"center"}},[i("img",{staticStyle:{width:"180px",height:"auto","vertical-align":"middle"},attrs:{src:a("7d33"),alt:"stamp",hidden:!t.switchs.stamp}}),i("div",{staticStyle:{height:"70px"},attrs:{hidden:t.switchs.stamp}}),i("div",{staticStyle:{"font-size":"14px","margin-top":"-45px"},attrs:{id:"stamp-text"}},[i("span",{staticStyle:{"margin-right":"100px"}},[t._v("НЯГТЛАН БОДОГЧ")]),i("span",[t._v("Р.НОРОВБАДАМ")])])])])])])])]),i("div",{staticClass:"toolbar"},[i("el-button",{staticClass:"animated fadeInRight",attrs:{type:"info",plain:"",size:"small"},on:{click:t.toInvoice}},[i("i",{staticClass:"el-icon-document-copy"}),t._v(" Нэхэмжлэх үүсгэх")]),i("el-button",{staticClass:"animated fadeInRight",attrs:{type:"warning",plain:"",size:"small"},on:{click:t.toSend}},[i("i",{staticClass:"mdi mdi-email-send"}),t._v(" Илгээх")]),i("el-button",{staticClass:"animated fadeInRight",attrs:{type:"primary",plain:"",size:"small"},on:{click:t.toPdf}},[i("i",{staticClass:"mdi mdi-download"}),t._v(" Татах")]),i("el-button",{staticClass:"animated fadeInRight",attrs:{plain:"",size:"small"},on:{click:t.print}},[i("i",{staticClass:"mdi mdi-printer"}),t._v(" Хэвлэх")]),i("el-button",{attrs:{icon:"el-icon-setting",size:"small",circle:""},on:{click:function(e){t.modals.setting=!0}}})],1),i("div",{staticClass:"invoice bg-white black-text",staticStyle:{"padding-left":"1.5cm","padding-right":"1cm","padding-top":"1cm"}},[t._m(0),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[t._m(1),i("p",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(t.invoiceTo.company))]),t._v(" (РД: "+t._s(t.invoiceTo.register)+")")]),i("p",{staticClass:"email",staticStyle:{"margin-top":"15px","font-size":"14px"}},[t._v(t._s(t.invoiceTo.email))]),i("p",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.invoiceTo.phone))])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",[i("tr",[t._m(2),i("td",{attrs:{align:"left"}},[t._v(t._s(t.invoiceNumber))])]),i("tr",[t._m(3),i("td",{staticStyle:{width:"40%"}},[void 0!==t.invoiceTo.created_at?i("span",[t._v(t._s(t.invoiceTo.created_at.split("T")[0]))]):t._e()])]),i("tr",[t._m(4),i("td",{staticStyle:{width:"40%"}},[void 0!==t.invoiceTo.updated_at?i("span",[t._v(t._s(t.invoiceTo.updated_at.split("T")[0]))]):t._e()])]),i("tr",[t._m(5),i("td",{staticStyle:{width:"40%"}},[t._v(" "+t._s(t.invoiceTo.available_date)+" хоног ")])]),i("tr",[t._m(6),i("td",{staticStyle:{width:"40%"}},[t._v(" "+t._s(t.invoiceTo.pre_amount)+"% ")])])])])]),i("div",{staticClass:"invoice-bottom"},[i("table",[t._m(7),i("tbody",t._l(t.products,(function(e,a){return i("tr",{key:a},[i("td",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(e.product_name))]),i("br"),i("span",{staticStyle:{"font-size":"11px"}},[t._v(t._s(e.description))])]),i("td",{staticStyle:{"font-size":"14px"}},[t._v(t._s(Number(e.remain).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price*e.remain).toLocaleString()))])])})),0),i("tfoot",[i("tr",{attrs:{hidden:!t.switchs.noat}},[i("td",{style:{"border-bottom":"none","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[t._v("Үнэ")]),i("td",{style:{"border-bottom":"none"}},[t._v(t._s(Number((t.amount_text/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])]),i("tr",{attrs:{hidden:!t.switchs.noat}},[i("td",{style:{"border-bottom":"none","padding-top":"5px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[t._v("НӨАТ")]),i("td",{style:{"border-bottom":"none","padding-top":"5px"}},[t._v(t._s(Number((t.amount_text-t.amount_text/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])]),i("tr",[i("td",{style:{"padding-top":"5px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("Нийт үнэ")])]),i("td",{style:{"padding-top":"5px"}},[i("strong",[t._v(t._s(Number(t.amount_text.toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])])])])]),t._m(8)]),i("div",{staticClass:"mt-20",attrs:{align:"center"}},[i("img",{staticStyle:{width:"180px",height:"auto","vertical-align":"middle"},attrs:{src:a("7d33"),alt:"stamp",hidden:!t.switchs.stamp}}),i("div",{staticStyle:{height:"70px"},attrs:{hidden:t.switchs.stamp}}),t._m(9)])]),i("el-dialog",{attrs:{title:"Тохиргоо",visible:t.modals.setting,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"setting",e)}}},[i("div",{staticStyle:{"padding-left":"20%"},attrs:{align:"left"}},[i("el-switch",{attrs:{"inactive-text":"Тамга харуулах"},model:{value:t.switchs.stamp,callback:function(e){t.$set(t.switchs,"stamp",e)},expression:"switchs.stamp"}}),i("br"),i("el-switch",{staticClass:"mt-20",attrs:{"inactive-text":"НӨАТ харуулах"},model:{value:t.switchs.noat,callback:function(e){t.$set(t.switchs,"noat",e)},expression:"switchs.noat"}})],1)])],1)},Vs=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("p",{staticStyle:{"font-size":"2.2em","font-weight":"500"}},[t._v("ҮНИЙН САНАЛ")]),i("p",{staticClass:"address",staticStyle:{"margin-top":"7px","font-size":"12px"}},[t._v("Монгол улс, Улаанбаатар хот, ЧД 4-р хороо"),i("br"),t._v(" Жуулчны гудамж 4/4, Макс Цамхаг"),i("br"),t._v(" 3 давхар 306 тоот")]),i("p",{staticClass:"address",staticStyle:{"margin-top":"7px","font-size":"12px"}},[t._v("Утас: "),i("strong",[t._v("8630 6010")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"font-size":"14px"}},[a("strong",[t._v("Төлөгч байгууллага / Хувь хүн")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Үнийн саналын дугаар :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Үүсгэсэн огноо :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Хүчинтэй огноо :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Нийлүүлэх хугацаа :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Урьдчилгаа төлбөр :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Бүтээгдэхүүн")]),a("th",[t._v("Тоо")]),a("th",[t._v("Үнэ")]),a("th",[t._v("Нийт үнэ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"legalcopy mt-10"},[a("p",{staticClass:"legal box grow mr-20 mt-0"},[a("strong",[t._v("Биднийг сонгосонд баярлалаа. ")]),t._v(" Танд амжилт хүсье! ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"font-size":"14px","margin-top":"-45px"},attrs:{id:"stamp-text"}},[a("span",{staticStyle:{"margin-right":"100px"}},[t._v("НЯГТЛАН БОДОГЧ")]),a("span",[t._v("Р.НОРОВБАДАМ")])])}],Ys={name:"Invoice",components:{VueHtml2pdf:Ie["a"]},data:function(){return{invoiceTo:{company:"ICBC",register:"2090562",phone:"75117733",email:"sales@icbc.mn"},products:[],invoiceNumber:"",send:!1,showStamp:!1,modals:{setting:!1},switchs:{stamp:!0,noat:!0},loading:!1}},computed:{amount:function(){return _.reduce(this.products,(function(t,e){return t+e.price*e.remain}),0)},amount_text:function(){return this.invoiceTo.total_amount=this.amount,this.amount}},mounted:function(){this.invoiceNumber=this.$route.params.id,this.getInvoice()},methods:{toInvoice:function(){var t=this;this.$confirm("<p>Үнийн саналын дагуу нэхэмжлэх үүсэх болно.</p><p>Итгэлтэй байна уу?</p>","Санамж",{confirmButtonText:"Нэхэмжлэх үүсгэх",cancelButtonText:"Цуцлах",dangerouslyUseHTMLString:!0,type:"warning",center:!0}).then((function(){t.loading=!0;var e=t,a=localStorage.getItem("token");a&&t.$axios({method:"post",url:e.$appUrl+"/api/offer/change-to-invoice",headers:{Authorization:"Bearer ".concat(a)},data:{invoiceTo:e.invoiceTo,product:e.products}}).then((function(t){e.loading=!1,"success"==t.data.result&&e.$router.push({name:"change-to-invoice",params:{id:t.data.ordernumber}})})).catch((function(t){e.loading=!1,console.log(t)}))}))},toSend:function(){var t=this;this.$prompt("Имэйл хаягаа оруулна уу","Үнийн санал илгээх",{confirmButtonText:"Илгээх",cancelButtonText:"Болих",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"Invalid Email"}).then((function(e){var a=e.value;t.loading=!0;var i=t,s=localStorage.getItem("token");s&&t.$axios({method:"post",url:i.$appUrl+"/api/offer/send-offer",headers:{Authorization:"Bearer ".concat(s)},data:{offerNumber:i.invoiceNumber,email:a}}).then((function(t){i.loading=!1,"success"==t.data.result&&i.$notify({title:"Амжилтай",message:"Амжилттай илгээгдлээ",type:"success"})})).catch((function(t){i.loading=!1,console.log(t)}))}))},toPdf:function(){this.$refs.html2Pdf.generatePdf()},print:function(){window.print()},getInvoice:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/offer/get-offer-done",headers:{Authorization:"Bearer ".concat(e)},data:{invoiceNumber:t.invoiceNumber}}).then((function(e){"success"==e.data.result?(console.log(e),t.invoiceTo=e.data.invoice,t.products=e.data.product):"failed"==e.data.result&&t.$router.push("/not-found")})).catch((function(t){console.log(t)}))}}},Xs=Ys,Qs=(a("4300"),Object(x["a"])(Xs,Js,Vs,!1,null,"8e8616b8",null)),Ks=Qs.exports,to=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-invoice scrollable"},[i("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!1,filename:t.invoiceNumber,"pdf-quality":3,"manual-pagination":!0,"paginate-elements-by-height":1,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"794px"}},[i("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[i("section",{staticClass:"pdf-content"},[i("div",{staticClass:"page-invoice"},[i("div",{staticClass:"invoice bg-white black-text",staticStyle:{"padding-top":"76px","padding-left":"114px","padding-right":"57px"}},[i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo",style:{width:"250px"}},[i("img",{style:{"margin-top":"0"},attrs:{src:a("2117"),alt:"logo"}}),i("p",{staticClass:"font-invoice",staticStyle:{"font-size":"11px","line-height":"normal",color:"#0bacfa"}},[t._v("Монгол улс, Улаанбаатар хот, СБД 6-р хороо"),i("br"),t._v(" НҮБ-н гудамж, 3-35 тоот, Вэб: www.tumentechno.mn, Цахим шуудан: tumentechnollc@gmail.com, Утас: (976)-75117733"),i("br")]),i("p",{staticClass:"font-invoice",staticStyle:{"font-size":"14px","margin-top":"10px","text-align":"center","line-height":"normal"}},[i("span",{staticStyle:{display:"inline-block",width:"115px","border-bottom":"1px solid #0bacfa"}},[t._v(t._s(t.official.created_at.split("T")[0]))]),i("span",{staticStyle:{color:"#0bacfa"}},[t._v("№")]),i("span",{staticStyle:{display:"inline-block",width:"115px","border-bottom":"1px solid #0bacfa"}},[t._v(t._s(t.official.official_id))])]),i("p",{staticClass:"font-invoice",staticStyle:{"font-size":"14px","margin-top":"10px","text-align":"center","line-height":"normal",color:"#0bacfa"}},[t._v("танай"),i("span",{staticStyle:{display:"inline-block",width:"75px","border-bottom":"1px solid"}}),t._v("-ны № "),i("span",{staticStyle:{display:"inline-block",width:"75px","border-bottom":"1px solid"}}),t._v("-т")]),i("div",{style:{width:"225px",position:"relative","margin-left":"0px","padding-left":"10px","padding-right":"10px","padding-top":"5px"},attrs:{align:"center"}},[i("span",{style:{position:"absolute",left:"0px",top:"-15px","font-size":"20px",color:"#0bacfa"}},[t._v("┍")]),i("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.official.about))]),i("span",{style:{position:"absolute",right:"-10px",top:"-15px","font-size":"20px",color:"#0bacfa"}},[t._v("┑")])])]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("div",{style:{width:"250px",position:"relative","padding-left":"10px","padding-right":"10px","padding-top":"5px"},attrs:{align:"center"}},[i("span",{style:{position:"absolute",left:"-10px",top:"-15px","font-size":"20px",color:"#0bacfa"}},[t._v("┍")]),i("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.official.receiver))]),i("span",{style:{position:"absolute",right:"-10px",top:"-15px","font-size":"20px",color:"#0bacfa"}},[t._v("┑")])])])]),i("div",{staticClass:"invoice-middle",staticStyle:{padding:"0"}},[i("pre",{staticClass:"font",staticStyle:{"text-align":"justify","text-justify":"inter-word","font-size":"16px","white-space":"pre-wrap",border:"none",background:"none",color:"#222"},attrs:{id:"description"}},[t._v(t._s(t.official.description))])]),i("div",{staticClass:"mt-20",attrs:{align:"center"}},[i("img",{staticStyle:{width:"365px",height:"auto","vertical-align":"middle"},attrs:{src:a("146e"),alt:"stamp",hidden:!t.switchs.stamp}}),i("div",{staticStyle:{height:"200px"},attrs:{hidden:t.switchs.stamp}}),i("div",{staticStyle:{"font-size":"16px","margin-top":"-140px"},attrs:{id:"stamp-text"}},[i("span",{staticStyle:{"margin-right":"100px"}},[t._v("ТҮМЭН ТЕХНО ХХК ЗАХИРАЛ")]),i("span",[t._v("Л.АМАРТҮВШИН")])])])])])])])]),i("div",{staticClass:"toolbar"},[i("el-button",{staticClass:"animated fadeInRight",attrs:{type:"primary",plain:"",size:"small"},on:{click:t.toPdf}},[i("i",{staticClass:"mdi mdi-download"}),t._v(" Татах")]),i("el-button",{staticClass:"animated fadeInRight",attrs:{plain:"",size:"small"},on:{click:t.print}},[i("i",{staticClass:"mdi mdi-printer"}),t._v(" Хэвлэх")]),i("el-button",{attrs:{icon:"el-icon-setting",size:"small",circle:""},on:{click:function(e){t.modals.setting=!0}}})],1),i("div",{staticClass:"invoice bg-white font black-text",staticStyle:{"padding-top":"26px","padding-left":"54px","padding-right":"17px",position:"relative"}},[i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo",style:{width:"250px"}},[i("img",{style:{"margin-top":"0"},attrs:{src:a("2117"),alt:"logo"}}),t._m(0),i("p",{staticClass:"font-invoice",staticStyle:{"font-size":"14px","margin-top":"10px","text-align":"center","line-height":"normal"}},[i("span",{staticStyle:{display:"inline-block",width:"115px","border-bottom":"1px solid #0bacfa"}},[t._v(t._s(t.official.created_at.split("T")[0]))]),i("span",{staticStyle:{color:"#0bacfa"}},[t._v("№")]),i("span",{staticStyle:{display:"inline-block",width:"115px","border-bottom":"1px solid #0bacfa"}},[t._v(t._s(t.official.official_id))])]),t._m(1),i("div",{style:{width:"225px",position:"relative","margin-left":"0px","padding-left":"10px","padding-right":"10px","padding-top":"5px"},attrs:{align:"center"}},[i("span",{style:{position:"absolute",left:"0px",top:"-15px","font-size":"20px",color:"#0bacfa"}},[t._v("┍")]),i("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.official.about))]),i("span",{style:{position:"absolute",right:"-10px",top:"-15px","font-size":"20px",color:"#0bacfa"}},[t._v("┑")])])]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("div",{style:{width:"250px",position:"relative","padding-left":"10px","padding-right":"10px","padding-top":"5px"},attrs:{align:"center"}},[i("span",{style:{position:"absolute",left:"-10px",top:"-15px","font-size":"20px",color:"#0bacfa"}},[t._v("┍")]),i("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.official.receiver))]),i("span",{style:{position:"absolute",right:"-10px",top:"-15px","font-size":"20px",color:"#0bacfa"}},[t._v("┑")])])])]),i("img",{staticStyle:{position:"absolute","margin-left":"30%","margin-top":"20%",opacity:"0.1"},attrs:{src:a("2117"),alt:"",width:"200"}}),i("div",{staticClass:"invoice-middle",staticStyle:{padding:"0"}},[i("pre",{staticClass:"font",staticStyle:{"text-align":"justify","text-justify":"inter-word","font-size":"16px","white-space":"pre-wrap",border:"none",background:"none",color:"#222"},attrs:{id:"description"}},[t._v(t._s(t.official.description))])]),i("div",{staticClass:"mt-20",attrs:{align:"center"}},[i("img",{staticStyle:{width:"300px",height:"auto","vertical-align":"middle"},attrs:{src:a("146e"),alt:"stamp",hidden:!t.switchs.stamp}}),i("div",{staticStyle:{height:"200px"},attrs:{hidden:t.switchs.stamp}}),t._m(2)])]),i("el-dialog",{attrs:{title:"Тохиргоо",visible:t.modals.setting,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"setting",e)}}},[i("div",{staticStyle:{"padding-left":"20%"},attrs:{align:"left"}},[i("el-switch",{attrs:{"inactive-text":"Тамга харуулах"},model:{value:t.switchs.stamp,callback:function(e){t.$set(t.switchs,"stamp",e)},expression:"switchs.stamp"}}),i("br")],1)])],1)},eo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"font-invoice",staticStyle:{"font-size":"11px","line-height":"normal",color:"#0bacfa"}},[t._v("Монгол улс, Улаанбаатар хот, СБД 6-р хороо"),a("br"),t._v(" НҮБ-н гудамж, 3-35 тоот, Вэб: www.tumentechno.mn, Цахим шуудан: tumentechnollc@gmail.com, Утас: (976)-75117733"),a("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"font-invoice",staticStyle:{"font-size":"14px","margin-top":"10px","text-align":"center","line-height":"normal",color:"#0bacfa"}},[t._v("танай"),a("span",{staticStyle:{display:"inline-block",width:"75px","border-bottom":"1px solid"}}),t._v("-ны № "),a("span",{staticStyle:{display:"inline-block",width:"75px","border-bottom":"1px solid"}}),t._v("-т")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"font-size":"16px","margin-top":"-120px"},attrs:{id:"stamp-text"}},[a("span",{staticStyle:{"margin-right":"100px"}},[t._v("ТҮМЭН ТЕХНО ХХК ЗАХИРАЛ")]),a("span",[t._v("Л.АМАРТҮВШИН")])])}],ao={name:"Invoice",components:{VueHtml2pdf:Ie["a"]},data:function(){return{official:{receiver:"",about:"",description:"",official_id:0,created_at:""},modals:{setting:!1},switchs:{stamp:!0},invoiceNumber:""}},computed:{amount:function(){return _.reduce(this.products,(function(t,e){return t+e.price*e.remain}),0)},amount_text:function(){return this.invoiceTo.total_amount=this.amount,this.amount}},mounted:function(){var t=this;this.invoiceNumber=this.$route.params.id,this.$prompt("Батлах нууц үгээ оруулна уу","Санамж",{confirmButtonText:"Батлах",cancelButtonText:"Болих",inputType:"Password"}).then((function(e){var a=e.value,i=t,s=localStorage.getItem("token");s&&t.$axios({method:"post",url:i.$appUrl+"/api/user/check-official-password",headers:{Authorization:"Bearer ".concat(s)},data:{password:a}}).then((function(t){"success"==t.data.result?i.getInvoice():(i.$notify({title:"Амжилтгүй",message:"Нууц үг буруу",type:"error"}),i.$router.go(-1))})).catch((function(t){console.log(t)}))})).catch((function(){t.$router.go(-1)}))},methods:{toSend:function(){this.send=!0},toPdf:function(){this.$refs.html2Pdf.generatePdf()},print:function(){window.print()},getInvoice:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/offer/get-official-done",headers:{Authorization:"Bearer ".concat(e)},data:{index:t.invoiceNumber}}).then((function(e){"success"==e.data.result?t.official=e.data.official:t.$router.push({name:"not-found"})})).catch((function(t){console.log(t)}))}}},io=ao,so=(a("4f1f"),Object(x["a"])(io,to,eo,!1,null,"0c94c318",null)),oo=so.exports,ro=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-ecommerce-new-product scrollable"},[a("div",{staticClass:"page-header"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",{attrs:{to:{path:"/products"}}},[t._v("Бүтээгдэхүүний жагсаалт")]),a("el-breadcrumb-item",[t._v("Шинэ бүтээгдэхүүн")])],1)],1),a("el-row",[a("el-col",[a("div",{staticClass:"item-box card-shadow--small b-rad-4"},[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"detail-box"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12,align:"center"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"Бүтээгдэхүүний нэр",clearable:""},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}})],1),a("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12,align:"center"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"Бүтээгдэхүүний модель",clearable:""},model:{value:t.product.model,callback:function(e){t.$set(t.product,"model",e)},expression:"product.model"}})],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:8,sm:8,md:8,lg:8,xl:8,align:"center"}},[a("div",{staticClass:"number-input"},[a("label",[t._v("Өртөг үнэ (₮)")]),a("el-input-number",{staticClass:"themed mr-10 mb-10",staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:0},model:{value:t.product.cost_price,callback:function(e){t.$set(t.product,"cost_price",e)},expression:"product.cost_price"}})],1)]),a("el-col",{attrs:{xs:8,sm:8,md:8,lg:8,xl:8,align:"center"}},[a("div",{staticClass:"number-input"},[a("label",[t._v("Бөөний үнэ (₮)")]),a("el-input-number",{staticClass:"themed mr-10 mb-10",staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:0},model:{value:t.product.wholesale_price,callback:function(e){t.$set(t.product,"wholesale_price",e)},expression:"product.wholesale_price"}})],1)]),a("el-col",{attrs:{xs:8,sm:8,md:8,lg:8,xl:8,align:"center"}},[a("div",{staticClass:"number-input"},[a("label",[t._v("Тасгийн үнэ (₮)")]),a("el-input-number",{staticClass:"themed mr-10 mb-10",staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:0},model:{value:t.product.sale_price,callback:function(e){t.$set(t.product,"sale_price",e)},expression:"product.sale_price"}})],1)])],1),a("el-row",[a("el-col",{staticClass:"description-box"},[a("textarea-autosize",{attrs:{placeholder:"Бүтээгдэхүүний тайлбар","min-height":100},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:6}},[a("div",{staticClass:"select-box mb-10"},[a("el-select",{staticStyle:{width:"86%","margin-right":"10px"},attrs:{filterable:"",placeholder:"Брэнд"},model:{value:t.product.brand,callback:function(e){t.$set(t.product,"brand",e)},expression:"product.brand"}},t._l(t.brands,(function(t){return a("el-option",{key:t.id,attrs:{label:t.brandname,value:t.id}})})),1),a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(e){t.modals.brand=!0}}})],1)]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:6}},[a("div",{staticClass:"select-box mb-10"},[a("el-select",{staticStyle:{width:"86%","margin-right":"10px"},attrs:{filterable:"",placeholder:"Категори"},on:{change:t.changeCategory},model:{value:t.product.category,callback:function(e){t.$set(t.product,"category",e)},expression:"product.category"}},t._l(t.category,(function(t){return a("el-option",{key:t.id,attrs:{label:t.category_name,value:t.id}})})),1),a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(e){t.modals.category=!0}}})],1)]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:6}},[a("div",{staticClass:"select-box mb-10"},[a("el-select",{staticStyle:{width:"86%","margin-right":"10px"},attrs:{filterable:"",placeholder:"Дэд категори"},model:{value:t.product.sub_category,callback:function(e){t.$set(t.product,"sub_category",e)},expression:"product.sub_category"}},t._l(t.filterSub,(function(t,e){return a("el-option",{key:e,attrs:{label:t.sub_category_name,value:t.id}})})),1),a("el-button",{attrs:{icon:"el-icon-plus",circle:""},on:{click:function(e){t.modals.sub=!0}}})],1)]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:6}},[a("div",{staticClass:"select-box mb-10"},[a("el-select",{staticClass:"themed",attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"Өнгө","popper-class":"themed color-accent-"+t.colorAccent},model:{value:t.product.color_name,callback:function(e){t.$set(t.product,"color_name",e)},expression:"product.color_name"}},t._l(t.colors,(function(t,e){return a("el-option",{key:e,attrs:{label:t.color_name,value:t.color_name}})})),1)],1)])],1),a("el-row",[a("el-col",[a("div",{staticClass:"actions-box text-right"},[a("el-button",{staticClass:"themed mb-10 mr-10",attrs:{type:"primary",plain:""},on:{click:t.addProduct}},[a("i",{staticClass:"mdi mdi-content-save"}),t._v(" ХАДГАЛАХ")])],1)])],1)],1)])],1)],1)])],1),a("el-dialog",{attrs:{title:"Шинэ брэнд бүртгэх",visible:t.modals.brand},on:{"update:visible":function(e){return t.$set(t.modals,"brand",e)}}},[a("div",{attrs:{align:"center"}},[a("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Нэр",clearable:""},model:{value:t.newBrand,callback:function(e){t.newBrand=e},expression:"newBrand"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.brand=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveBrand}},[t._v("Хадгалах")])],1)]),a("el-dialog",{attrs:{title:"Шинэ категори бүртгэх",visible:t.modals.category},on:{"update:visible":function(e){return t.$set(t.modals,"category",e)}}},[a("div",{attrs:{align:"center"}},[a("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Нэр",clearable:""},model:{value:t.newCategory.name,callback:function(e){t.$set(t.newCategory,"name",e)},expression:"newCategory.name"}}),a("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Код",clearable:""},model:{value:t.newCategory.code,callback:function(e){t.$set(t.newCategory,"code",e)},expression:"newCategory.code"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.category=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveCategory}},[t._v("Хадгалах")])],1)]),a("el-dialog",{attrs:{title:"Дэд категори бүртгэх",visible:t.modals.sub},on:{"update:visible":function(e){return t.$set(t.modals,"sub",e)}}},[a("div",{attrs:{align:"center"}},[a("el-select",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{filterable:"",placeholder:"Категори"},model:{value:t.newSub.categoryID,callback:function(e){t.$set(t.newSub,"categoryID",e)},expression:"newSub.categoryID"}},t._l(t.category,(function(t){return a("el-option",{key:t.id,attrs:{label:t.category_name,value:t.id}})})),1),a("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Нэр",clearable:""},model:{value:t.newSub.name,callback:function(e){t.$set(t.newSub,"name",e)},expression:"newSub.name"}}),a("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Код",clearable:""},model:{value:t.newSub.code,callback:function(e){t.$set(t.newSub,"code",e)},expression:"newSub.code"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.sub=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveSubCategory}},[t._v("Хадгалах")])],1)])],1)},no=[],lo={name:"EcommerceNewProduct",data:function(){return{product:{name:"",model:"",color_name:"",sale_price:0,wholesale_price:0,cost_price:0,description:"",brand:"",category:"",sub_category:""},brands:[],category:[],sub:[],colors:[],modals:{brand:!1,category:!1,sub:!1},newBrand:"",newCategory:{name:"",code:""},newSub:{categoryID:"",name:"",code:""}}},computed:{finalPrice:function(){return(this.price-this.discountPrice).toFixed(2)},discountPrice:function(){return(this.price/100*this.discount).toFixed(2)},colorAccent:function(){return this.$store.getters.colorAccent},filterSub:function(){var t=this,e=[];return this.sub.forEach((function(a){a.categoryID==t.product.category&&e.push(a)})),e}},mounted:function(){this.getMethod()},methods:{saveBrand:function(){if(""!=this.newBrand){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/add-brand",headers:{Authorization:"Bearer ".concat(e)},data:{name:this.newBrand}}).then((function(e){"success"==e.data.result?(t.$notify({title:"Амжилттай",message:"Шинэ брэнд бүртгэгдлээ",type:"success"}),t.brands=[],t.brands=e.data.brand,t.modals.brand=!1):t.$notify({title:"Амжилтгүй",message:"Бүртгэлтэй брэнд",type:"error"})})).catch((function(t){console.log(t)}))}else this.$notify({title:"Амжилтгүй",message:"Брэндийн нэрээ оруулна уу",type:"error"})},saveSubCategory:function(){if(""!=this.newSub.categoryID&&""!=this.newSub.name&&""!=this.newSub.code){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/add-sub-category",headers:{Authorization:"Bearer ".concat(e)},data:{name:this.newSub.name,code:this.newSub.code,category:this.newSub.categoryID}}).then((function(e){"success"==e.data.result?(t.$notify({title:"Амжилттай",message:"Дэд категори бүртгэгдлээ",type:"success"}),t.sub=[],t.sub=e.data.sub,t.modals.sub=!1):"codeFaile"==e.data.result?t.$notify({title:"Амжилтгүй",message:"Нэр эсвэл код давхцлаа",type:"error"}):(e.data.result="failed")&&t.$notify({title:"Амжилтгүй",message:"Үндсэн категори олдсонгүй",type:"error"})})).catch((function(t){console.log(t)}))}else this.$notify({title:"Амжилтгүй",message:"Талбараа бүрэн бөглөнө үү",type:"error"})},saveCategory:function(){if(""!=this.newCategory.name&&""!=this.newCategory.code){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/add-category",headers:{Authorization:"Bearer ".concat(e)},data:{name:this.newCategory.name,code:this.newCategory.code}}).then((function(e){"success"==e.data.result?(t.$notify({title:"Амжилттай",message:"Шинэ категори бүртгэгдлээ",type:"success"}),t.category=[],t.category=e.data.category,t.modals.category=!1):t.$notify({title:"Амжилтгүй",message:"Нэр эсвэл код давхцлаа",type:"error"})})).catch((function(t){console.log(t)}))}else this.$notify({title:"Амжилтгүй",message:"Талбараа бүрэн бөглөнө үү",type:"error"})},changeCategory:function(){this.product.sub_category=""},getMethod:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/get-methods",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){"success"==e.data.result&&(t.brands=e.data.brand,t.category=e.data.category,t.sub=e.data.sub,t.colors=e.data.color)})).catch((function(t){console.log(t)}))},addProduct:function(){var t=this.product;if(""==t.name||""==t.model||""==t.brand||""==t.category||""==t.sub_category||""==t.color_name)this.$notify({title:"Амжилтгүй",message:"Шаардлагатай талбаруудад утга оруулагүй байна",type:"error"});else{var e=this,a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/product/add-product",headers:{Authorization:"Bearer ".concat(a)},data:{product:this.product}}).then((function(t){"success"==t.data.result?e.$notify({title:"Амжилттай",message:"Бүтээгдэхүүн бүртгэгдлээ",type:"success"}):"colorNotFound"==t.data.result?e.$notify({title:"Амжилтгүй",message:"Алдаа гарлаа (Өнгө олдсонгүй)",type:"error"}):"already_exist"==t.data.result&&e.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"<strong>".concat(t.data.color,"</strong> өнгө бүртгэлтэй байна"),type:"error"})})).catch((function(t){console.log(t)}))}}}},co=lo,uo=(a("4b10"),Object(x["a"])(co,ro,no,!1,null,null,null)),po=uo.exports,mo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-ecommerce-new-product scrollable"},[a("div",{staticClass:"page-header"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",{attrs:{to:{path:"/products"}}},[t._v("Бүтээгдэхүүний жагсаалт")]),a("el-breadcrumb-item",[t._v("Шинэ бүтээгдэхүүн")])],1)],1),a("el-row",[a("el-col",[a("div",{staticClass:"item-box card-shadow--small b-rad-4"},[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"detail-box"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12,align:"center"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"Бүтээгдэхүүний нэр",clearable:""},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}})],1),a("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12,align:"center"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"Бүтээгдэхүүний модель",clearable:""},model:{value:t.product.model,callback:function(e){t.$set(t.product,"model",e)},expression:"product.model"}})],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8,align:"center"}},[a("div",{staticClass:"number-input"},[a("label",[t._v("Тасгийн үнэ (₮)")]),a("el-input-number",{staticClass:"themed mr-10 mb-10",staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:0},model:{value:t.product.sale_price,callback:function(e){t.$set(t.product,"sale_price",e)},expression:"product.sale_price"}})],1)]),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8,align:"center"}},[a("div",{staticClass:"number-input"},[a("label",[t._v("Бөөний үнэ (₮)")]),a("el-input-number",{staticClass:"themed mr-10 mb-10",staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:0},model:{value:t.product.wholesale_price,callback:function(e){t.$set(t.product,"wholesale_price",e)},expression:"product.wholesale_price"}})],1)]),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8,align:"center"}},[a("div",{staticClass:"select-box"},[a("el-select",{staticClass:"themed mr-10 mb-10 mt-29",attrs:{filterable:"",placeholder:"Брэнд"},model:{value:t.product.brand,callback:function(e){t.$set(t.product,"brand",e)},expression:"product.brand"}},t._l(t.brands,(function(t){return a("el-option",{key:t.id,attrs:{label:t.brandname,value:t.id}})})),1)],1)])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[a("div",{staticClass:"select-box mb-10"},[a("el-select",{attrs:{filterable:"",placeholder:"Категори"},on:{change:t.changeCategory},model:{value:t.product.category,callback:function(e){t.$set(t.product,"category",e)},expression:"product.category"}},t._l(t.category,(function(t){return a("el-option",{key:t.id,attrs:{label:t.category_name,value:t.id}})})),1)],1)]),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[a("div",{staticClass:"select-box mb-10"},[a("el-select",{attrs:{filterable:"",placeholder:"Дэд категори"},model:{value:t.product.sub_category,callback:function(e){t.$set(t.product,"sub_category",e)},expression:"product.sub_category"}},t._l(t.filterSub,(function(t,e){return a("el-option",{key:e,attrs:{label:t.sub_category_name,value:t.id}})})),1)],1)]),a("el-col",{attrs:{xs:24,sm:8,md:8,lg:8,xl:8}},[a("div",{staticClass:"select-box mb-10"},[a("el-select",{staticClass:"themed",attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"Өнгө","popper-class":"themed color-accent-"+t.colorAccent},model:{value:t.product.color_name,callback:function(e){t.$set(t.product,"color_name",e)},expression:"product.color_name"}},t._l(t.colors,(function(t,e){return a("el-option",{key:e,attrs:{label:t.color_name,value:t.color_name}})})),1)],1)])],1),a("el-row",[a("el-col",[a("div",{staticClass:"actions-box text-right"},[a("el-button",{staticClass:"themed mb-10 mr-10",attrs:{type:"primary",plain:""},on:{click:t.addProduct}},[a("i",{staticClass:"mdi mdi-content-save"}),t._v(" ХАДГАЛАХ")])],1)])],1)],1)])],1)],1)])],1),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},ho=[],go={name:"EcommerceNewProduct",data:function(){return{product:{name:"",model:"",color_name:"",sale_price:0,wholesale_price:0,cost_price:0,description:"",brand:"",category:"",sub_category:"",qty:0},brands:[],category:[],sub:[],colors:[],newBrand:"",newCategory:{name:"",code:""},newSub:{categoryID:"",name:"",code:""},dialogImageUrl:"",dialogVisible:!1,disabled:!1}},computed:{finalPrice:function(){return(this.price-this.discountPrice).toFixed(2)},discountPrice:function(){return(this.price/100*this.discount).toFixed(2)},colorAccent:function(){return this.$store.getters.colorAccent},filterSub:function(){var t=this,e=[];return this.sub.forEach((function(a){a.categoryID==t.product.category&&e.push(a)})),e}},mounted:function(){this.getMethod()},methods:{handleRemove:function(t){this.$refs["el-upload"].uploadFiles.splice(0,1)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleDownload:function(t){console.log(t)},changeCategory:function(){this.product.sub_category=""},getMethod:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/get-methods",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){"success"==e.data.result&&(t.brands=e.data.brand,t.category=e.data.category,t.sub=e.data.sub,t.colors=e.data.color)})).catch((function(t){console.log(t)}))},addProduct:function(){var t=this.product;if(""==t.name||""==t.model||""==t.brand||""==t.category||""==t.sub_category||""==t.color_name)this.$notify({title:"Амжилтгүй",message:"Шаардлагатай талбаруудад утга оруулагүй байна",type:"error"});else{var e=this,a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/product/add-customer-product",headers:{Authorization:"Bearer ".concat(a)},data:{product:this.product}}).then((function(t){"success"==t.data.result?e.$notify({title:"Амжилттай",message:"Бүтээгдэхүүн бүртгэгдлээ",type:"success"}):"colorNotFound"==t.data.result?e.$notify({title:"Амжилтгүй",message:"Алдаа гарлаа (Өнгө олдсонгүй)",type:"error"}):"already_exist"==t.data.result&&e.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"<strong>".concat(t.data.color,"</strong> өнгө бүртгэлтэй байна"),type:"error"})})).catch((function(t){console.log(t)}))}}}},vo=go,fo=(a("3a8f"),Object(x["a"])(vo,mo,ho,!1,null,null,null)),bo=fo.exports,_o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found"},[a("div",{staticClass:"msg-box"},[a("h1",{staticClass:"animated fadeInDown"},[t._v("404 Not Found")]),t._m(0),a("router-link",{staticClass:"btn-go-home",attrs:{to:"/products"}},[a("strong",[t._v("BACK")])])],1)])},yo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"animated fadeInUp"},[t._v(" Oops!"),a("br"),t._v("Уучлаарай. Таны хайсан хуудас олдсонгүй. ")])}],xo={name:"NotFound"},wo=xo,Co=(a("cb98"),Object(x["a"])(wo,_o,yo,!1,null,"0d12a00a",null)),ko=Co.exports,So=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-icons flex column",attrs:{id:"page-icons"}},[a("div",{staticClass:"page-header"},[a("h1",[t._v("Material Design Icons")]),t._m(0),a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("UI")]),a("el-breadcrumb-item",[t._v("Icons")]),a("el-breadcrumb-item",[t._v("Material Design Icons")])],1)],1),a("div",{staticClass:"search-wrap flex align-center"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"box grow",attrs:{placeholder:"Search an icon"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("div",{staticClass:"icons-tot animated fadeInRight"},[t._v(t._s(t.iconsFiltered.length)+" icons")]),t._m(2)]),a("resize-observer",{on:{notify:t.handleResize}}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.asyncComponent,expression:"!asyncComponent"}],staticClass:"card-base card-shadow--medium box grow",attrs:{id:"icons-wrapper"}},[a(t.asyncComponent,{tag:"component",staticClass:"icons-list scrollable only-y",attrs:{cellSizeAndPositionGetter:t.cellSizeAndPositionGetter,collection:t.iconsFiltered,height:t.height,width:t.width},scopedSlots:t._u([{key:"cell",fn:function(e){return a("div",{staticClass:"icon"},[a("i",{class:"mdi mdi-"+e.data}),a("div",{staticClass:"title"},[t._v(t._s(e.data))]),a("div",{staticClass:"class"},[t._v('"mdi mdi-'+t._s(e.data)+'"')])])}}])})],1)],1)},$o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"hidden-xs-only"},[t._v("in this page you can search "),a("strong",[t._v("Material Design Icons")]),t._v(" for your project")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i",{staticClass:"mdi mdi-magnify"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeInRight"},[a("a",{attrs:{href:"https://materialdesignicons.com/",target:"_blank"}},[t._v("all icons "),a("i",{staticClass:"mdi mdi-arrow-right"}),t._v("reference")])])}],Io=(a("d81d"),{name:"MdIcons",data:function(){var t=["ab-testing","abjad-arabic","abjad-hebrew","abugida-devanagari","abugida-thai","access-point","access-point-network","access-point-network-off","account","account-alert","account-alert-outline","account-arrow-left","account-arrow-left-outline","account-arrow-right","account-arrow-right-outline","account-box","account-box-multiple","account-box-multiple-outline","account-box-outline","account-cancel","account-cancel-outline","account-cash","account-cash-outline","account-check","account-check-outline","account-child","account-child-circle","account-child-outline","account-circle","account-circle-outline","account-clock","account-clock-outline","account-cog","account-cog-outline","account-convert","account-convert-outline","account-cowboy-hat","account-details","account-details-outline","account-edit","account-edit-outline","account-group","account-group-outline","account-hard-hat","account-heart","account-heart-outline","account-key","account-key-outline","account-lock","account-lock-outline","account-minus","account-minus-outline","account-multiple","account-multiple-check","account-multiple-check-outline","account-multiple-minus","account-multiple-minus-outline","account-multiple-outline","account-multiple-plus","account-multiple-plus-outline","account-multiple-remove","account-multiple-remove-outline","account-music","account-music-outline","account-network","account-network-outline","account-off","account-off-outline","account-outline","account-plus","account-plus-outline","account-question","account-question-outline","account-remove","account-remove-outline","account-search","account-search-outline","account-settings","account-settings-outline","account-star","account-star-outline","account-supervisor","account-supervisor-circle","account-supervisor-outline","account-switch","account-switch-outline","account-tie","account-tie-outline","account-tie-voice","account-tie-voice-off","account-tie-voice-off-outline","account-tie-voice-outline","account-voice","adjust","adobe","adobe-acrobat","air-conditioner","air-filter","air-horn","air-humidifier","air-humidifier-off","air-purifier","airbag","airballoon","airballoon-outline","airplane","airplane-landing","airplane-off","airplane-takeoff","airport","alarm","alarm-bell","alarm-check","alarm-light","alarm-light-outline","alarm-multiple","alarm-note","alarm-note-off","alarm-off","alarm-plus","alarm-snooze","album","alert","alert-box","alert-box-outline","alert-circle","alert-circle-check","alert-circle-check-outline","alert-circle-outline","alert-decagram","alert-decagram-outline","alert-minus","alert-minus-outline","alert-octagon","alert-octagon-outline","alert-octagram","alert-octagram-outline","alert-outline","alert-plus","alert-plus-outline","alert-remove","alert-remove-outline","alert-rhombus","alert-rhombus-outline","alien","alien-outline","align-horizontal-center","align-horizontal-left","align-horizontal-right","align-vertical-bottom","align-vertical-center","align-vertical-top","all-inclusive","allergy","alpha","alpha-a","alpha-a-box","alpha-a-box-outline","alpha-a-circle","alpha-a-circle-outline","alpha-b","alpha-b-box","alpha-b-box-outline","alpha-b-circle","alpha-b-circle-outline","alpha-c","alpha-c-box","alpha-c-box-outline","alpha-c-circle","alpha-c-circle-outline","alpha-d","alpha-d-box","alpha-d-box-outline","alpha-d-circle","alpha-d-circle-outline","alpha-e","alpha-e-box","alpha-e-box-outline","alpha-e-circle","alpha-e-circle-outline","alpha-f","alpha-f-box","alpha-f-box-outline","alpha-f-circle","alpha-f-circle-outline","alpha-g","alpha-g-box","alpha-g-box-outline","alpha-g-circle","alpha-g-circle-outline","alpha-h","alpha-h-box","alpha-h-box-outline","alpha-h-circle","alpha-h-circle-outline","alpha-i","alpha-i-box","alpha-i-box-outline","alpha-i-circle","alpha-i-circle-outline","alpha-j","alpha-j-box","alpha-j-box-outline","alpha-j-circle","alpha-j-circle-outline","alpha-k","alpha-k-box","alpha-k-box-outline","alpha-k-circle","alpha-k-circle-outline","alpha-l","alpha-l-box","alpha-l-box-outline","alpha-l-circle","alpha-l-circle-outline","alpha-m","alpha-m-box","alpha-m-box-outline","alpha-m-circle","alpha-m-circle-outline","alpha-n","alpha-n-box","alpha-n-box-outline","alpha-n-circle","alpha-n-circle-outline","alpha-o","alpha-o-box","alpha-o-box-outline","alpha-o-circle","alpha-o-circle-outline","alpha-p","alpha-p-box","alpha-p-box-outline","alpha-p-circle","alpha-p-circle-outline","alpha-q","alpha-q-box","alpha-q-box-outline","alpha-q-circle","alpha-q-circle-outline","alpha-r","alpha-r-box","alpha-r-box-outline","alpha-r-circle","alpha-r-circle-outline","alpha-s","alpha-s-box","alpha-s-box-outline","alpha-s-circle","alpha-s-circle-outline","alpha-t","alpha-t-box","alpha-t-box-outline","alpha-t-circle","alpha-t-circle-outline","alpha-u","alpha-u-box","alpha-u-box-outline","alpha-u-circle","alpha-u-circle-outline","alpha-v","alpha-v-box","alpha-v-box-outline","alpha-v-circle","alpha-v-circle-outline","alpha-w","alpha-w-box","alpha-w-box-outline","alpha-w-circle","alpha-w-circle-outline","alpha-x","alpha-x-box","alpha-x-box-outline","alpha-x-circle","alpha-x-circle-outline","alpha-y","alpha-y-box","alpha-y-box-outline","alpha-y-circle","alpha-y-circle-outline","alpha-z","alpha-z-box","alpha-z-box-outline","alpha-z-circle","alpha-z-circle-outline","alphabet-aurebesh","alphabet-cyrillic","alphabet-greek","alphabet-latin","alphabet-piqad","alphabet-tengwar","alphabetical","alphabetical-off","alphabetical-variant","alphabetical-variant-off","altimeter","amazon","amazon-alexa","ambulance","ammunition","ampersand","amplifier","amplifier-off","anchor","android","android-auto","android-debug-bridge","android-messages","android-studio","angle-acute","angle-obtuse","angle-right","angular","angularjs","animation","animation-outline","animation-play","animation-play-outline","ansible","antenna","anvil","apache-kafka","api","api-off","apple","apple-airplay","apple-finder","apple-icloud","apple-ios","apple-keyboard-caps","apple-keyboard-command","apple-keyboard-control","apple-keyboard-option","apple-keyboard-shift","apple-safari","application","application-export","application-import","approximately-equal","approximately-equal-box","apps","apps-box","arch","archive","archive-arrow-down","archive-arrow-down-outline","archive-arrow-up","archive-arrow-up-outline","archive-outline","arm-flex","arm-flex-outline","arrange-bring-forward","arrange-bring-to-front","arrange-send-backward","arrange-send-to-back","arrow-all","arrow-bottom-left","arrow-bottom-left-bold-outline","arrow-bottom-left-thick","arrow-bottom-right","arrow-bottom-right-bold-outline","arrow-bottom-right-thick","arrow-collapse","arrow-collapse-all","arrow-collapse-down","arrow-collapse-horizontal","arrow-collapse-left","arrow-collapse-right","arrow-collapse-up","arrow-collapse-vertical","arrow-decision","arrow-decision-auto","arrow-decision-auto-outline","arrow-decision-outline","arrow-down","arrow-down-bold","arrow-down-bold-box","arrow-down-bold-box-outline","arrow-down-bold-circle","arrow-down-bold-circle-outline","arrow-down-bold-hexagon-outline","arrow-down-bold-outline","arrow-down-box","arrow-down-circle","arrow-down-circle-outline","arrow-down-drop-circle","arrow-down-drop-circle-outline","arrow-down-thick","arrow-expand","arrow-expand-all","arrow-expand-down","arrow-expand-horizontal","arrow-expand-left","arrow-expand-right","arrow-expand-up","arrow-expand-vertical","arrow-horizontal-lock","arrow-left","arrow-left-bold","arrow-left-bold-box","arrow-left-bold-box-outline","arrow-left-bold-circle","arrow-left-bold-circle-outline","arrow-left-bold-hexagon-outline","arrow-left-bold-outline","arrow-left-box","arrow-left-circle","arrow-left-circle-outline","arrow-left-drop-circle","arrow-left-drop-circle-outline","arrow-left-right","arrow-left-right-bold","arrow-left-right-bold-outline","arrow-left-thick","arrow-right","arrow-right-bold","arrow-right-bold-box","arrow-right-bold-box-outline","arrow-right-bold-circle","arrow-right-bold-circle-outline","arrow-right-bold-hexagon-outline","arrow-right-bold-outline","arrow-right-box","arrow-right-circle","arrow-right-circle-outline","arrow-right-drop-circle","arrow-right-drop-circle-outline","arrow-right-thick","arrow-split-horizontal","arrow-split-vertical","arrow-top-left","arrow-top-left-bold-outline","arrow-top-left-bottom-right","arrow-top-left-bottom-right-bold","arrow-top-left-thick","arrow-top-right","arrow-top-right-bold-outline","arrow-top-right-bottom-left","arrow-top-right-bottom-left-bold","arrow-top-right-thick","arrow-up","arrow-up-bold","arrow-up-bold-box","arrow-up-bold-box-outline","arrow-up-bold-circle","arrow-up-bold-circle-outline","arrow-up-bold-hexagon-outline","arrow-up-bold-outline","arrow-up-box","arrow-up-circle","arrow-up-circle-outline","arrow-up-down","arrow-up-down-bold","arrow-up-down-bold-outline","arrow-up-drop-circle","arrow-up-drop-circle-outline","arrow-up-thick","arrow-vertical-lock","artstation","aspect-ratio","assistant","asterisk","at","atlassian","atm","atom","atom-variant","attachment","audio-video","audio-video-off","augmented-reality","auto-download","auto-fix","auto-upload","autorenew","av-timer","aws","axe","axis","axis-arrow","axis-arrow-info","axis-arrow-lock","axis-lock","axis-x-arrow","axis-x-arrow-lock","axis-x-rotate-clockwise","axis-x-rotate-counterclockwise","axis-x-y-arrow-lock","axis-y-arrow","axis-y-arrow-lock","axis-y-rotate-clockwise","axis-y-rotate-counterclockwise","axis-z-arrow","axis-z-arrow-lock","axis-z-rotate-clockwise","axis-z-rotate-counterclockwise","babel","baby","baby-bottle","baby-bottle-outline","baby-buggy","baby-carriage","baby-carriage-off","baby-face","baby-face-outline","backburger","backspace","backspace-outline","backspace-reverse","backspace-reverse-outline","backup-restore","bacteria","bacteria-outline","badge-account","badge-account-alert","badge-account-alert-outline","badge-account-horizontal","badge-account-horizontal-outline","badge-account-outline","badminton","bag-carry-on","bag-carry-on-check","bag-carry-on-off","bag-checked","bag-personal","bag-personal-off","bag-personal-off-outline","bag-personal-outline","baguette","balloon","ballot","ballot-outline","ballot-recount","ballot-recount-outline","bandage","bandcamp","bank","bank-minus","bank-outline","bank-plus","bank-remove","bank-transfer","bank-transfer-in","bank-transfer-out","barcode","barcode-off","barcode-scan","barley","barley-off","barn","barrel","baseball","baseball-bat","bash","basket","basket-fill","basket-outline","basket-unfill","basketball","basketball-hoop","basketball-hoop-outline","bat","battery","battery-10","battery-10-bluetooth","battery-20","battery-20-bluetooth","battery-30","battery-30-bluetooth","battery-40","battery-40-bluetooth","battery-50","battery-50-bluetooth","battery-60","battery-60-bluetooth","battery-70","battery-70-bluetooth","battery-80","battery-80-bluetooth","battery-90","battery-90-bluetooth","battery-alert","battery-alert-bluetooth","battery-alert-variant","battery-alert-variant-outline","battery-bluetooth","battery-bluetooth-variant","battery-charging","battery-charging-10","battery-charging-100","battery-charging-20","battery-charging-30","battery-charging-40","battery-charging-50","battery-charging-60","battery-charging-70","battery-charging-80","battery-charging-90","battery-charging-high","battery-charging-low","battery-charging-medium","battery-charging-outline","battery-charging-wireless","battery-charging-wireless-10","battery-charging-wireless-20","battery-charging-wireless-30","battery-charging-wireless-40","battery-charging-wireless-50","battery-charging-wireless-60","battery-charging-wireless-70","battery-charging-wireless-80","battery-charging-wireless-90","battery-charging-wireless-alert","battery-charging-wireless-outline","battery-heart","battery-heart-outline","battery-heart-variant","battery-high","battery-low","battery-medium","battery-minus","battery-negative","battery-off","battery-off-outline","battery-outline","battery-plus","battery-positive","battery-unknown","battery-unknown-bluetooth","battlenet","beach","beaker","beaker-alert","beaker-alert-outline","beaker-check","beaker-check-outline","beaker-minus","beaker-minus-outline","beaker-outline","beaker-plus","beaker-plus-outline","beaker-question","beaker-question-outline","beaker-remove","beaker-remove-outline","bed","bed-double","bed-double-outline","bed-empty","bed-king","bed-king-outline","bed-outline","bed-queen","bed-queen-outline","bed-single","bed-single-outline","bee","bee-flower","beehive-off-outline","beehive-outline","beer","beer-outline","bell","bell-alert","bell-alert-outline","bell-cancel","bell-cancel-outline","bell-check","bell-check-outline","bell-circle","bell-circle-outline","bell-minus","bell-minus-outline","bell-off","bell-off-outline","bell-outline","bell-plus","bell-plus-outline","bell-remove","bell-remove-outline","bell-ring","bell-ring-outline","bell-sleep","bell-sleep-outline","beta","betamax","biathlon","bicycle","bicycle-basket","bike","bike-fast","billboard","billiards","billiards-rack","binoculars","bio","biohazard","bitbucket","bitcoin","black-mesa","blender","blender-software","blinds","blinds-open","block-helper","blogger","blood-bag","bluetooth","bluetooth-audio","bluetooth-connect","bluetooth-off","bluetooth-settings","bluetooth-transfer","blur","blur-linear","blur-off","blur-radial","bolnisi-cross","bolt","bomb","bomb-off","bone","book","book-account","book-account-outline","book-alphabet","book-cross","book-information-variant","book-lock","book-lock-open","book-minus","book-minus-multiple","book-minus-multiple-outline","book-multiple","book-multiple-outline","book-music","book-open","book-open-outline","book-open-page-variant","book-open-variant","book-outline","book-play","book-play-outline","book-plus","book-plus-multiple","book-plus-multiple-outline","book-remove","book-remove-multiple","book-remove-multiple-outline","book-search","book-search-outline","book-variant","book-variant-multiple","bookmark","bookmark-check","bookmark-check-outline","bookmark-minus","bookmark-minus-outline","bookmark-multiple","bookmark-multiple-outline","bookmark-music","bookmark-music-outline","bookmark-off","bookmark-off-outline","bookmark-outline","bookmark-plus","bookmark-plus-outline","bookmark-remove","bookmark-remove-outline","bookshelf","boom-gate","boom-gate-alert","boom-gate-alert-outline","boom-gate-down","boom-gate-down-outline","boom-gate-outline","boom-gate-up","boom-gate-up-outline","boombox","boomerang","bootstrap","border-all","border-all-variant","border-bottom","border-bottom-variant","border-color","border-horizontal","border-inside","border-left","border-left-variant","border-none","border-none-variant","border-outside","border-right","border-right-variant","border-style","border-top","border-top-variant","border-vertical","bottle-soda","bottle-soda-classic","bottle-soda-classic-outline","bottle-soda-outline","bottle-tonic","bottle-tonic-outline","bottle-tonic-plus","bottle-tonic-plus-outline","bottle-tonic-skull","bottle-tonic-skull-outline","bottle-wine","bottle-wine-outline","bow-tie","bowl","bowl-mix","bowl-mix-outline","bowl-outline","bowling","box","box-cutter","box-cutter-off","box-shadow","boxing-glove","braille","brain","bread-slice","bread-slice-outline","bridge","briefcase","briefcase-account","briefcase-account-outline","briefcase-check","briefcase-check-outline","briefcase-clock","briefcase-clock-outline","briefcase-download","briefcase-download-outline","briefcase-edit","briefcase-edit-outline","briefcase-minus","briefcase-minus-outline","briefcase-outline","briefcase-plus","briefcase-plus-outline","briefcase-remove","briefcase-remove-outline","briefcase-search","briefcase-search-outline","briefcase-upload","briefcase-upload-outline","briefcase-variant","briefcase-variant-outline","brightness-1","brightness-2","brightness-3","brightness-4","brightness-5","brightness-6","brightness-7","brightness-auto","brightness-percent","broom","brush","bucket","bucket-outline","buddhism","buffer","buffet","bug","bug-check","bug-check-outline","bug-outline","bugle","bulldozer","bullet","bulletin-board","bullhorn","bullhorn-outline","bullseye","bullseye-arrow","bulma","bunk-bed","bunk-bed-outline","bus","bus-alert","bus-articulated-end","bus-articulated-front","bus-clock","bus-double-decker","bus-marker","bus-multiple","bus-school","bus-side","bus-stop","bus-stop-covered","bus-stop-uncovered","cable-data","cached","cactus","cake","cake-layered","cake-variant","calculator","calculator-variant","calendar","calendar-account","calendar-account-outline","calendar-alert","calendar-arrow-left","calendar-arrow-right","calendar-blank","calendar-blank-multiple","calendar-blank-outline","calendar-check","calendar-check-outline","calendar-clock","calendar-edit","calendar-export","calendar-heart","calendar-import","calendar-minus","calendar-month","calendar-month-outline","calendar-multiple","calendar-multiple-check","calendar-multiselect","calendar-outline","calendar-plus","calendar-question","calendar-range","calendar-range-outline","calendar-refresh","calendar-refresh-outline","calendar-remove","calendar-remove-outline","calendar-search","calendar-star","calendar-sync","calendar-sync-outline","calendar-text","calendar-text-outline","calendar-today","calendar-week","calendar-week-begin","calendar-weekend","calendar-weekend-outline","call-made","call-merge","call-missed","call-received","call-split","camcorder","camcorder-off","camera","camera-account","camera-burst","camera-control","camera-enhance","camera-enhance-outline","camera-front","camera-front-variant","camera-gopro","camera-image","camera-iris","camera-metering-center","camera-metering-matrix","camera-metering-partial","camera-metering-spot","camera-off","camera-outline","camera-party-mode","camera-plus","camera-plus-outline","camera-rear","camera-rear-variant","camera-retake","camera-retake-outline","camera-switch","camera-switch-outline","camera-timer","camera-wireless","camera-wireless-outline","campfire","cancel","candle","candycane","cannabis","caps-lock","car","car-2-plus","car-3-plus","car-arrow-left","car-arrow-right","car-back","car-battery","car-brake-abs","car-brake-alert","car-brake-hold","car-brake-parking","car-brake-retarder","car-child-seat","car-clutch","car-cog","car-connected","car-convertible","car-coolant-level","car-cruise-control","car-defrost-front","car-defrost-rear","car-door","car-door-lock","car-electric","car-esp","car-estate","car-hatchback","car-info","car-key","car-light-dimmed","car-light-fog","car-light-high","car-limousine","car-multiple","car-off","car-parking-lights","car-pickup","car-seat","car-seat-cooler","car-seat-heater","car-settings","car-shift-pattern","car-side","car-sports","car-tire-alert","car-traction-control","car-turbocharger","car-wash","car-windshield","car-windshield-outline","carabiner","caravan","card","card-account-details","card-account-details-outline","card-account-details-star","card-account-details-star-outline","card-account-mail","card-account-mail-outline","card-account-phone","card-account-phone-outline","card-bulleted","card-bulleted-off","card-bulleted-off-outline","card-bulleted-outline","card-bulleted-settings","card-bulleted-settings-outline","card-outline","card-plus","card-plus-outline","card-search","card-search-outline","card-text","card-text-outline","cards","cards-club","cards-diamond","cards-diamond-outline","cards-heart","cards-outline","cards-playing-outline","cards-spade","cards-variant","carrot","cart","cart-arrow-down","cart-arrow-right","cart-arrow-up","cart-minus","cart-off","cart-outline","cart-plus","cart-remove","case-sensitive-alt","cash","cash-100","cash-marker","cash-minus","cash-multiple","cash-plus","cash-refund","cash-register","cash-remove","cash-usd","cash-usd-outline","cassette","cast","cast-audio","cast-connected","cast-education","cast-off","castle","cat","cctv","ceiling-light","cellphone","cellphone-android","cellphone-arrow-down","cellphone-basic","cellphone-charging","cellphone-cog","cellphone-dock","cellphone-erase","cellphone-information","cellphone-iphone","cellphone-key","cellphone-link","cellphone-link-off","cellphone-lock","cellphone-message","cellphone-message-off","cellphone-nfc","cellphone-nfc-off","cellphone-off","cellphone-play","cellphone-screenshot","cellphone-settings","cellphone-sound","cellphone-text","cellphone-wireless","celtic-cross","centos","certificate","certificate-outline","chair-rolling","chair-school","charity","chart-arc","chart-areaspline","chart-areaspline-variant","chart-bar","chart-bar-stacked","chart-bell-curve","chart-bell-curve-cumulative","chart-bubble","chart-donut","chart-donut-variant","chart-gantt","chart-histogram","chart-line","chart-line-stacked","chart-line-variant","chart-multiline","chart-multiple","chart-pie","chart-ppf","chart-sankey","chart-sankey-variant","chart-scatter-plot","chart-scatter-plot-hexbin","chart-timeline","chart-timeline-variant","chart-tree","chat","chat-alert","chat-alert-outline","chat-minus","chat-minus-outline","chat-outline","chat-plus","chat-plus-outline","chat-processing","chat-processing-outline","chat-remove","chat-remove-outline","chat-sleep","chat-sleep-outline","check","check-all","check-bold","check-box-multiple-outline","check-box-outline","check-circle","check-circle-outline","check-decagram","check-network","check-network-outline","check-outline","check-underline","check-underline-circle","check-underline-circle-outline","checkbook","checkbox-blank","checkbox-blank-circle","checkbox-blank-circle-outline","checkbox-blank-off","checkbox-blank-off-outline","checkbox-blank-outline","checkbox-intermediate","checkbox-marked","checkbox-marked-circle","checkbox-marked-circle-outline","checkbox-marked-outline","checkbox-multiple-blank","checkbox-multiple-blank-circle","checkbox-multiple-blank-circle-outline","checkbox-multiple-blank-outline","checkbox-multiple-marked","checkbox-multiple-marked-circle","checkbox-multiple-marked-circle-outline","checkbox-multiple-marked-outline","checkerboard","checkerboard-minus","checkerboard-plus","checkerboard-remove","cheese","cheese-off","chef-hat","chemical-weapon","chess-bishop","chess-king","chess-knight","chess-pawn","chess-queen","chess-rook","chevron-double-down","chevron-double-left","chevron-double-right","chevron-double-up","chevron-down","chevron-down-box","chevron-down-box-outline","chevron-down-circle","chevron-down-circle-outline","chevron-left","chevron-left-box","chevron-left-box-outline","chevron-left-circle","chevron-left-circle-outline","chevron-right","chevron-right-box","chevron-right-box-outline","chevron-right-circle","chevron-right-circle-outline","chevron-triple-down","chevron-triple-left","chevron-triple-right","chevron-triple-up","chevron-up","chevron-up-box","chevron-up-box-outline","chevron-up-circle","chevron-up-circle-outline","chili-hot","chili-medium","chili-mild","chili-off","chip","christianity","christianity-outline","church","cigar","cigar-off","circle","circle-double","circle-edit-outline","circle-expand","circle-half","circle-half-full","circle-medium","circle-multiple","circle-multiple-outline","circle-off-outline","circle-outline","circle-slice-1","circle-slice-2","circle-slice-3","circle-slice-4","circle-slice-5","circle-slice-6","circle-slice-7","circle-slice-8","circle-small","circular-saw","city","city-variant","city-variant-outline","clipboard","clipboard-account","clipboard-account-outline","clipboard-alert","clipboard-alert-outline","clipboard-arrow-down","clipboard-arrow-down-outline","clipboard-arrow-left","clipboard-arrow-left-outline","clipboard-arrow-right","clipboard-arrow-right-outline","clipboard-arrow-up","clipboard-arrow-up-outline","clipboard-check","clipboard-check-multiple","clipboard-check-multiple-outline","clipboard-check-outline","clipboard-file","clipboard-file-outline","clipboard-flow","clipboard-flow-outline","clipboard-list","clipboard-list-outline","clipboard-multiple","clipboard-multiple-outline","clipboard-outline","clipboard-play","clipboard-play-multiple","clipboard-play-multiple-outline","clipboard-play-outline","clipboard-plus","clipboard-plus-outline","clipboard-pulse","clipboard-pulse-outline","clipboard-text","clipboard-text-multiple","clipboard-text-multiple-outline","clipboard-text-outline","clipboard-text-play","clipboard-text-play-outline","clippy","clock","clock-alert","clock-alert-outline","clock-check","clock-check-outline","clock-digital","clock-end","clock-fast","clock-in","clock-out","clock-outline","clock-start","clock-time-eight","clock-time-eight-outline","clock-time-eleven","clock-time-eleven-outline","clock-time-five","clock-time-five-outline","clock-time-four","clock-time-four-outline","clock-time-nine","clock-time-nine-outline","clock-time-one","clock-time-one-outline","clock-time-seven","clock-time-seven-outline","clock-time-six","clock-time-six-outline","clock-time-ten","clock-time-ten-outline","clock-time-three","clock-time-three-outline","clock-time-twelve","clock-time-twelve-outline","clock-time-two","clock-time-two-outline","close","close-box","close-box-multiple","close-box-multiple-outline","close-box-outline","close-circle","close-circle-multiple","close-circle-multiple-outline","close-circle-outline","close-network","close-network-outline","close-octagon","close-octagon-outline","close-outline","close-thick","closed-caption","closed-caption-outline","cloud","cloud-alert","cloud-braces","cloud-check","cloud-check-outline","cloud-circle","cloud-download","cloud-download-outline","cloud-lock","cloud-lock-outline","cloud-off-outline","cloud-outline","cloud-print","cloud-print-outline","cloud-question","cloud-refresh","cloud-search","cloud-search-outline","cloud-sync","cloud-sync-outline","cloud-tags","cloud-upload","cloud-upload-outline","clover","coach-lamp","coat-rack","code-array","code-braces","code-braces-box","code-brackets","code-equal","code-greater-than","code-greater-than-or-equal","code-json","code-less-than","code-less-than-or-equal","code-not-equal","code-not-equal-variant","code-parentheses","code-parentheses-box","code-string","code-tags","code-tags-check","codepen","coffee","coffee-maker","coffee-off","coffee-off-outline","coffee-outline","coffee-to-go","coffee-to-go-outline","coffin","cog","cog-box","cog-clockwise","cog-counterclockwise","cog-off","cog-off-outline","cog-outline","cog-refresh","cog-refresh-outline","cog-sync","cog-sync-outline","cog-transfer","cog-transfer-outline","cogs","collage","collapse-all","collapse-all-outline","color-helper","comma","comma-box","comma-box-outline","comma-circle","comma-circle-outline","comment","comment-account","comment-account-outline","comment-alert","comment-alert-outline","comment-arrow-left","comment-arrow-left-outline","comment-arrow-right","comment-arrow-right-outline","comment-check","comment-check-outline","comment-edit","comment-edit-outline","comment-eye","comment-eye-outline","comment-multiple","comment-multiple-outline","comment-outline","comment-plus","comment-plus-outline","comment-processing","comment-processing-outline","comment-question","comment-question-outline","comment-quote","comment-quote-outline","comment-remove","comment-remove-outline","comment-search","comment-search-outline","comment-text","comment-text-multiple","comment-text-multiple-outline","comment-text-outline","compare","compare-horizontal","compare-vertical","compass","compass-off","compass-off-outline","compass-outline","compass-rose","concourse-ci","console","console-line","console-network","console-network-outline","consolidate","contactless-payment","contactless-payment-circle","contactless-payment-circle-outline","contacts","contacts-outline","contain","contain-end","contain-start","content-copy","content-cut","content-duplicate","content-paste","content-save","content-save-alert","content-save-alert-outline","content-save-all","content-save-all-outline","content-save-cog","content-save-cog-outline","content-save-edit","content-save-edit-outline","content-save-move","content-save-move-outline","content-save-outline","content-save-settings","content-save-settings-outline","contrast","contrast-box","contrast-circle","controller-classic","controller-classic-outline","cookie","coolant-temperature","copyright","cordova","corn","corn-off","cosine-wave","counter","cow","cpu-32-bit","cpu-64-bit","crane","creation","creative-commons","credit-card","credit-card-check","credit-card-check-outline","credit-card-clock","credit-card-clock-outline","credit-card-marker","credit-card-marker-outline","credit-card-minus","credit-card-minus-outline","credit-card-multiple","credit-card-multiple-outline","credit-card-off","credit-card-off-outline","credit-card-outline","credit-card-plus","credit-card-plus-outline","credit-card-refund","credit-card-refund-outline","credit-card-remove","credit-card-remove-outline","credit-card-scan","credit-card-scan-outline","credit-card-settings","credit-card-settings-outline","credit-card-wireless","credit-card-wireless-off","credit-card-wireless-off-outline","credit-card-wireless-outline","cricket","crop","crop-free","crop-landscape","crop-portrait","crop-rotate","crop-square","crosshairs","crosshairs-gps","crosshairs-off","crosshairs-question","crown","crown-outline","cryengine","crystal-ball","cube","cube-off","cube-off-outline","cube-outline","cube-scan","cube-send","cube-unfolded","cup","cup-off","cup-off-outline","cup-outline","cup-water","cupboard","cupboard-outline","cupcake","curling","currency-bdt","currency-brl","currency-btc","currency-cny","currency-eth","currency-eur","currency-eur-off","currency-gbp","currency-ils","currency-inr","currency-jpy","currency-krw","currency-kzt","currency-ngn","currency-php","currency-rial","currency-rub","currency-sign","currency-try","currency-twd","currency-usd","currency-usd-circle","currency-usd-circle-outline","currency-usd-off","current-ac","current-dc","cursor-default","cursor-default-click","cursor-default-click-outline","cursor-default-gesture","cursor-default-gesture-outline","cursor-default-outline","cursor-move","cursor-pointer","cursor-text","database","database-check","database-edit","database-export","database-import","database-lock","database-marker","database-minus","database-plus","database-refresh","database-remove","database-search","database-settings","database-sync","death-star","death-star-variant","deathly-hallows","debian","debug-step-into","debug-step-out","debug-step-over","decagram","decagram-outline","decimal","decimal-comma","decimal-comma-decrease","decimal-comma-increase","decimal-decrease","decimal-increase","delete","delete-alert","delete-alert-outline","delete-circle","delete-circle-outline","delete-empty","delete-empty-outline","delete-forever","delete-forever-outline","delete-off","delete-off-outline","delete-outline","delete-restore","delete-sweep","delete-sweep-outline","delete-variant","delta","desk","desk-lamp","deskphone","desktop-classic","desktop-mac","desktop-mac-dashboard","desktop-tower","desktop-tower-monitor","details","dev-to","developer-board","deviantart","devices","diabetes","dialpad","diameter","diameter-outline","diameter-variant","diamond","diamond-outline","diamond-stone","dice-1","dice-1-outline","dice-2","dice-2-outline","dice-3","dice-3-outline","dice-4","dice-4-outline","dice-5","dice-5-outline","dice-6","dice-6-outline","dice-d10","dice-d10-outline","dice-d12","dice-d12-outline","dice-d20","dice-d20-outline","dice-d4","dice-d4-outline","dice-d6","dice-d6-outline","dice-d8","dice-d8-outline","dice-multiple","dice-multiple-outline","digital-ocean","dip-switch","directions","directions-fork","disc","disc-alert","disc-player","discord","dishwasher","dishwasher-alert","dishwasher-off","disqus","distribute-horizontal-center","distribute-horizontal-left","distribute-horizontal-right","distribute-vertical-bottom","distribute-vertical-center","distribute-vertical-top","diving-flippers","diving-helmet","diving-scuba","diving-scuba-flag","diving-scuba-tank","diving-scuba-tank-multiple","diving-snorkel","division","division-box","dlna","dna","dns","dns-outline","do-not-disturb","do-not-disturb-off","dock-bottom","dock-left","dock-right","dock-window","docker","doctor","dog","dog-service","dog-side","dolby","dolly","domain","domain-off","domain-plus","domain-remove","dome-light","domino-mask","donkey","door","door-closed","door-closed-lock","door-open","doorbell","doorbell-video","dot-net","dots-horizontal","dots-horizontal-circle","dots-horizontal-circle-outline","dots-vertical","dots-vertical-circle","dots-vertical-circle-outline","douban","download","download-box","download-box-outline","download-circle","download-circle-outline","download-lock","download-lock-outline","download-multiple","download-network","download-network-outline","download-off","download-off-outline","download-outline","drag","drag-horizontal","drag-horizontal-variant","drag-variant","drag-vertical","drag-vertical-variant","drama-masks","draw","drawing","drawing-box","dresser","dresser-outline","drone","dropbox","drupal","duck","dumbbell","dump-truck","ear-hearing","ear-hearing-off","earth","earth-arrow-right","earth-box","earth-box-minus","earth-box-off","earth-box-plus","earth-box-remove","earth-minus","earth-off","earth-plus","earth-remove","egg","egg-easter","egg-off","egg-off-outline","egg-outline","eight-track","eject","eject-outline","electric-switch","electric-switch-closed","electron-framework","elephant","elevation-decline","elevation-rise","elevator","elevator-down","elevator-passenger","elevator-up","ellipse","ellipse-outline","email","email-alert","email-alert-outline","email-box","email-check","email-check-outline","email-edit","email-edit-outline","email-lock","email-mark-as-unread","email-minus","email-minus-outline","email-multiple","email-multiple-outline","email-newsletter","email-off","email-off-outline","email-open","email-open-multiple","email-open-multiple-outline","email-open-outline","email-outline","email-plus","email-plus-outline","email-receive","email-receive-outline","email-search","email-search-outline","email-send","email-send-outline","email-sync","email-sync-outline","email-variant","ember","emby","emoticon","emoticon-angry","emoticon-angry-outline","emoticon-confused","emoticon-confused-outline","emoticon-cool","emoticon-cool-outline","emoticon-cry","emoticon-cry-outline","emoticon-dead","emoticon-dead-outline","emoticon-devil","emoticon-devil-outline","emoticon-excited","emoticon-excited-outline","emoticon-frown","emoticon-frown-outline","emoticon-happy","emoticon-happy-outline","emoticon-kiss","emoticon-kiss-outline","emoticon-lol","emoticon-lol-outline","emoticon-neutral","emoticon-neutral-outline","emoticon-outline","emoticon-poop","emoticon-poop-outline","emoticon-sad","emoticon-sad-outline","emoticon-tongue","emoticon-tongue-outline","emoticon-wink","emoticon-wink-outline","engine","engine-off","engine-off-outline","engine-outline","epsilon","equal","equal-box","equalizer","equalizer-outline","eraser","eraser-variant","escalator","escalator-box","escalator-down","escalator-up","eslint","et","ethereum","ethernet","ethernet-cable","ethernet-cable-off","ev-station","evernote","excavator","exclamation","exclamation-thick","exit-run","exit-to-app","expand-all","expand-all-outline","expansion-card","expansion-card-variant","exponent","exponent-box","export","export-variant","eye","eye-check","eye-check-outline","eye-circle","eye-circle-outline","eye-minus","eye-minus-outline","eye-off","eye-off-outline","eye-outline","eye-plus","eye-plus-outline","eye-settings","eye-settings-outline","eyedropper","eyedropper-minus","eyedropper-off","eyedropper-plus","eyedropper-remove","eyedropper-variant"];return{asyncComponent:null,width:0,height:0,itemsInRow:0,iconSize:164,icons:t.map((function(t){return{data:t}})),search:""}},computed:{iconsFiltered:function(){var t=this;return this.icons.filter((function(e){var a=e.data;return-1!==a.toString().toLowerCase().indexOf(t.search.toString().toLowerCase())}))}},methods:{cellSizeAndPositionGetter:function(t,e){return{width:this.iconSize,height:this.iconSize,x:e%this.itemsInRow*this.iconSize,y:parseInt(e/this.itemsInRow)*this.iconSize}},calcDims:function(){window.innerWidth<=768?this.iconSize=131:this.iconSize=164,this.width=document.getElementById("icons-wrapper").clientWidth,this.height=document.getElementById("icons-wrapper").clientHeight,window.innerWidth<=768&&(this.height=document.getElementById("page-icons").clientHeight-30),this.itemsInRow=Math.floor((this.width-16)/this.iconSize),this.asyncComponent="VirtualCollection"},handleResize:_.throttle((function(t){this.asyncComponent=null,setTimeout(this.calcDims,1e3)}),500)},mounted:function(){this.calcDims()}}),zo=Io,To=(a("642b"),Object(x["a"])(zo,So,$o,!1,null,"7cc570fc",null)),Lo=To.exports,Uo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-contacts flex column",attrs:{id:"page-contacts"}},[a("resize-observer",{on:{notify:t.__resizeHanlder}}),a("div",{staticClass:"contacts-root box grow flex gaps justify-center",class:t.contactsClass},[a("div",{staticClass:"card-base card-shadow--small search-card scrollable only-y"},[a("h3",{staticClass:"mt-0"},[t._v("Хэрэглэгчид")]),a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"Хэрэглэгч хайх",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("div",{staticClass:"o-050 text-right mt-10 mb-30"},[t._v("Нийт "),a("strong",[t._v(t._s(t.contactsFiltered.length))]),t._v(" хэрэглэгч")]),1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("el-button",{attrs:{icon:"mdi mdi-account-plus"},on:{click:function(e){return t.$router.push("/new-contact")}}},[t._v(" Хэрэглэгч бүртгэх")]):t._e(),a("div",{staticClass:"p-20"},[a("p",[t._v("Хадгалсан хэрэглэгчид")]),a("ul",{staticClass:"contacts-favourites"},t._l(t.favorite,(function(e){return a("li",{key:e.id,on:{click:function(a){return t.openDialog(e)}}},[a("img",{attrs:{src:t.$appUrl+"/images/local/user/"+e.img,alt:"user favourite avatar"}}),a("span",[t._v(t._s(e.name))])])})),0)])],1),a("div",{staticClass:"contacts-list box grow scrollable only-y"},[a("el-tabs",{model:{value:t.activeTagName,callback:function(e){t.activeTagName=e},expression:"activeTagName"}},[a("el-tab-pane",{attrs:{label:"Админ",name:"admin"}},t._l(t.contactsFiltered,(function(e){return a("div",{key:e.id},[1==e.posID?a("div",{staticClass:"flex contact",on:{click:function(a){return t.openDialog(e)}}},[a("div",{staticClass:"avatar align-vertical ml-10"},[a("img",{staticClass:"align-vertical-middle",attrs:{src:t.$appUrl+"/images/local/user/"+e.img,alt:"user avatar"}})]),a("div",{staticClass:"info box grow flex"},[a("div",{staticClass:"name box grow flex column justify-center p-10"},[a("div",{staticClass:"fullname fs-18"},[a("strong",[t._v(t._s(e.name))])]),a("div",{staticClass:"phone fs-14 secondary-text"},[t._v(t._s(e.phone))]),a("div",{staticClass:"email fs-14 secondary-text"},[t._v(t._s(e.email))])]),a("div",{staticClass:"phone align-vertical p-10"},[a("span",{staticClass:"align-vertical-middle"},[t._v(t._s(e.phone))])]),1==t.LoggedUser.posID?a("div",{staticClass:"align-vertical p-10 mr-10"},[a("el-dropdown",[a("el-button",{attrs:{icon:"el-icon-s-tools",circle:""}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return t.changeBrand(e.id,e)}}},[t._v("Брэнд өөрчлөх")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.deleteUser(e.name,e.id)}}},[t._v("Устгах")])],1)],1)],1):t._e()])]):t._e()])})),0),a("el-tab-pane",{attrs:{label:"Санхүү",name:"Accountant"}},t._l(t.contactsFiltered,(function(e){return a("div",{key:e.id},[2==e.posID?a("div",{staticClass:"flex contact",on:{click:function(a){return t.openDialog(e)}}},[a("div",{staticClass:"avatar align-vertical"},[a("img",{staticClass:"align-vertical-middle",attrs:{src:t.$appUrl+"/images/local/user/"+e.img,alt:"user avatar"}})]),a("div",{staticClass:"info box grow flex"},[a("div",{staticClass:"name box grow flex column justify-center p-10"},[a("div",{staticClass:"fullname fs-18"},[a("strong",[t._v(t._s(e.name))])]),a("div",{staticClass:"phone fs-14 secondary-text"},[t._v(t._s(e.phone))]),a("div",{staticClass:"email fs-14 secondary-text"},[t._v(t._s(e.email))])]),a("div",{staticClass:"phone align-vertical p-10"},[a("span",{staticClass:"align-vertical-middle"},[t._v(t._s(e.phone))])]),1==t.LoggedUser.posID?a("div",{staticClass:"align-vertical p-10 mr-10"},[a("el-dropdown",[a("el-button",{attrs:{icon:"el-icon-s-tools",circle:""}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return t.changeBrand(e.id,e)}}},[t._v("Брэнд өөрлчөх")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.deleteUser(e.name,e.id)}}},[t._v("Устгах")])],1)],1)],1):t._e()])]):t._e()])})),0),a("el-tab-pane",{attrs:{label:"Менежер",name:"sales"}},t._l(t.contactsFiltered,(function(e){return a("div",{key:e.id},[4==e.posID?a("div",{staticClass:"flex contact",on:{click:function(a){return t.openDialog(e)}}},[a("div",{staticClass:"avatar align-vertical"},[a("img",{staticClass:"align-vertical-middle",attrs:{src:t.$appUrl+"/images/local/user/"+e.img,alt:"user avatar"}})]),a("div",{staticClass:"info box grow flex"},[a("div",{staticClass:"name box grow flex column justify-center p-10"},[a("div",{staticClass:"fullname fs-18"},[a("strong",[t._v(t._s(e.name))])]),a("div",{staticClass:"phone fs-14 secondary-text"},[t._v(t._s(e.phone))]),a("div",{staticClass:"email fs-14 secondary-text"},[t._v(t._s(e.email))])]),a("div",{staticClass:"phone align-vertical p-10"},[a("span",{staticClass:"align-vertical-middle"},[t._v(t._s(e.phone))])]),1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("div",{staticClass:"align-vertical p-10 mr-10"},[a("el-dropdown",[a("el-button",{attrs:{icon:"el-icon-s-tools",circle:""}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return t.changeBrand(e.id,e)}}},[t._v("Брэнд өөрлчөх")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.deleteUser(e.name,e.id)}}},[t._v("Устгах")])],1)],1)],1):t._e()])]):t._e()])})),0),a("el-tab-pane",{attrs:{label:"Худалдааны зөвлөх",name:"advisor"}},t._l(t.contactsFiltered,(function(e){return a("div",{key:e.id},[3==e.posID?a("div",{staticClass:"flex contact",on:{click:function(a){return t.openDialog(e)}}},[a("div",{staticClass:"avatar align-vertical"},[a("img",{staticClass:"align-vertical-middle",attrs:{src:t.$appUrl+"/images/local/user/"+e.img,alt:"user avatar"}})]),a("div",{staticClass:"info box grow flex"},[a("div",{staticClass:"name box grow flex column justify-center p-10"},[a("div",{staticClass:"fullname fs-18"},[a("strong",[t._v(t._s(e.name))])]),a("div",{staticClass:"phone fs-14 secondary-text"},[t._v(t._s(e.phone))]),a("div",{staticClass:"email fs-14 secondary-text"},[t._v(t._s(e.email))])]),a("div",{staticClass:"phone align-vertical p-10"},[a("span",{staticClass:"align-vertical-middle"},[t._v(t._s(e.phone))])]),1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("div",{staticClass:"align-vertical p-10 mr-10"},[a("el-dropdown",[a("el-button",{attrs:{icon:"el-icon-s-tools",circle:""}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return t.changeBrand(e.id,e)}}},[t._v("Брэнд өөрлчөх")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.deleteUser(e.name,e.id)}}},[t._v("Устгах")])],1)],1)],1):t._e()])]):t._e()])})),0),a("el-tab-pane",{attrs:{label:"Гэрээт салбар",name:"gereet"}},t._l(t.contactsFiltered,(function(e){return a("div",{key:e.id},[5==e.posID?a("div",{staticClass:"flex contact",on:{click:function(a){return t.openDialog(e)}}},[a("div",{staticClass:"avatar align-vertical"},[a("img",{staticClass:"align-vertical-middle",attrs:{src:t.$appUrl+"/images/local/user/"+e.img,alt:"user avatar"}})]),a("div",{staticClass:"info box grow flex"},[a("div",{staticClass:"name box grow flex column justify-center p-10"},[a("div",{staticClass:"fullname fs-18"},[a("strong",[t._v(t._s(e.name))])]),a("div",{staticClass:"phone fs-14 secondary-text"},[t._v(t._s(e.phone))]),a("div",{staticClass:"email fs-14 secondary-text"},[t._v(t._s(e.email))])]),a("div",{staticClass:"phone align-vertical p-10"},[a("span",{staticClass:"align-vertical-middle"},[t._v(t._s(e.phone))])]),1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("div",{staticClass:"align-vertical p-10 mr-10"},[a("el-dropdown",[a("el-button",{attrs:{icon:"el-icon-s-tools",circle:""}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return t.changeBrand(e.id,e)}}},[t._v("Брэнд өөрлчөх")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.deleteUser(e.name,e.id)}}},[t._v("Устгах")])],1)],1)],1):t._e()])]):t._e()])})),0),3!=t.LoggedUser.posID?a("el-tab-pane",{attrs:{label:"Бөөний харилцагч",name:"boon"}},t._l(t.contactsFiltered,(function(e){return a("div",{key:e.id},[6==e.posID?a("div",{staticClass:"flex contact",on:{click:function(a){return t.openDialog(e)}}},[a("div",{staticClass:"avatar align-vertical"},[a("img",{staticClass:"align-vertical-middle",attrs:{src:t.$appUrl+"/images/local/user/"+e.img,alt:"user avatar"}})]),a("div",{staticClass:"info box grow flex"},[a("div",{staticClass:"name box grow flex column justify-center p-10"},[a("div",{staticClass:"fullname fs-18"},[a("strong",[t._v(t._s(e.name))])]),a("div",{staticClass:"phone fs-14 secondary-text"},[t._v(t._s(e.phone))]),a("div",{staticClass:"email fs-14 secondary-text"},[t._v(t._s(e.email))])]),a("div",{staticClass:"phone align-vertical p-10"},[a("span",{staticClass:"align-vertical-middle"},[t._v(t._s(e.phone))])]),1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("div",{staticClass:"align-vertical p-10 mr-10"},[a("el-dropdown",[a("el-button",{attrs:{icon:"el-icon-s-tools",circle:""}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return t.changeBrand(e.id,e)}}},[t._v("Брэнд өөрлчөх")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.deleteUser(e.name,e.id)}}},[t._v("Устгах")])],1)],1)],1):t._e()])]):t._e()])})),0):t._e()],1)],1)]),a("el-dialog",{attrs:{"show-close":!0,"custom-class":"user-dialog",visible:t.dialogvisible,width:"30%"},on:{"update:visible":function(e){t.dialogvisible=e}}},[a("div",{staticClass:"avatar-box"},[a("img",{attrs:{src:t.$appUrl+"/images/local/user/"+t.userdata.img,alt:"user avatar"}}),a("div",{staticClass:"star",on:{click:function(e){return t.addFavoriteUsers(t.userdata)}}},[t.checkFavorite(t.userdata.id)?a("i",{staticClass:"mdi mdi-star align-vertical-middle"}):t._e(),t.checkFavorite(t.userdata.id)?t._e():a("i",{staticClass:"mdi mdi-star-outline align-vertical-middle"})])]),a("div",{staticClass:"form-box"},[a("el-input",{attrs:{placeholder:"Нэр",disabled:""},model:{value:t.userdata.name,callback:function(e){t.$set(t.userdata,"name",e)},expression:"userdata.name"}}),a("el-input",{attrs:{placeholder:"ИМэйл",disabled:""},model:{value:t.userdata.email,callback:function(e){t.$set(t.userdata,"email",e)},expression:"userdata.email"}}),a("el-input",{attrs:{placeholder:"Утас",disabled:""},model:{value:t.userdata.phone,callback:function(e){t.$set(t.userdata,"phone",e)},expression:"userdata.phone"}}),1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Салбарын байршил"},model:{value:t.userdata.call_store,callback:function(e){t.$set(t.userdata,"call_store",e)},expression:"userdata.call_store"}},t._l(t.store,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.code}})})),1):t._e()],1),1==t.LoggedUser.posID||2==t.LoggedUser.posID||4==t.LoggedUser.posID?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.updateUserStore}},[t._v("Хадгалах")])],1):t._e()]),a("el-dialog",{attrs:{"show-close":!0,"custom-class":"user-dialog",visible:t.changeBrandsModal,width:"30%"},on:{"update:visible":function(e){t.changeBrandsModal=e}}},[a("el-checkbox",{attrs:{indeterminate:t.check.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.check.checkAll,callback:function(e){t.$set(t.check,"checkAll",e)},expression:"check.checkAll"}},[t._v("Check all")]),a("div",{staticStyle:{margin:"15px 0"}}),a("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.check.checkedBrand,callback:function(e){t.$set(t.check,"checkedBrand",e)},expression:"check.checkedBrand"}},t._l(t.brands,(function(e,i){return a("div",{key:i},[a("el-checkbox",{attrs:{label:e.id}},[t._v(t._s(e.brandname))])],1)})),0),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.changeBrandsModal=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.updateUserBrand}},[t._v("Хадгалах")])],1)],1)],1)},Bo=[],Eo=(a("6301"),{name:"Contacts",data:function(){return{brands:[],search:"",dialogvisible:!1,changeBrandsModal:!1,pageWidth:0,userdata:{},contacts:[],favorite:[],LoggedUser:[],store:[],selectedStore:"",activeTagName:"admin",check:{checkAll:!1,checkedBrand:[],isIndeterminate:!0},selectedUser:[]}},computed:{contactsFiltered:function(){var t=this;return this.contacts.filter((function(e){var a=e.name,i=e.email,s=e.phone;return-1!==(a+i+s).toString().toLowerCase().indexOf(t.search.toString().toLowerCase())}))},contactsClass:function(){return this.pageWidth>=870?"large":this.pageWidth>=760?"medium":"small"},contactsFavourite:function(){return this.contacts.filter((function(t){var e=t.starred;return e}))}},methods:{updateUserBrand:function(){var t=this,e=localStorage.getItem("token");e&&(this.check.checkedBrand.length>0?this.$axios({method:"post",url:t.$appUrl+"/api/user/update-user-brand",headers:{Authorization:"Bearer ".concat(e)},data:{user:this.selectedUser,role:this.LoggedUser.posID,brands:this.check.checkedBrand,allchecked:this.check.checkAll}}).then((function(e){"success"==e.data.result&&t.$notify({title:"Амжилттай",message:"Шинэчлэгдлээ",type:"success"})})).catch((function(t){console.log(t)})):this.$notify({title:"Амжилтгүй",message:"Хамгийн багадаа нэг брэнд сонгосон байх ёстой",type:"error"}))},changeBrand:function(t,e){var a=this;if(this.selectedUser=e,"all"==e.allow_brand)this.brands.forEach((function(t){a.check.checkedBrand.push(t.id)}));else{var i=e.allow_brand.split(",");i.forEach((function(t){a.check.checkedBrand.push(Number(t))}))}this.changeBrandsModal=!0},handleCheckAllChange:function(t){var e=this;this.check.checkAll=t,t?(this.check.checkedBrand=[],this.brands.forEach((function(t){e.check.checkedBrand.push(t.id)})),this.check.isIndeterminate=!0,this.selectedUser.allow_brand="all"):(this.check.checkedBrand=[],this.check.isIndeterminate=!1,this.selectedUser.allow_brand="")},handleCheckedCitiesChange:function(t){var e=this,a=t.length;a===this.brands.length?(this.check.checkAll=!0,this.check.checkedBrand=[],this.check.checkedBrand=t):(this.check.checkAll=!1,t.forEach((function(t){e.check.checkedBrand.includes(t)||e.check.checkedBrand.push(t)})))},deleteUser:function(t,e){var a=this;this.$confirm("<strong>".concat(t,"</strong> хэрэглэгчийг устгах уу?"),"Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Үгүй",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){var t=a,i=localStorage.getItem("token");i&&a.$axios({method:"post",url:t.$appUrl+"/api/user/delete-user",headers:{Authorization:"Bearer ".concat(i)},data:{id:e,role:a.LoggedUser.posID}}).then((function(a){"success"==a.data.result&&(t.contacts.forEach((function(a,i){a.id==e&&t.contacts.splice(i,1)})),t.$notify({title:"Амжилттай",message:"Хэрэглэгч устгагдлаа",type:"success"}))})).catch((function(t){console.log(t)}))}))},checkFavorite:function(t){var e=this.favorite.some((function(e){return e.id==t}));return e},getFavoriteUsers:function(){var t=JSON.parse(localStorage.getItem("favoriteUsers"));null!=t&&t.length>0&&(this.favorite=t)},addFavoriteUsers:function(t){var e=this,a=JSON.parse(localStorage.getItem("favoriteUsers"));if(null!=a&&a.length>0){var i=this.favorite.some((function(e){return e.id==t.id}));i?(this.favorite.forEach((function(a,i){a.id==t.id&&e.favorite.splice(i,1)})),localStorage.favoriteUsers=JSON.stringify(this.favorite)):(this.favorite.push(t),localStorage.favoriteUsers=JSON.stringify(this.favorite))}else this.favorite.push(t),localStorage.favoriteUsers=JSON.stringify(this.favorite)},updateUserStore:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/user/update-user-store",headers:{Authorization:"Bearer ".concat(e)},data:{user:this.userdata}}).then((function(e){"success"==e.data.result&&(t.contacts.forEach((function(e,a){e.id==t.userdata.id&&(t.contacts[a].call_store=t.userdata.call_store)})),t.$notify({title:"Амжилттай",message:"Амжилттай шинэчлэгдлээ",type:"success"}))})).catch((function(t){console.log(t)}))},getUsers:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/user/get-all-users",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){"success"==e.data.result&&(t.contacts=e.data.users,t.store=e.data.store,t.brands=e.data.brands)})).catch((function(t){console.log(t)}))},openDialog:function(t){this.userdata=t,this.dialogvisible=!0},setPageWidth:function(){this.pageWidth=document.getElementById("page-contacts").offsetWidth},__resizeHanlder:_.throttle((function(t){this.setPageWidth()}),700)},mounted:function(){this.LoggedUser=JSON.parse(localStorage.user),this.getUsers(),this.getFavoriteUsers(),this.setPageWidth()}}),Do=Eo,Oo=(a("5c42"),Object(x["a"])(Do,Uo,Bo,!1,null,"63725ea8",null)),Po=Oo.exports,jo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Салбарын жагсаалт")])],1)],1)])]),a("div",{staticClass:"page-ecommerce-dashboard scrollable",style:{"max-height":"97%"}},[a("div",{staticClass:"table-box card-base card-outline",style:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover",staticStyle:{"font-size":"16px"}},[t._m(0),a("tbody",t._l(t.shops.list,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"}},[a("td",{attrs:{width:"15%"}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.name))])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.start)+" - "+t._s(e.end))])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.second_part))])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.weekend))])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.rest))])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(Number(e.sale_plan).toLocaleString()))])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(Number(e.sale_plan_day).toLocaleString()))])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-s-tools"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-info"},nativeOn:{click:function(a){return t.getCurrentShop(e)}}},[t._v(" Тохиргоо")]),a("el-dropdown-item",{attrs:{icon:"el-icon-delete-solid",divided:""},nativeOn:{click:function(a){return t.deleteShop(e)}}},[t._v(" Устгах")])],1)],1)],1)])])})),0)])])]),a("el-dialog",{attrs:{title:"Засварлах",visible:t.modals.editItem,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"editItem",e)}}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-time-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Эхлэх цаг","picker-options":{start:"00:00",step:"00:05",end:"23:59"}},model:{value:t.shops.selected.start,callback:function(e){t.$set(t.shops.selected,"start",e)},expression:"shops.selected.start"}})],1),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-time-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Эхлэх цаг","picker-options":{start:"00:00",step:"00:05",end:"23:59"}},model:{value:t.shops.selected.end,callback:function(e){t.$set(t.shops.selected,"end",e)},expression:"shops.selected.end"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{attrs:{placeholder:"Өдрийн ээлж",clearable:""},model:{value:t.shops.selected.second_part,callback:function(e){t.$set(t.shops.selected,"second_part",e)},expression:"shops.selected.second_part"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-time-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Амралтын өдрийн ажлын цаг","picker-options":{start:"00:00",step:"00:05",end:"23:59"}},model:{value:t.shops.selected.weekend,callback:function(e){t.$set(t.shops.selected,"weekend",e)},expression:"shops.selected.weekend"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Амралтын өдөр"},model:{value:t.shops.selected.rest,callback:function(e){t.$set(t.shops.selected,"rest",e)},expression:"shops.selected.rest"}},t._l(t.days,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{attrs:{placeholder:"Өдрийн орлого",clearable:""},model:{value:t.shops.selected.sale_plan_day,callback:function(e){t.$set(t.shops.selected,"sale_plan_day",e)},expression:"shops.selected.sale_plan_day"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-input",{attrs:{placeholder:"Өдрийн орлого",clearable:""},model:{value:t.shops.selected.sale_plan,callback:function(e){t.$set(t.shops.selected,"sale_plan",e)},expression:"shops.selected.sale_plan"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.editItem=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveShop}},[t._v("Хадгалах")])],1)],1)],1)},No=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Shop name")]),a("th",[t._v("Worktime")]),a("th",[t._v("Second part")]),a("th",[t._v("Worktime (weekend)")]),a("th",[t._v("Restday")]),a("th",[t._v("Plan Monthly")]),a("th",[t._v("Plan Daily")]),a("th")])])}],Ro={data:function(){return{shops:{selected:[],list:[]},loading:!1,modals:{editItem:!1},days:[{label:"None",value:"none"},{label:"Monday",value:"Mon"},{label:"Tuesday",value:"Thu"},{label:"Wednesday",value:"Wed"},{label:"Thursday",value:"Thu"},{label:"Friday",value:"Fri"},{label:"Saturday",value:"Sat"},{label:"Sunday",value:"Sun"}]}},mounted:function(){this.getShops()},methods:{deleteShop:function(t){var e=this;this.$confirm("<strong>".concat(t.name,"</strong> тасгийг устгах уу?"),"Санамж",{confirmButtonText:"Тийм",dangerouslyUseHTMLString:!0,cancelButtonText:"Үгүй",type:"warning"}).then((function(){e.$message({type:"success",message:"Delete completed"})}))},saveShop:function(){if(null==this.shops.selected.start||null==this.shops.selected.end||""==this.shops.selected.second_part||null==this.shops.selected.weekend||""==this.shops.selected.sale_plan||""==this.shops.selected.sale_plan_day)this.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Талбараа бүрэн бөглөнө үү",type:"error"});else{this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/edit-shop",headers:{Authorization:"Bearer ".concat(e)},data:{shop:this.shops.selected}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.modals.editItem=!1,t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Мэдээлэл шинэчлэгдлээ",type:"success"}))})).catch((function(e){console.log(e),t.loading=!1}))}},getCurrentShop:function(t){this.shops.selected=t,this.modals.editItem=!0},getShops:function(){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/shops",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.shops.list=e.data.shops)})).catch((function(e){console.log(e),t.loading=!1}))}}},Ao=Ro,Mo=(a("fa8e"),Object(x["a"])(Ao,jo,No,!1,null,"a5124f06",null)),qo=Mo.exports,Fo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scrollable"},[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Үнэлгээ")])],1)],1)])]),a("div",{staticClass:"page-ecommerce-dashboard scrollable"},[a("div",{staticClass:"table-box card-base card-outline",style:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover",staticStyle:{"font-size":"16px"}},[t._m(0),a("tbody",t._l(t.shops.list,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"}},[a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.name))])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("strong",{staticStyle:{color:"#1989fa"}},[t._v(t._s(t.getShopReview(e.code))+"%")])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[t.getShopReview2(e.code).length>0?a("div",t._l(t.getShopReview2(e.code),(function(e,i){return a("el-progress",{key:i,staticClass:"ml-5",attrs:{"stroke-width":4,percentage:e,color:t.colors,width:30}})})),1):a("div",[t._v(" ҮНЭЛЭЭГҮЙ ")])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-s-tools"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-star-off"},nativeOn:{click:function(a){return t.setReview(e)}}},[t._v(" Үнэлгээ")])],1)],1)],1)])])})),0)])])]),a("div",{staticClass:"page-ecommerce-dashboard scrollable mt-20"},[a("div",{staticClass:"table-box card-base card-outline",style:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover",staticStyle:{"font-size":"16px"}},[t._m(1),a("tbody",t._l(t.buildUsers(),(function(e,i){return a("tr",{key:i,style:{cursor:"pointer"}},[a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.name))])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("strong",{staticStyle:{color:"#1989fa"}},[t._v(t._s(e.avg)+"%")])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Тасаг",placement:"top"}},[a("el-progress",{attrs:{"stroke-width":4,percentage:e.shop,color:t.colors,width:30}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Ажилтан",placement:"top"}},[a("el-progress",{attrs:{"stroke-width":4,percentage:e.rate,color:t.colors,width:30}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Борлуулалт",placement:"top"}},[a("el-progress",{attrs:{"stroke-width":4,percentage:e.sale,color:t.colors,width:30}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Хоцролт",placement:"top"}},[a("el-progress",{attrs:{"stroke-width":4,percentage:e.lost,color:t.colors,width:30}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Санал гомдол",placement:"top"}},[a("el-progress",{attrs:{"stroke-width":4,percentage:e.feedback,color:t.colors,width:30}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Тасаг орхилт",placement:"top"}},[a("el-progress",{attrs:{"stroke-width":4,percentage:e.response,color:t.colors,width:30}})],1)],1)])])})),0)])])]),a("el-dialog",{attrs:{title:"Засварлах",visible:t.modals.editItem,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"editItem",e)}}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-time-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Эхлэх цаг","picker-options":{start:"00:00",step:"00:05",end:"23:59"}},model:{value:t.shops.selected.start,callback:function(e){t.$set(t.shops.selected,"start",e)},expression:"shops.selected.start"}})],1),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-time-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Эхлэх цаг","picker-options":{start:"00:00",step:"00:05",end:"23:59"}},model:{value:t.shops.selected.end,callback:function(e){t.$set(t.shops.selected,"end",e)},expression:"shops.selected.end"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{attrs:{placeholder:"Өдрийн ээлж",clearable:""},model:{value:t.shops.selected.second_part,callback:function(e){t.$set(t.shops.selected,"second_part",e)},expression:"shops.selected.second_part"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-time-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Амралтын өдрийн ажлын цаг","picker-options":{start:"00:00",step:"00:05",end:"23:59"}},model:{value:t.shops.selected.weekend,callback:function(e){t.$set(t.shops.selected,"weekend",e)},expression:"shops.selected.weekend"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Амралтын өдөр"},model:{value:t.shops.selected.rest,callback:function(e){t.$set(t.shops.selected,"rest",e)},expression:"shops.selected.rest"}},t._l(t.days,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{staticClass:"mt-10",attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{attrs:{placeholder:"Өдрийн орлого",clearable:""},model:{value:t.shops.selected.sale_plan_day,callback:function(e){t.$set(t.shops.selected,"sale_plan_day",e)},expression:"shops.selected.sale_plan_day"}})],1),a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-input",{attrs:{placeholder:"Өдрийн орлого",clearable:""},model:{value:t.shops.selected.sale_plan,callback:function(e){t.$set(t.shops.selected,"sale_plan",e)},expression:"shops.selected.sale_plan"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.editItem=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveShop}},[t._v("Хадгалах")])],1)],1),a("el-dialog",{attrs:{title:t.review.title,visible:t.review.modal,width:"90%"},on:{"update:visible":function(e){return t.$set(t.review,"modal",e)}}},[a("el-row",{attrs:{gutter:10}},[a("el-select",{staticClass:"mb-20",staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Ажилтнаа сонгоно уу"},on:{change:t.changeEmployee},model:{value:t.selectedEmp.id,callback:function(e){t.$set(t.selectedEmp,"id",e)},expression:"selectedEmp.id"}},t._l(t.lose,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.user_id}})})),1),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",[a("span",[a("b",[t._v("Өдөр тутмын үйл ажиллагаа")])]),a("div",{staticStyle:{width:"100%",height:"1px",background:"#e3e3e3","margin-top":"10px","margin-bottom":"10px"}})])]),a("el-row",[a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("1. Борлуулалт")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}}),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{disabled:""},model:{value:t.selectedEmp.sale,callback:function(e){t.$set(t.selectedEmp,"sale",e)},expression:"selectedEmp.sale"}})],1),a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("2. Хоцролт")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}}),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{disabled:""},model:{value:t.selectedEmp.lose,callback:function(e){t.$set(t.selectedEmp,"lose",e)},expression:"selectedEmp.lose"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{attrs:{align:"right"}},[a("div",{staticStyle:{width:"100%",height:"1px",background:"#e3e3e3","margin-top":"10px","margin-bottom":"10px"}}),a("span",[a("b",[t._v(t._s(t.totalDynamicCalc)+"%")])])])]),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",[a("span",[a("b",[t._v("Ажилтанд тавигдах стандарт")])]),a("div",{staticStyle:{width:"100%",height:"1px",background:"#e3e3e3","margin-top":"10px","margin-bottom":"10px"}})])]),a("el-row",[a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("1. Хувцаслалт")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"check-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox.huwts,expression:"checkBox.huwts"}],attrs:{id:"huwts",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox.huwts)?t._i(t.checkBox.huwts,null)>-1:t.checkBox.huwts},on:{change:[function(e){var a=t.checkBox.huwts,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);i.checked?r<0&&t.$set(t.checkBox,"huwts",a.concat([o])):r>-1&&t.$set(t.checkBox,"huwts",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.checkBox,"huwts",s)},function(e){return t.employeeChecked("huwts")}]}}),a("span",{staticClass:"check"}),a("label",{attrs:{for:"huwts"}},[a("b",[t._v("-")])])])]),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{colors:t.colorRate},on:{change:function(e){return t.rateChanged("huwts")}},model:{value:t.review.employee.huwts,callback:function(e){t.$set(t.review.employee,"huwts",e)},expression:"review.employee.huwts"}})],1),a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("2. Харьцаа")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"check-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox.haritsaa,expression:"checkBox.haritsaa"}],attrs:{id:"haritsaa",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox.haritsaa)?t._i(t.checkBox.haritsaa,null)>-1:t.checkBox.haritsaa},on:{change:[function(e){var a=t.checkBox.haritsaa,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);i.checked?r<0&&t.$set(t.checkBox,"haritsaa",a.concat([o])):r>-1&&t.$set(t.checkBox,"haritsaa",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.checkBox,"haritsaa",s)},function(e){return t.employeeChecked("haritsaa")}]}}),a("span",{staticClass:"check"}),a("label",{attrs:{for:"haritsaa"}},[a("b",[t._v("-")])])])]),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{colors:t.colorRate},on:{change:function(e){return t.rateChanged("haritsaa")}},model:{value:t.review.employee.haritsaa,callback:function(e){t.$set(t.review.employee,"haritsaa",e)},expression:"review.employee.haritsaa"}})],1),a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("3. Програм ашиглалт")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"check-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox.program,expression:"checkBox.program"}],attrs:{id:"program",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox.program)?t._i(t.checkBox.program,null)>-1:t.checkBox.program},on:{change:[function(e){var a=t.checkBox.program,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);i.checked?r<0&&t.$set(t.checkBox,"program",a.concat([o])):r>-1&&t.$set(t.checkBox,"program",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.checkBox,"program",s)},function(e){return t.employeeChecked("program")}]}}),a("span",{staticClass:"check"}),a("label",{attrs:{for:"program"}},[a("b",[t._v("-")])])])]),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{colors:t.colorRate},on:{change:function(e){return t.rateChanged("program")}},model:{value:t.review.employee.program,callback:function(e){t.$set(t.review.employee,"program",e)},expression:"review.employee.program"}})],1),a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("4. Цэвэрлэгээ")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"check-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox.tsewerlegee,expression:"checkBox.tsewerlegee"}],attrs:{id:"tsewerlegee",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox.tsewerlegee)?t._i(t.checkBox.tsewerlegee,null)>-1:t.checkBox.tsewerlegee},on:{change:[function(e){var a=t.checkBox.tsewerlegee,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);i.checked?r<0&&t.$set(t.checkBox,"tsewerlegee",a.concat([o])):r>-1&&t.$set(t.checkBox,"tsewerlegee",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.checkBox,"tsewerlegee",s)},function(e){return t.employeeChecked("tsewerlegee")}]}}),a("span",{staticClass:"check"}),a("label",{attrs:{for:"tsewerlegee"}},[a("b",[t._v("-")])])])]),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{colors:t.colorRate},on:{change:function(e){return t.rateChanged("tsewerlegee")}},model:{value:t.review.employee.tsewerlegee,callback:function(e){t.$set(t.review.employee,"tsewerlegee",e)},expression:"review.employee.tsewerlegee"}})],1),a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("5. Барааны мэдлэг")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"check-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox.baraanii_medleg,expression:"checkBox.baraanii_medleg"}],attrs:{id:"baraanii_medleg",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox.baraanii_medleg)?t._i(t.checkBox.baraanii_medleg,null)>-1:t.checkBox.baraanii_medleg},on:{change:[function(e){var a=t.checkBox.baraanii_medleg,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);i.checked?r<0&&t.$set(t.checkBox,"baraanii_medleg",a.concat([o])):r>-1&&t.$set(t.checkBox,"baraanii_medleg",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.checkBox,"baraanii_medleg",s)},function(e){return t.employeeChecked("baraanii_medleg")}]}}),a("span",{staticClass:"check"}),a("label",{attrs:{for:"baraanii_medleg"}},[a("b",[t._v("-")])])])]),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{colors:t.colorRate},on:{change:function(e){return t.rateChanged("baraanii_medleg")}},model:{value:t.review.employee.baraanii_medleg,callback:function(e){t.$set(t.review.employee,"baraanii_medleg",e)},expression:"review.employee.baraanii_medleg"}})],1),a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("6. Буцаалт")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"check-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox.butsaalt,expression:"checkBox.butsaalt"}],attrs:{id:"butsaalt",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox.butsaalt)?t._i(t.checkBox.butsaalt,null)>-1:t.checkBox.butsaalt},on:{change:[function(e){var a=t.checkBox.butsaalt,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);i.checked?r<0&&t.$set(t.checkBox,"butsaalt",a.concat([o])):r>-1&&t.$set(t.checkBox,"butsaalt",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.checkBox,"butsaalt",s)},function(e){return t.employeeChecked("butsaalt")}]}}),a("span",{staticClass:"check"}),a("label",{attrs:{for:"butsaalt"}},[a("b",[t._v("-")])])])]),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{colors:t.colorRate},on:{change:function(e){return t.rateChanged("butsaalt")}},model:{value:t.review.employee.butsaalt,callback:function(e){t.$set(t.review.employee,"butsaalt",e)},expression:"review.employee.butsaalt"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{attrs:{align:"right"}},[a("div",{staticStyle:{width:"100%",height:"1px",background:"#e3e3e3","margin-top":"10px","margin-bottom":"10px"}}),a("span",[a("b",[t._v(t._s(t.totalEmployee)+"%")])])])]),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",[a("span",[a("b",[t._v("Дэлгүүрийн стандарт")])]),a("div",{staticStyle:{width:"100%",height:"1px",background:"#e3e3e3","margin-top":"10px","margin-bottom":"10px"}})])]),a("el-row",[a("el-col",{attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("1. Үнэ тавилт")])]),a("el-col",{staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"check-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox.une,expression:"checkBox.une"}],attrs:{id:"une",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox.une)?t._i(t.checkBox.une,null)>-1:t.checkBox.une},on:{change:[function(e){var a=t.checkBox.une,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);i.checked?r<0&&t.$set(t.checkBox,"une",a.concat([o])):r>-1&&t.$set(t.checkBox,"une",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.checkBox,"une",s)},function(e){return t.shopChecked("une")}]}}),a("span",{staticClass:"check"}),a("label",{attrs:{for:"une"}},[a("b",[t._v("-")])])])]),a("el-col",{attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{colors:t.colorRate},on:{change:function(e){return t.rateChanged("une")}},model:{value:t.review.shop.une,callback:function(e){t.$set(t.review.shop,"une",e)},expression:"review.shop.une"}})],1),a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("2. Өрөлт")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"check-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox.orolt,expression:"checkBox.orolt"}],attrs:{id:"orolt",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox.orolt)?t._i(t.checkBox.orolt,null)>-1:t.checkBox.orolt},on:{change:[function(e){var a=t.checkBox.orolt,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);i.checked?r<0&&t.$set(t.checkBox,"orolt",a.concat([o])):r>-1&&t.$set(t.checkBox,"orolt",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.checkBox,"orolt",s)},function(e){return t.shopChecked("orolt")}]}}),a("span",{staticClass:"check"}),a("label",{attrs:{for:"orolt"}},[a("b",[t._v("-")])])])]),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{colors:t.colorRate},on:{change:function(e){return t.rateChanged("orolt")}},model:{value:t.review.shop.orolt,callback:function(e){t.$set(t.review.shop,"orolt",e)},expression:"review.shop.orolt"}})],1),a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("3. Дэлгүүрийн БББ")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"check-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox.technical,expression:"checkBox.technical"}],attrs:{id:"technical",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox.technical)?t._i(t.checkBox.technical,null)>-1:t.checkBox.technical},on:{change:[function(e){var a=t.checkBox.technical,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);i.checked?r<0&&t.$set(t.checkBox,"technical",a.concat([o])):r>-1&&t.$set(t.checkBox,"technical",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.checkBox,"technical",s)},function(e){return t.shopChecked("technical")}]}}),a("span",{staticClass:"check"}),a("label",{attrs:{for:"technical"}},[a("b",[t._v("-")])])])]),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{colors:t.colorRate},on:{change:function(e){return t.rateChanged("technical")}},model:{value:t.review.shop.technical,callback:function(e){t.$set(t.review.shop,"technical",e)},expression:"review.shop.technical"}})],1),a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("4. Татан авалт")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"check-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox.tatan_avalt,expression:"checkBox.tatan_avalt"}],attrs:{id:"tatan_avalt",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox.tatan_avalt)?t._i(t.checkBox.tatan_avalt,null)>-1:t.checkBox.tatan_avalt},on:{change:[function(e){var a=t.checkBox.tatan_avalt,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);i.checked?r<0&&t.$set(t.checkBox,"tatan_avalt",a.concat([o])):r>-1&&t.$set(t.checkBox,"tatan_avalt",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.checkBox,"tatan_avalt",s)},function(e){return t.shopChecked("tatan_avalt")}]}}),a("span",{staticClass:"check"}),a("label",{attrs:{for:"tatan_avalt"}},[a("b",[t._v("-")])])])]),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{colors:t.colorRate},on:{change:function(e){return t.rateChanged("tatan_avalt")}},model:{value:t.review.shop.tatan_avalt,callback:function(e){t.$set(t.review.shop,"tatan_avalt",e)},expression:"review.shop.tatan_avalt"}})],1),a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("5. Баримт цэгцлэлт")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"check-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox.barimt,expression:"checkBox.barimt"}],attrs:{id:"barimt",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox.barimt)?t._i(t.checkBox.barimt,null)>-1:t.checkBox.barimt},on:{change:[function(e){var a=t.checkBox.barimt,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);i.checked?r<0&&t.$set(t.checkBox,"barimt",a.concat([o])):r>-1&&t.$set(t.checkBox,"barimt",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.checkBox,"barimt",s)},function(e){return t.shopChecked("barimt")}]}}),a("span",{staticClass:"check"}),a("label",{attrs:{for:"barimt"}},[a("b",[t._v("-")])])])]),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{colors:t.colorRate},on:{change:function(e){return t.rateChanged("barimt")}},model:{value:t.review.shop.barimt,callback:function(e){t.$set(t.review.shop,"barimt",e)},expression:"review.shop.barimt"}})],1),a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("6. Барааны үзэмж")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"check-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox.uzemj,expression:"checkBox.uzemj"}],attrs:{id:"uzemj",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox.uzemj)?t._i(t.checkBox.uzemj,null)>-1:t.checkBox.uzemj},on:{change:[function(e){var a=t.checkBox.uzemj,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);i.checked?r<0&&t.$set(t.checkBox,"uzemj",a.concat([o])):r>-1&&t.$set(t.checkBox,"uzemj",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.checkBox,"uzemj",s)},function(e){return t.shopChecked("uzemj")}]}}),a("span",{staticClass:"check"}),a("label",{attrs:{for:"uzemj"}},[a("b",[t._v("-")])])])]),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{colors:t.colorRate},on:{change:function(e){return t.rateChanged("uzemj")}},model:{value:t.review.shop.uzemj,callback:function(e){t.$set(t.review.shop,"uzemj",e)},expression:"review.shop.uzemj"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{attrs:{align:"right"}},[a("div",{staticStyle:{width:"100%",height:"1px",background:"#e3e3e3","margin-top":"10px","margin-bottom":"10px"}}),a("span",[a("b",[t._v(t._s(t.totalShop)+"%")])])])]),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",[a("span",[a("b",[t._v("Санал гомдол")])]),a("div",{staticStyle:{width:"100%",height:"1px",background:"#e3e3e3","margin-top":"10px","margin-bottom":"10px"}})])]),a("el-row",[a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("1. Тасаг орхилт")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"check-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox.tasag_orhih,expression:"checkBox.tasag_orhih"}],attrs:{id:"tasag_orhih",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox.tasag_orhih)?t._i(t.checkBox.tasag_orhih,null)>-1:t.checkBox.tasag_orhih},on:{change:[function(e){var a=t.checkBox.tasag_orhih,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);i.checked?r<0&&t.$set(t.checkBox,"tasag_orhih",a.concat([o])):r>-1&&t.$set(t.checkBox,"tasag_orhih",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.checkBox,"tasag_orhih",s)},function(e){return t.checkChanged("tasag_orhih")}]}}),a("span",{staticClass:"check"}),a("label",{attrs:{for:"tasag_orhih"}},[a("b",[t._v("-")])])])]),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{colors:t.colorRate,max:t.limitResponse},on:{change:function(e){return t.rateChanged("tasag_orhih")}},model:{value:t.review.feedback.tasag_orhih,callback:function(e){t.$set(t.review.feedback,"tasag_orhih",e)},expression:"review.feedback.tasag_orhih"}})],1),a("el-col",{staticClass:"mt-5",attrs:{xs:7,sm:7,md:7,lg:7,xl:7}},[a("span",{staticClass:"cut-text"},[t._v("2. Санал гомдол")])]),a("el-col",{staticClass:"mt-5",staticStyle:{"padding-left":"15%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"check-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkBox.feedback,expression:"checkBox.feedback"}],attrs:{id:"feedback",type:"checkbox"},domProps:{checked:Array.isArray(t.checkBox.feedback)?t._i(t.checkBox.feedback,null)>-1:t.checkBox.feedback},on:{change:[function(e){var a=t.checkBox.feedback,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,r=t._i(a,o);i.checked?r<0&&t.$set(t.checkBox,"feedback",a.concat([o])):r>-1&&t.$set(t.checkBox,"feedback",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.checkBox,"feedback",s)},function(e){return t.checkChanged("feedback")}]}}),a("span",{staticClass:"check"}),a("label",{attrs:{for:"feedback"}},[a("b",[t._v("-")])])])]),a("el-col",{staticClass:"mt-5",attrs:{xs:11,sm:11,md:11,lg:11,xl:11}},[a("el-rate",{attrs:{colors:t.colorRate,max:t.limitFeedback},on:{change:function(e){return t.rateChanged("feedback")}},model:{value:t.review.feedback.feedback,callback:function(e){t.$set(t.review.feedback,"feedback",e)},expression:"review.feedback.feedback"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{attrs:{align:"right"}},[a("div",{staticStyle:{width:"100%",height:"1px",background:"#e3e3e3","margin-top":"10px","margin-bottom":"10px"}}),a("span",[a("b",[t._v(t._s(t.feedbackCalculate)+"%")])])])])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.review.modal=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveShopReview}},[t._v("Хадгалах")])],1)],1)],1)},Ho=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ТАСАГ")]),a("th",[t._v("ДУНДАЖ")]),a("th",[t._v("ҮНЭЛСЭН")]),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("АЖИЛТАН")]),a("th",[t._v("ДУНДАЖ")]),a("th",[t._v("ҮНЭЛГЭЭ")]),a("th")])])}],Wo={data:function(){return{iconClasses:["icon-rate-face-1","icon-rate-face-2","icon-rate-face-3"],limitFeedback:5,limitResponse:5,checkBox:{checked:[],une:!1,orolt:!1,technical:!1,tatan_avalt:!1,barimt:!1,uzemj:!1,tasag_orhih:!1,feedback:!1,huwts:!1,haritsaa:!1,program:!1,tsewerlegee:!1,baraanii_medleg:!1,butsaalt:!1},review:{modal:!1,title:"",shop:{une:0,orolt:0,technical:0,tatan_avalt:0,barimt:0,uzemj:0},employee:{huwts:0,haritsaa:0,program:0,tsewerlegee:0,baraanii_medleg:0,butsaalt:0},feedback:{feedback:0,tasag_orhih:0}},shops:{selected:[],list:[]},loading:!1,sale:[],lose:[],shopReviews:[],userReviews:[],modals:{editItem:!1},days:[{label:"None",value:"none"},{label:"Monday",value:"Mon"},{label:"Tuesday",value:"Thu"},{label:"Wednesday",value:"Wed"},{label:"Thursday",value:"Thu"},{label:"Friday",value:"Fri"},{label:"Saturday",value:"Sat"},{label:"Sunday",value:"Sun"}],colors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}],colorRate:["#99A9BF","#F7BA2A","#FF9900"],selectedEmp:{id:"",sale:0,lose:0,losePercent:0,salePercent:0}}},mounted:function(){this.getShops()},computed:{totalShop:function(){var t=this.review.shop;return parseInt((t.une+t.orolt+t.technical+t.tatan_avalt+t.barimt+t.uzemj)/6*20)},totalEmployee:function(){var t=this.review.employee;return parseInt((t.huwts+t.haritsaa+t.program+t.tsewerlegee+t.baraanii_medleg+t.butsaalt)/6*20)},feedbackCalculate:function(){var t=2,e=1.2;t=this.review.feedback.tasag_orhih*t,e=this.review.feedback.feedback*e;var a=t+e;return parseInt(a/16*100)},totalDynamicCalc:function(){var t=40*this.selectedEmp.salePercent/100,e=5*this.selectedEmp.losePercent/100,a=100*(e+t)/45;return parseInt(a)}},methods:{buildUsers:function(){var t=this,e=[];function a(t,e){return t.avg>e.avg?-1:t.avg<e.avg?1:0}return this.lose.forEach((function(a){var i=0,s=0,o=0;if(0==a.losttime)i=100;else if(a.losttime>=60)i=0;else{var r=100*a.losttime/60;i=parseInt(100-r)}t.userReviews.forEach((function(t){t.userId==a.user_id&&(s=t.percent)})),t.sale.forEach((function(t){t.user_id==a.user_id&&(o=t.percent>100?100:t.percent)}));var n=40*o/100,l=5*i/100,c=18*s/100,d=6*a.feedback/100,u=10*a.response/100,p=15*t.getShopReview(a.call_store)/100;e.push({name:a.name,image:a.img,userId:a.user_id,avg:(n+l+c+d+u+p+6).toFixed(1),lost:i,rate:s,sale:o,feedback:a.feedback,response:a.response,shop:t.getShopReview(a.call_store)})})),e=e.sort(a),e},changeEmployee:function(t){var e=this,a=0;if(this.lose.forEach((function(i){i.user_id==t&&(a=i.losttime,e.limitFeedback=parseInt(i.feedback/20),e.review.feedback.feedback=parseInt(i.feedback/20),e.limitResponse=parseInt(i.response/20),e.review.feedback.tasag_orhih=parseInt(i.response/20))})),0==a)this.selectedEmp.lose=5;else if(a>=60)this.selectedEmp.lose=0;else{var i=100*a/60;i=100-i,this.selectedEmp.losePercent=i,i=5*i/100,this.selectedEmp.lose=i}a=0,this.sale.forEach((function(e){e.user_id==t&&(a=e.percent)})),a>100&&(a=100),this.selectedEmp.salePercent=a,this.selectedEmp.sale=5*a/100},getShopReview:function(t){var e=0,a=0;return this.shopReviews.forEach((function(i){i.storeId==t&&(e+=i.total_shop,a++)})),a>0?parseInt(e/a):0},getShopReview2:function(t){var e=[];return this.shopReviews.forEach((function(a){a.storeId==t&&e.push(a.total_shop)})),e},rateChanged:function(t){var e=this;this.checkBox.checked.forEach((function(a,i){a==t&&e.checkBox.checked.splice(i,1)})),this.checkBox[t]=!1},employeeChecked:function(t){var e=this;if(this.checkBox[t]){var a=!1;this.checkBox.checked.forEach((function(e){e==t&&(a=!0)})),a||this.checkBox.checked.push(t),this.review.employee[t]=0}else this.checkBox.checked.forEach((function(a,i){a==t&&e.checkBox.checked.splice(i,1)}))},shopChecked:function(t){var e=this;if(this.checkBox[t]){var a=!1;this.checkBox.checked.forEach((function(e){e==t&&(a=!0)})),a||this.checkBox.checked.push(t),this.review.shop[t]=0}else this.checkBox.checked.forEach((function(a,i){a==t&&e.checkBox.checked.splice(i,1)}))},checkChanged:function(t){var e=this;if(this.checkBox[t]){var a=!1;this.checkBox.checked.forEach((function(e){e==t&&(a=!0)})),a||this.checkBox.checked.push(t),this.review.feedback[t]=0}else this.checkBox.checked.forEach((function(a,i){a==t&&e.checkBox.checked.splice(i,1)}))},saveShopReview:function(){if(""==this.selectedEmp.id)this.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Ажилтнаа сонгоно уу",type:"error"});else{var t=this.totalEmployee,e=this.totalShop;this.loading=!0;var a=this,i=localStorage.getItem("token");i&&this.$axios({method:"post",url:a.$appUrl+"/api/usefull/set-review-shop",headers:{Authorization:"Bearer ".concat(i)},data:{store:this.shops.selected,userId:this.selectedEmp.id,emp:this.review.employee,shop:this.review.shop,totalEmp:t,totalShop:e,feedback:this.review.feedback}}).then((function(t){a.loading=!1,"success"==t.data.result&&(a.review.modal=!1,a.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Үнэлгээ хадгалагдлаа",type:"success"}),a.getShops())})).catch((function(t){console.log(t),a.loading=!1}))}},setReview:function(t){this.shops.selected=t,this.review.title=t.name,this.review.modal=!0},saveShop:function(){if(null==this.shops.selected.start||null==this.shops.selected.end||""==this.shops.selected.second_part||null==this.shops.selected.weekend||""==this.shops.selected.sale_plan||""==this.shops.selected.sale_plan_day)this.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Талбараа бүрэн бөглөнө үү",type:"error"});else{this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/edit-shop",headers:{Authorization:"Bearer ".concat(e)},data:{shop:this.shops.selected}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.modals.editItem=!1,t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Мэдээлэл шинэчлэгдлээ",type:"success"}))})).catch((function(e){console.log(e),t.loading=!1}))}},getCurrentShop:function(t){this.shops.selected=t,this.modals.editItem=!0},getShops:function(){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/shops",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.shops.list=e.data.shops,t.lose=e.data.lose,t.sale=e.data.EmpSale,t.shopReviews=e.data.shopReview,t.userReviews=e.data.reviewUsers)})).catch((function(e){console.log(e),t.loading=!1}))}}},Go=Wo,Zo=(a("674f"),Object(x["a"])(Go,Fo,Ho,!1,null,"37b7e60d",null)),Jo=Zo.exports,Vo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-ecommerce-new-product scrollable"},[a("div",{staticClass:"page-header"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",{attrs:{to:{path:"/products"}}},[t._v("Бүтээгдэхүүний жагсаалт")]),a("el-breadcrumb-item",[t._v("Шинэ бүтээгдэхүүн")])],1)],1),a("el-row",[a("el-col",[a("div",{staticClass:"item-box card-shadow--small b-rad-4"},[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"detail-box"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12,align:"center"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"НЭР","prefix-icon":"el-icon-user",clearable:""},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),a("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12,align:"center"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"УТАС","prefix-icon":"el-icon-phone-outline",clearable:""},model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}})],1),a("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12,align:"center"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"ИМЭЙЛ","prefix-icon":"el-icon-message",clearable:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),a("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12,align:"center"}},[a("el-select",{attrs:{filterable:"",placeholder:"Хэрэглэгчийн эрх",clearable:""},on:{change:t.changedPermission},model:{value:t.permissions.selected,callback:function(e){t.$set(t.permissions,"selected",e)},expression:"permissions.selected"}},t._l(t.permissions.list,(function(t,e){return a("el-option",{key:e,attrs:{label:t.position_name,value:t.id}})})),1)],1),a("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12,align:"center"}},[a("el-select",{attrs:{filterable:"",placeholder:"Салбар дэлгүүр",clearable:"",disabled:t.shops.hidden},model:{value:t.shops.selected,callback:function(e){t.$set(t.shops,"selected",e)},expression:"shops.selected"}},t._l(t.shops.list,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.code}})})),1)],1),a("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12,align:"center"}},[a("el-select",{attrs:{filterable:"",placeholder:"Ажлын чиглэл",clearable:""},model:{value:t.title.selected,callback:function(e){t.$set(t.title,"selected",e)},expression:"title.selected"}},t._l(t.title.list,(function(t,e){return a("el-option",{key:e,attrs:{label:t.pro_name,value:t.id}})})),1)],1),a("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:12,lg:12,xl:12,align:"center"}},[a("el-select",{attrs:{filterable:"",placeholder:"Хот / Аймаг",clearable:""},model:{value:t.city.selected,callback:function(e){t.$set(t.city,"selected",e)},expression:"city.selected"}},t._l(t.city.list,(function(t,e){return a("el-option",{key:e,attrs:{label:t.city,value:t.id}})})),1)],1)],1),a("el-row",[a("el-col",[a("div",{staticClass:"actions-box text-right"},[a("el-button",{staticClass:"themed mb-10 mr-10",attrs:{type:"primary",plain:""},on:{click:t.addContact}},[a("i",{staticClass:"mdi mdi-content-save"}),t._v(" ХАДГАЛАХ")])],1)])],1)],1)])],1)],1)])],1)],1)},Yo=[],Xo={data:function(){return{permissions:{selected:"",list:[]},shops:{selected:"",list:[],hidden:!1},title:{selected:"",list:[]},city:{selected:"",list:[]},user:{name:"",phone:"",email:""}}},mounted:function(){this.getInfo()},methods:{changedPermission:function(){6==this.permissions.selected?(this.shops.selected="",this.shops.hidden=!0):this.shops.hidden=!1},getInfo:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/user/new-contact-info",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){"success"==e.data.result&&(t.shops.list=e.data.shop,t.permissions.list=e.data.position,t.title.list=e.data.profession,t.city.list=e.data.city)}))},addContact:function(){if(6!==this.permissions.selected)if(""==this.user.name||""==this.user.phone||""==this.user.email||""==this.shops.selected||""==this.permissions.selected||""==this.title.selected||""==this.city.selected)this.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Талбараа бүрэн бөглөнө үү",type:"error"});else{var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/user/add-contact",headers:{Authorization:"Bearer ".concat(e)},data:{user:this.user,city:this.city.selected,role:this.permissions.selected,title:this.title.selected,shop:this.shops.selected}}).then((function(e){"success"==e.data.result?(t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Хэрэглэгч бүртгэгдлээ",type:"success"}),t.user.name="",t.user.phone="",t.user.email=""):"failed"==e.data.result&&t.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Бүртгэлтэй имэйл",type:"error"})}))}else if(""==this.user.name||""==this.user.phone||""==this.user.email||""==this.permissions.selected||""==this.title.selected||""==this.city.selected)this.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Талбараа бүрэн бөглөнө үү",type:"error"});else{t=this;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:t.$appUrl+"/api/user/add-contact",headers:{Authorization:"Bearer ".concat(a)},data:{user:this.user,city:this.city.selected,role:this.permissions.selected,title:this.title.selected,shop:this.shops.selected}}).then((function(e){"success"==e.data.result?(t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Хэрэглэгч бүртгэгдлээ",type:"success"}),t.user.name="",t.user.phone="",t.user.email=""):"failed"==e.data.result&&t.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Бүртгэлтэй имэйл",type:"error"})}))}}}},Qo=Xo,Ko=Object(x["a"])(Qo,Vo,Yo,!1,null,null,null),tr=Ko.exports,er={contenOnly:{navPos:!1,toolbar:!1,toolbarPos:"bottom",footer:!1},navLeft:{navPos:"left",toolbar:"bottom",boxed:!1,roundedCorners:!1,footer:"below"},navRight:{navPos:"right",toolbar:"bottom",boxed:!1,roundedCorners:!1,footer:"below"},navTop:{navPos:"top",toolbar:"bottom",boxed:!1,roundedCorners:!1,footer:"below"},navBottom:{navPos:"bottom",toolbar:"bottom",boxed:!1,roundedCorners:!1,footer:"below"}},ar=a("2f62"),ir=a("0e44");s["default"].use(ar["a"]);var sr=!1,or=new ar["a"].Store({state:{layout:{navPos:"left",toolbar:"top",footer:!0,boxed:!1,roundedCorners:!1,viewAnimation:"fade-top"},splashScreen:!0,logged:!0},mutations:{setLayout:function(t,e){e&&void 0!==e.navPos&&(t.layout.navPos=e.navPos),e&&void 0!==e.toolbar&&(t.layout.toolbar=e.toolbar),e&&void 0!==e.footer&&(t.layout.footer=e.footer),e&&void 0!==e.boxed&&(t.layout.boxed=e.boxed),e&&void 0!==e.roundedCorners&&(t.layout.roundedCorners=e.roundedCorners),e&&void 0!==e.viewAnimation&&(t.layout.viewAnimation=e.viewAnimation)},setLogin:function(t,e){t.logged=!0},setLogout:function(t,e){t.layout.navPos=null,t.layout.toolbar=null,t.logged=!1},setSplashScreen:function(t,e){t.splashScreen=e}},actions:{},getters:{layout:function(t,e){return t.layout},navPos:function(t,e){return t.layout.navPos},toolbar:function(t,e){return t.layout.toolbar},footer:function(t,e){return t.layout.footer},boxed:function(t,e){return t.layout.boxed},roundedCorners:function(t,e){return t.layout.roundedCorners},viewAnimation:function(t,e){return t.layout.viewAnimation},isLogged:function(t,e){return t.logged},splashScreen:function(t,e){return t.splashScreen}},plugins:[Object(ir["a"])({paths:["layout"]})],strict:sr}),rr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-calendar scrollable"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Ажлын төлөвлөгөө")])],1),a("el-button-group",[a("el-select",{attrs:{filterable:"",placeholder:"Select"},on:{change:t.getPlan},model:{value:t.shops.selected,callback:function(e){t.$set(t.shops,"selected",e)},expression:"shops.selected"}},t._l(t.shops.list,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.code}})})),1)],1)],1)]),a("FullCalendar",{ref:"fullCalendar",staticClass:"calendar-wrap card-base card-shadow--medium",attrs:{options:t.calendarOptions,event:t.plans}}),a("el-dialog",{attrs:{title:"Төлөвлөгөө оруулах",visible:t.dialogFormVisible,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-position":"top"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Ажилтнаа сонгоно уу"},model:{value:t.users.selected,callback:function(e){t.$set(t.users,"selected",e)},expression:"users.selected"}},t._l(t.users.list,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeEventDialog}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.setEvent}},[t._v("Хадгалах")])],1)],1)],1)},nr=[],lr=a("f5ff"),cr=a("3cdd"),dr=a("3e32"),ur=a("e44e"),pr=a("a20c"),mr={name:"Calendar",data:function(){var t,e=this;T()().format("YYYY"),T()().format("MM");return{calendarOptions:(t={customButtons:{addEvent:{text:"✚",click:this.addEventDialog}},locale:"en",headerToolbar:{left:"prev,next",center:"title",right:"dayGridMonth"}},Object(je["a"])(t,"customButtons",{prev:{text:"prev",click:function(){var t=e.$refs.fullCalendar.getApi();t.prev()}},next:{text:"next",click:function(){var t=e.$refs.fullCalendar.getApi();t.next()}}}),Object(je["a"])(t,"height","auto"),Object(je["a"])(t,"firstDay",1),Object(je["a"])(t,"allDaySlot",!0),Object(je["a"])(t,"slotEventOverlap",!0),Object(je["a"])(t,"selectable",!0),Object(je["a"])(t,"selectMirror",!0),Object(je["a"])(t,"eventTimeFormat",{hour:"2-digit",minute:"2-digit",meridiem:!1}),Object(je["a"])(t,"navLinks",!0),Object(je["a"])(t,"editable",!0),Object(je["a"])(t,"dayMaxEvents",!0),Object(je["a"])(t,"plugins",[cr["b"],dr["a"],ur["a"],pr["a"]]),Object(je["a"])(t,"events",[]),Object(je["a"])(t,"dateClick",this.dayClick),Object(je["a"])(t,"eventClick",this.eventClick),t),dialogFormVisible:!1,form:{title:"",description:"",allDay:!1,startDate:"",startTime:"",endDate:"",endTime:"",id:"",color:"#4a596a"},predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#4a596a","#c71585"],user:[],shops:{selected:"",list:[]},plans:[],users:{selected:"",list:[],date:""}}},created:function(){this.user=JSON.parse(localStorage.user),this.shops.selected=this.user.call_store,this.getPlan()},methods:{getPlan:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/calendar",headers:{Authorization:"Bearer ".concat(e)},data:{shop:this.shops.selected}}).then((function(e){if(t.loading=!1,"success"==e.data.result){t.shops.list=e.data.shops;var a=[],i=t.$refs.fullCalendar.getApi(),s=i.getEvents();s.forEach((function(t){t.remove()})),e.data.plan.forEach((function(t){a.push({title:t.name,start:t.date}),i.addEvent({id:t.id,title:t.name,start:t.date})})),t.plans=a,t.users.list=e.data.user}})).catch((function(e){t.loading=!1,console.log(e)}))},closeEventDialog:function(){this.$refs.form.resetFields(),this.dialogFormVisible=!1,this.form={title:"",description:"",allDay:!1,startDate:"",startTime:"",endDate:"",endTime:"",color:"#4a596a"}},setEvent:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/add-event",headers:{Authorization:"Bearer ".concat(e)},data:{shop:this.shops.selected,date:this.users.date,id:this.users.selected}}).then((function(e){if(t.loading=!1,"success"==e.data.result){var a=t.$refs.fullCalendar.getApi();t.users.list.forEach((function(e){e.id==t.users.selected&&a.addEvent({id:e.id,title:e.name,start:t.users.date})})),t.$notify({title:"Амжилттай",message:"Амжилттай бүртгэгдлээ",type:"success"}),t.dialogFormVisible=!1}})).catch((function(e){t.loading=!1,console.log(e)}))},addEventDialog:function(){this.dialogFormVisible=!0},getPlanArray:function(){return console.log(this.plans),this.plans},dayClick:function(t){var e=new Date(t.date);e=e.getFullYear()+"-"+(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>9?e.getDate():"0"+e.getDate()),this.users.date=e,this.dialogFormVisible=!0},eventClick:function(t){var e=this,a=new Date(t.event.start);a=a.getFullYear()+"-"+(a.getMonth()>8?a.getMonth()+1:"0"+(a.getMonth()+1))+"-"+(a.getDate()>9?a.getDate():"0"+a.getDate()),this.$confirm("Тухайн өдрийн ажилтныг устгах уу","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var i=e;e.loading=!0;var s=localStorage.getItem("token");s&&e.$axios({method:"post",url:i.$appUrl+"/api/usefull/delete-event",headers:{Authorization:"Bearer ".concat(s)},data:{shop:e.shops.selected,date:a,id:t.event.id}}).then((function(e){i.loading=!1,"success"==e.data.result&&(t.event.remove(),i.$notify({title:"Амжилттай",message:"Амжилттай устгагдлаа",type:"success"}))})).catch((function(t){i.loading=!1,console.log(t)}))}))}},components:{FullCalendar:lr["a"]}},hr=mr,gr=(a("b4da"),Object(x["a"])(hr,rr,nr,!1,null,null,null)),vr=gr.exports,fr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scrollable"},[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Цаг бүртгэлийн жагсаалт",name:"register"}},[a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{attrs:{type:"month",placeholder:"Он сар"},on:{change:t.timeRegisterChanged},model:{value:t.timerRegisterList,callback:function(e){t.timerRegisterList=e},expression:"timerRegisterList"}})],1),a("el-button-group",{staticStyle:{display:"flex"}},[null!=t.timerRegisterList?a("download-excel",{staticClass:"button",attrs:{data:t.ExcelData,fields:t.ExcelField,worksheet:"My Worksheet",name:"Цаг бүртгэлийн дэлгэрэнгүй.xls"}},[t._v(" Цагийн дэлгэрэнгүй татах ")]):t._e(),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Фонт цаг бүртгэх",placement:"top-end"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-edit",size:"mini"},on:{click:t.addFontTime}})],1)],1)],1),a("div",{staticClass:"page-ecommerce-dashboard"},[a("div",{staticClass:"table-box card-base card-outline"},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",[t._v("Ажилтны нэр")]),a("th",[t._v("Ажиллах цаг")]),a("th",[t._v("Ажилласан цаг")]),a("th",[t._v("Хоцорсон цаг")]),a("th",[t._v("Илүү цаг")]),a("th",[t._v("Ажилласан өдөр")]),a("th",[t._v("Бонус цалин")])])]),null==t.timerRegisterList?a("tbody",[a("tr",[a("td",{staticStyle:{"font-size":"18px","text-align":"center"},attrs:{colspan:"6"}},[t._v(" САРАА СОНГОНО УУ ... ")])])]):a("tbody",t._l(t.timelist,(function(e,i){return a("tr",{key:i},[a("td",[t._v(" "+t._s(e.name)+" ")]),a("td",[t._v(" "+t._s(e.default_hour)+" ")]),a("td",[t._v(" "+t._s(String(e.total_time).split(".")[0])+" ")]),a("td",[t._v(t._s(String(e.total_lost_time).split(".")[0]))]),a("td",[t._v(" "+t._s(t.diffTime(e.total_time,e.default_hour))+" ")]),a("td",[t._v(t._s(t.getTotalDay(e.id).length))]),a("td",[t._v(" "+t._s(t.checkBonus(e.id))+" ")])])})),0)])])])]),a("el-tab-pane",{attrs:{label:"Хоолны мөнгө",name:"meal"}},[a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.MealTimeChanged},model:{value:t.MealTimeList,callback:function(e){t.MealTimeList=e},expression:"MealTimeList"}})],1)]),a("div",{staticClass:"page-ecommerce-dashboard"},[a("div",{staticClass:"table-box card-base card-outline"},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",[t._v("Ажилтны нэр")]),a("th",[t._v("Ажилласан өдөр")]),a("th",[t._v("Хоолны мөнгө")]),a("th",[t._v("Дансны дугаар")])])]),null==t.MealTimeList?a("tbody",[a("tr",[a("td",{staticStyle:{"font-size":"18px","text-align":"center"},attrs:{colspan:"4"}},[t._v(" ЭХЛЭХ БОЛОН ТӨГСӨХ ӨДРӨӨ СОНГОНО УУ ... ")])])]):a("tbody",t._l(t.mealList,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.day))]),a("td",[t._v(t._s(Number(4e3*e.day).toLocaleString()))]),a("td",[t._v(t._s(e.acc_number))])])})),0)])])])])],1)],1)])},br=[],_r={data:function(){return{activeName:"register",timerRegisterList:null,MealTimeList:null,loading:!1,timelist:[],countday:[],mealList:[],bonus:[],ExcelField:{"Огноо":"date","Эхэлсэн цаг":"start","Хаасан цаг":"end","Ажилласан цаг":"worktime","Хоцорсон цаг":"losttime"},ExcelData:[{date:"Отгонбаатар"},{date:"2020-02-20",start:"09:00",end:"17:00",worktime:"11:00",losttime:"00:00:00"}]}},mounted:function(){this.timeRegisterChanged()},methods:{getTotalDay:function(t){var e=[];return this.countday.forEach((function(a){a.user_id==t&&(e.includes(a.date)||e.push(a.date))})),e},addFontTime:function(){var t=this;null!=this.timerRegisterList&&this.$prompt("Фонт цагаа оруулна уу","Цаг бүртгэх",{confirmButtonText:"Хадгалах",cancelButtonText:"Болих",inputPattern:/[0-9]/,inputErrorMessage:"Зөвхөн тоо оруулна уу"}).then((function(e){var a=e.value,i=t,s=localStorage.getItem("token");s&&t.$axios({method:"post",url:i.$appUrl+"/api/usefull/update-font-time",headers:{Authorization:"Bearer ".concat(s)},data:{date:t.timerRegisterList,fonttime:a}}).then((function(t){"success"==t.data.result&&(i.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Фонт цаг шинэчлэгдлээ",type:"success"}),i.timeRegisterChanged())})).catch((function(t){console.log(t)}))}))},checkBonus:function(t){var e=0;return this.bonus.forEach((function(a){a.user_id==t&&(e=a.total_bonus)})),e<0?0:Number(e).toLocaleString()},diffTime:function(t,e){t=t.split(".")[0],e=60*e*60,t=t.split(":");var a=60*t[0]*60,i=60*t[1],s=1*t[2];if(t=a+i+s,t>e){t-=e;a=Math.floor(t/3600),i=Math.floor((t-3600*a)/60),s=t%60;return s<10&&(s="0"+s),a<10&&(a="0"+a),i<10&&(i="0"+i),a+":"+i+":"+s}return"00:00:00"},timeRegisterChanged:function(){if(null!=this.timerRegisterList){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/get-total-time",headers:{Authorization:"Bearer ".concat(e)},data:{date:this.timerRegisterList}}).then((function(e){if("success"==e.data.result){t.timelist=[],t.timelist=e.data.total,t.countday=e.data.MoreTime,t.bonus=e.data.bonus;var a=[];t.ExcelData=[],e.data.users.forEach((function(i){a.push({date:i.name}),e.data.MoreTime.forEach((function(e){e.user_id==i.id&&a.push({date:e.date,start:e.starttime,end:e.endtime,worktime:t.workTimeDiff(e.starttime,e.endtime),losttime:e.lost})}))})),t.ExcelData=a}})).catch((function(t){console.log(t)}))}},workTimeDiff:function(t,e){t=new Date("01/01/2007 "+t),e=new Date("01/01/2007 "+e);var a=Math.abs(Math.round((e.getTime()-t.getTime())/1e3)),i=Math.floor(a/3600),s=Math.floor((a-3600*i)/60),o=a%60;return o<10&&(o="0"+o),i<10&&(i="0"+i),s<10&&(s="0"+s),i+":"+s+":"+o},MealTimeChanged:function(){if(null!=this.MealTimeList){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/get-meal-money",headers:{Authorization:"Bearer ".concat(e)},data:{datetime:this.MealTimeList}}).then((function(e){"success"==e.data.result&&(t.mealList=[],t.mealList=e.data.meal)})).catch((function(t){console.log(t)}))}}}},yr=_r,xr=(a("3eba0"),Object(x["a"])(yr,fr,br,!1,null,"63029231",null)),wr=xr.exports,Cr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scrollable"},[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Харилцагчдын жагсаалт")])],1),a("el-button-group",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Шинэ харилцагч бүртгэх",placement:"top-end"}},[a("el-button",{attrs:{icon:"el-icon-edit",size:"small",circle:""},on:{click:function(e){t.modals.addItem=!0}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Хуулах",placement:"top-end"}},[a("el-button",{attrs:{icon:"el-icon-document-copy",size:"small",circle:""},on:{click:t.copyCompanies}})],1)],1)],1)]),a("input",{ref:"text-creator",staticStyle:{opacity:"0"},attrs:{type:"text"}})]),a("div",{staticClass:"page-ecommerce-dashboard"},[a("div",{staticClass:"table-box card-base card-outline"},[a("table",{staticClass:"styled striped hover",staticStyle:{"font-size":"16px"}},[t._m(0),a("tbody",t._l(t.company.list,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"}},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.nickname))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.phone))]),a("td",[t._v(t._s(e.register))]),a("td",[a("el-button-group",[a("el-button",{attrs:{icon:"el-icon-setting",size:"small",circle:""},on:{click:function(a){return t.getCurrentShop(e)}}}),a("el-button",{attrs:{icon:"el-icon-delete",size:"small",circle:""},on:{click:function(a){return t.deleteCompany(e.id,e.name)}}})],1)],1)])})),0)])])]),a("el-dialog",{attrs:{title:"Засварлах",visible:t.modals.editItem,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"editItem",e)}}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-input",{attrs:{placeholder:"Компани",clearable:""},model:{value:t.company.selected.name,callback:function(e){t.$set(t.company.selected,"name",e)},expression:"company.selected.name"}})],1),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{staticClass:"mt-5",attrs:{placeholder:"Ажилтны нэр",clearable:""},model:{value:t.company.selected.nickname,callback:function(e){t.$set(t.company.selected,"nickname",e)},expression:"company.selected.nickname"}})],1),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{staticClass:"mt-5",attrs:{placeholder:"Утасны дугаар",clearable:""},model:{value:t.company.selected.phone,callback:function(e){t.$set(t.company.selected,"phone",e)},expression:"company.selected.phone"}})],1),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{staticClass:"mt-5",attrs:{placeholder:"Регистрийн дугаар",clearable:""},model:{value:t.company.selected.register,callback:function(e){t.$set(t.company.selected,"register",e)},expression:"company.selected.register"}})],1),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{staticClass:"mt-5",attrs:{placeholder:"Имэйл",clearable:""},model:{value:t.company.selected.email,callback:function(e){t.$set(t.company.selected,"email",e)},expression:"company.selected.email"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.editItem=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveShop}},[t._v("Хадгалах")])],1)],1),a("el-dialog",{attrs:{title:"Шинэ харилцагч",visible:t.modals.addItem,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"addItem",e)}}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-input",{attrs:{placeholder:"Компани",clearable:""},model:{value:t.company.new.name,callback:function(e){t.$set(t.company.new,"name",e)},expression:"company.new.name"}})],1),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{staticClass:"mt-5",attrs:{placeholder:"Ажилтны нэр",clearable:""},model:{value:t.company.new.nickname,callback:function(e){t.$set(t.company.new,"nickname",e)},expression:"company.new.nickname"}})],1),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{staticClass:"mt-5",attrs:{placeholder:"Утасны дугаар",clearable:""},model:{value:t.company.new.phone,callback:function(e){t.$set(t.company.new,"phone",e)},expression:"company.new.phone"}})],1),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{staticClass:"mt-5",attrs:{placeholder:"Регистрийн дугаар",clearable:""},model:{value:t.company.new.register,callback:function(e){t.$set(t.company.new,"register",e)},expression:"company.new.register"}})],1),a("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[a("el-input",{staticClass:"mt-5",attrs:{placeholder:"Имэйл",clearable:""},model:{value:t.company.new.email,callback:function(e){t.$set(t.company.new,"email",e)},expression:"company.new.email"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.editItem=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addShop}},[t._v("Хадгалах")])],1)],1)],1)},kr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Компани")]),a("th",[t._v("Ажилтан")]),a("th",[t._v("Имэйл")]),a("th",[t._v("Утасны дугаар")]),a("th",[t._v("Регистр")]),a("th")])])}],Sr={data:function(){return{company:{selected:"",list:[],new:{name:"",nickname:"",email:"",phone:"",register:""}},loading:!1,modals:{editItem:!1,addItem:!1}}},mounted:function(){this.getShops()},methods:{addShop:function(){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/add-company",headers:{Authorization:"Bearer ".concat(e)},data:{company:this.company.new}}).then((function(e){t.loading=!1,"success"==e.data.result?(t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Байгууллага бүртгэгдлээ",type:"success"}),t.getShops()):t.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Бүртгэлтэй имэйл",type:"error"})})).catch((function(e){console.log(e),t.loading=!1}))},saveShop:function(){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/edit-company",headers:{Authorization:"Bearer ".concat(e)},data:{company:this.company.selected}}).then((function(e){t.loading=!1,"success"==e.data.result&&t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Байгууллага шинэчлэгдлээ",type:"success"})})).catch((function(e){console.log(e),t.loading=!1}))},copyCompanies:function(){var t="";this.company.list.forEach((function(e){t=""==t?e.email:t+", "+e.email})),this.$refs["text-creator"].value=t,this.$refs["text-creator"].select(),this.$refs["text-creator"].setSelectionRange(0,99999),document.execCommand("cut")},getCurrentShop:function(t){this.company.selected=t,this.modals.editItem=!0},deleteCompany:function(t,e){var a=this;this.$confirm("<strong>".concat(e,"</strong> харилцагчыг устгах уу"),"Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Үгүй",type:"warning",dangerouslyUseHTMLString:!0}).then((function(){a.loading=!0;var e=a,i=localStorage.getItem("token");i&&a.$axios({method:"post",url:e.$appUrl+"/api/usefull/delete-company",headers:{Authorization:"Bearer ".concat(i)},data:{id:t}}).then((function(a){e.loading=!1,"success"==a.data.result&&(e.company.list.forEach((function(a,i){a.id==t&&e.company.list.splice(i,1)})),e.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Байгууллага устгагдлаа",type:"success"}))})).catch((function(t){console.log(t),e.loading=!1}))}))},getShops:function(){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/companies",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.company.list=e.data.companies)})).catch((function(e){console.log(e),t.loading=!1}))}}},$r=Sr,Ir=Object(x["a"])($r,Cr,kr,!1,null,null,null),zr=Ir.exports,Tr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scrollable"},[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Брэнд",name:"brand"}},[a("div",{staticClass:"page-ecommerce-dashboard"},[a("div",{staticClass:"table-box card-base card-outline"},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Брэнд нэр")]),a("th",[t._v("ITLAB-руу илгээх")]),a("th")])]),a("tbody",t._l(t.brand.list,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.brandname))]),a("td",[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("label",{staticClass:"switch"},[a("input",{attrs:{type:"checkbox"},domProps:{checked:e.itlab},on:{click:function(a){return t.changeStatBrand(e.id)}}}),a("span",{staticClass:"slider round"})])])])]),a("td",[a("el-button-group",[a("el-button",{attrs:{icon:"el-icon-setting",size:"small",circle:""},on:{click:function(a){return t.editBrand(e)}}}),a("el-button",{attrs:{icon:"el-icon-delete",size:"small",circle:""},on:{click:function(a){return t.deleteBrand(e)}}})],1)],1)])})),0)])])])]),a("el-tab-pane",{attrs:{label:"Категори",name:"category"}},[a("div",{staticClass:"page-ecommerce-dashboard"},[a("div",{staticClass:"table-box card-base card-outline"},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Категори нэр")]),a("th",[t._v("Категори код")]),a("th",[t._v("ITLAB-руу илгээх")]),a("th")])]),a("tbody",t._l(t.category.list,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(i+1))]),a("td",[t._v(t._s(e.category_name))]),a("td",[t._v(t._s(e.category_code))]),a("td",[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("label",{staticClass:"switch"},[a("input",{attrs:{type:"checkbox"},domProps:{checked:e.itlab},on:{click:function(a){return t.changeStatCategory(e.id)}}}),a("span",{staticClass:"slider round"})])])])]),a("td",[a("el-button-group",[a("el-button",{attrs:{icon:"el-icon-setting",size:"small",circle:""},on:{click:function(a){return t.editCategory(e)}}}),a("el-button",{attrs:{icon:"el-icon-delete",size:"small",circle:""},on:{click:function(a){return t.deleteCategory(e)}}})],1)],1)])})),0)])])])]),a("el-tab-pane",{attrs:{label:"Дэд категори",name:"subcategory"}},[a("div",{staticClass:"page-ecommerce-dashboard"},[a("div",{staticClass:"table-box card-base card-outline"},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Дэд категори")]),a("th",[t._v("Категори код")]),a("th",[t._v("ITLAB-руу илгээх")]),a("th")])]),a("tbody",t._l(t.sub.list,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(i+1))]),a("td",[t._v(t._s(e.sub_category_name))]),a("td",[t._v(t._s(e.sub_category_code))]),a("td",[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("label",{staticClass:"switch"},[a("input",{attrs:{type:"checkbox"},domProps:{checked:e.itlab},on:{click:function(a){return t.changeStatSubCategory(e.id)}}}),a("span",{staticClass:"slider round"})])])])]),a("td",[a("el-button-group",[a("el-button",{attrs:{icon:"el-icon-setting",size:"small",circle:""},on:{click:function(a){return t.editSub(e)}}}),a("el-button",{attrs:{icon:"el-icon-right",size:"small",circle:""},on:{click:function(a){return t.selectSub(e)}}}),a("el-button",{attrs:{icon:"el-icon-delete",size:"small",circle:""},on:{click:function(a){return t.deleteSubCategory(e)}}})],1)],1)])})),0)])])])])],1)],1),a("el-dialog",{attrs:{title:"Брэнд засварлах",visible:t.modals.brandEdit,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"brandEdit",e)}}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-input",{attrs:{placeholder:"Нэр",clearable:""},model:{value:t.brand.selected.brandname,callback:function(e){t.$set(t.brand.selected,"brandname",e)},expression:"brand.selected.brandname"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.brandEdit=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveBrand}},[t._v("Хадгалах")])],1)],1),a("el-dialog",{attrs:{title:"Үндсэн категори засварлах",visible:t.modals.categoryEdit,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"categoryEdit",e)}}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-input",{attrs:{placeholder:"Нэр",clearable:""},model:{value:t.category.selected.category_name,callback:function(e){t.$set(t.category.selected,"category_name",e)},expression:"category.selected.category_name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.categoryEdit=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveCategory}},[t._v("Хадгалах")])],1)],1),a("el-dialog",{attrs:{title:"Дэд категори засварлах",visible:t.modals.subEdit,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"subEdit",e)}}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-input",{attrs:{placeholder:"Нэр",clearable:""},model:{value:t.sub.selected.sub_category_name,callback:function(e){t.$set(t.sub.selected,"sub_category_name",e)},expression:"sub.selected.sub_category_name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.subEdit=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveSubCategory}},[t._v("Хадгалах")])],1)],1),a("el-dialog",{attrs:{title:"","show-close":!1,visible:t.modals.changeDialog,width:"30%",center:""},on:{"update:visible":function(e){return t.$set(t.modals,"changeDialog",e)}}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",plain:""},on:{click:function(e){t.modals.changeSub=!0}}},[t._v("Дэд категори шилжүүлэх")]),a("br"),a("el-button",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{type:"info",plain:""},on:{click:function(e){t.modals.changeProductSub=!0}}},[t._v("Бүтээгдэхүүн шилжүүлэх")])],1),a("el-dialog",{attrs:{title:"",visible:t.modals.changeSub,width:"30%",center:""},on:{"update:visible":function(e){return t.$set(t.modals,"changeSub",e)}}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Шилжүүлэх категори"},model:{value:t.toCategory,callback:function(e){t.toCategory=e},expression:"toCategory"}},t._l(t.category.list,(function(t,e){return a("el-option",{key:e,attrs:{label:t.category_name,value:t.id}})})),1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.changeSub=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.transferSub}},[t._v("Хадгалах")])],1)],1),a("el-dialog",{attrs:{title:"",visible:t.modals.changeProductSub,width:"30%",center:""},on:{"update:visible":function(e){return t.$set(t.modals,"changeProductSub",e)}}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Шилжүүлэх үндсэн категори"},model:{value:t.toSubCategory.main,callback:function(e){t.$set(t.toSubCategory,"main",e)},expression:"toSubCategory.main"}},t._l(t.category.list,(function(t,e){return a("el-option",{key:e,attrs:{label:t.category_name,value:t.id}})})),1),a("el-select",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{filterable:"",placeholder:"Шилжүүлэх дэд категори"},model:{value:t.toSubCategory.sub,callback:function(e){t.$set(t.toSubCategory,"sub",e)},expression:"toSubCategory.sub"}},t._l(t.filterSub,(function(t,e){return a("el-option",{key:e,attrs:{label:t.sub_category_name,value:t.id}})})),1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.changeProductSub=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.transferSubProduct}},[t._v("Хадгалах")])],1)],1)],1)},Lr=[],Ur={data:function(){return{activeName:"brand",brand:{selected:"",list:[]},category:{selected:"",list:[]},sub:{selected:"",list:[]},loading:!1,modals:{brandEdit:!1,categoryEdit:!1,subEdit:!1,changeDialog:!1,changeProductSub:!1,changeSub:!1},toCategory:"",toSubCategory:{main:"",sub:""}}},computed:{filterSub:function(){var t=this,e=[];return this.sub.list.forEach((function(a){a.categoryID==t.toSubCategory.main&&e.push(a)})),e}},mounted:function(){this.getInfo()},methods:{changeStatSubCategory:function(t){var e=this;this.loading=!0;var a=0,i=0;this.sub.list.forEach((function(e,s){e.id==t&&(i=s,e.itlab||(a=1))}));var s=localStorage.getItem("token");e.$axios({method:"POST",url:e.$appUrl+"/api/usefull/update-sub-category-stat",headers:{Authorization:"Bearer ".concat(s)},data:{id:t,active:a}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.sub.list[i].itlab=a)})).catch((function(t){e.loading=!1,console.log(t)}))},changeStatCategory:function(t){var e=this;this.loading=!0;var a=0,i=0;this.category.list.forEach((function(e,s){e.id==t&&(i=s,e.itlab||(a=1))}));var s=localStorage.getItem("token");e.$axios({method:"POST",url:e.$appUrl+"/api/usefull/update-category-stat",headers:{Authorization:"Bearer ".concat(s)},data:{id:t,active:a}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.category.list[i].itlab=a)})).catch((function(t){e.loading=!1,console.log(t)}))},changeStatBrand:function(t){var e=this;this.loading=!0;var a=0,i=0;this.brand.list.forEach((function(e,s){e.id==t&&(i=s,e.itlab||(a=1))}));var s=localStorage.getItem("token");e.$axios({method:"POST",url:e.$appUrl+"/api/usefull/update-brand-stat",headers:{Authorization:"Bearer ".concat(s)},data:{id:t,active:a}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.brand.list[i].itlab=a)})).catch((function(t){e.loading=!1,console.log(t)}))},transferSubProduct:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/transper-sub-category-product",headers:{Authorization:"Bearer ".concat(e)},data:{sub:this.sub.selected,to:this.toSubCategory}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Бүтээгдэхүүн амжилттай шилжүүллээ",type:"success"}),t.modals.changeDialog=!1,t.modals.changeProductSub=!1,t.getInfo())})).catch((function(e){t.loading=!1,console.log(e)}))},transferSub:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/product/transper-sub-category",headers:{Authorization:"Bearer ".concat(e)},data:{sub:this.sub.selected,to:this.toCategory}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"<strong>".concat(t.sub.selected.sub_category_name,"</strong> шилжлээ"),type:"success"}),t.modals.changeDialog=!1,t.modals.changeSub=!1,t.getInfo())})).catch((function(e){t.loading=!1,console.log(e)}))},selectSub:function(t){this.sub.selected=t,this.toCategory=t.categoryID,this.modals.changeDialog=!0},saveSubCategory:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/edit-sub-category",headers:{Authorization:"Bearer ".concat(e)},data:{category:this.sub.selected}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.modals.subEdit=!1)})).catch((function(e){t.loading=!1,console.log(e)}))},saveCategory:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/edit-category",headers:{Authorization:"Bearer ".concat(e)},data:{category:this.category.selected}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.modals.categoryEdit=!1)})).catch((function(e){t.loading=!1,console.log(e)}))},deleteCategory:function(t){var e=this;this.$confirm("<strong>".concat(t.category_name,"</strong> категори утсгахдаа итгэлтэй байна уу?"),"Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Үгүй",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){var a=e;e.loading=!0;var i=localStorage.getItem("token");i&&e.$axios({method:"post",url:"https://api.tumentechno.mn/api/product/delete-category",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MzksImlhdCI6MTYyODIyNTM0OX0.to9xLmJEjceMPv0GEu-yThqtLlNHDwAh8fE_DtVfNIs"},data:{code:t.category_code}}).then((function(e){"success"==e.data.result?a.$axios({method:"post",url:a.$appUrl+"/api/usefull/delete-category",headers:{Authorization:"Bearer ".concat(i)},data:{id:t.id}}).then((function(e){a.loading=!1,"success"==e.data.result?(a.category.list.forEach((function(e,i){e.id==t.id&&a.category.list.splice(i,1)})),a.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"<strong>".concat(t.category_name,"</strong> устгагдлаа"),type:"success"})):a.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Энэ категори дээр <strong>".concat(e.data.p,"</strong> ширхэг бараа бүртгэлтэй байна"),type:"error"})})).catch((function(t){a.loading=!1,console.log(t)})):(a.loading=!1,a.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"<strong>itlab.mn</strong> дээр бүртгэлтэй бараа байна.",type:"error"}))}))}))},deleteSubCategory:function(t){var e=this;this.$confirm("<strong>".concat(t.sub_category_name,"</strong> категори утсгахдаа итгэлтэй байна уу?"),"Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Үгүй",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){var a=e;e.loading=!0;var i=localStorage.getItem("token");i&&e.$axios({method:"post",url:"https://api.tumentechno.mn/api/product/delete-sub-category",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MzksImlhdCI6MTYyODIyNTM0OX0.to9xLmJEjceMPv0GEu-yThqtLlNHDwAh8fE_DtVfNIs"},data:{code:t.sub_category_code}}).then((function(e){"success"==e.data.result?a.$axios({method:"post",url:a.$appUrl+"/api/usefull/delete-sub-category",headers:{Authorization:"Bearer ".concat(i)},data:{id:t.id}}).then((function(e){a.loading=!1,"success"==e.data.result?(a.sub.list.forEach((function(e,i){e.id==t.id&&a.sub.list.splice(i,1)})),a.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"<strong>".concat(t.sub_category_name,"</strong> устгагдлаа"),type:"success"})):a.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Энэ категори дээр <strong>".concat(e.data.p,"</strong> ширхэг бараа бүртгэлтэй байна"),type:"error"})})).catch((function(t){a.loading=!1,console.log(t)})):(a.loading=!1,a.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"<strong>itlab.mn</strong> дээр бүртгэлтэй бараа байна.",type:"error"}))}))}))},deleteBrand:function(t){var e=this;this.$confirm("<strong>".concat(t.brandname,"</strong> устгахдаа итгэлтэй байна уу?"),"Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Үгүй",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){var a=e;e.loading=!0;var i=localStorage.getItem("token");i&&e.$axios({method:"post",url:"https://api.tumentechno.mn/api/product/delete-brands",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MzksImlhdCI6MTYyODIyNTM0OX0.to9xLmJEjceMPv0GEu-yThqtLlNHDwAh8fE_DtVfNIs"},data:{code:t.id}}).then((function(e){"success"==e.data.result?a.$axios({method:"post",url:a.$appUrl+"/api/usefull/delete-brand",headers:{Authorization:"Bearer ".concat(i)},data:{id:t.id}}).then((function(e){a.loading=!1,"success"==e.data.result?(a.brand.list.forEach((function(e,i){e.id==t.id&&a.brand.list.splice(i,1)})),a.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"<strong>".concat(t.brandname,"</strong> устгагдлаа"),type:"success"})):a.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Энэ брэнд дээр <strong>".concat(e.data.p,"</strong> ширхэг бараа бүртгэлтэй байна"),type:"error"})})).catch((function(t){a.loading=!1,console.log(t)})):(a.loading=!1,a.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"<strong>itlab.mn</strong> дээр бүртгэлтэй бараа байна.",type:"error"}))}))}))},saveBrand:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/edit-brand",headers:{Authorization:"Bearer ".concat(e)},data:{brand:this.brand.selected}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.modals.brandEdit=!1)})).catch((function(e){t.loading=!1,console.log(e)}))},editSub:function(t){this.sub.selected=t,this.modals.subEdit=!0},editBrand:function(t){this.brand.selected=t,this.modals.brandEdit=!0},editCategory:function(t){this.category.selected=t,this.modals.categoryEdit=!0},getInfo:function(){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/usefull/get-brand-and-category",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.brand.list=e.data.brands,t.category.list=e.data.category,t.sub.list=e.data.sub)})).catch((function(e){t.loading=!1,console.log(e)}))}}},Br=Ur,Er=(a("0042"),Object(x["a"])(Br,Tr,Lr,!1,null,"402d2c1b",null)),Dr=Er.exports,Or=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-invoice scrollable"},[i("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!1,filename:t.params.invoice,"pdf-quality":3,"manual-pagination":!0,"paginate-elements-by-height":1,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"794px"}},[i("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[i("section",{staticClass:"pdf-content"},[i("div",{staticClass:"page-invoice"},[i("div",{staticClass:"invoice bg-white black-text",staticStyle:{"padding-left":"1.5cm","padding-right":"1cm","padding-top":"1cm"}},[i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("h1",[t._v("НЭХЭМЖЛЭХ")]),i("p",[t._v("ТҮМЭН ТЕХНО ХХК")]),i("p",{staticClass:"address"},[t._v("Монгол улс, Улаанбаатар хот, СБД 6-р хороо"),i("br"),t._v(" НҮБ-н гудамж, 3-35 тоот")]),i("p",{staticClass:"address"},[t._v("Утас: "),i("strong",[t._v("8630 6010")])])])]),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[i("span",{staticStyle:{"font-size":"16px"}},[i("strong",[t._v("Төлөгч байгууллага / Хувь хүн")])]),i("p",{staticStyle:{"font-size":"16px"}},[i("strong",[t._v(t._s(t.invoice.detail.company))]),t._v(" (РД: "+t._s(t.invoice.detail.register)+")")]),i("p",{staticClass:"email",staticStyle:{"margin-top":"15px","font-size":"16px"}},[t._v(t._s(t.invoice.detail.email))]),i("p",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.invoice.detail.phone))])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",[i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Нэхэмжлэхийн дугаар :")])]),i("td",{attrs:{align:"left"}},[t._v(t._s(t.params.invoice))])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Нэхэмжилсэн огноо :")])]),i("td",{staticStyle:{width:"40%"}},[void 0!==t.invoice.detail.created_at?i("span",[t._v(t._s(t.invoice.detail.created_at.split("T")[0]))]):t._e()])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Хүчинтэй огноо :")])]),i("td",{staticStyle:{width:"40%"}},[void 0!==t.invoice.detail.updated_at?i("span",[t._v(t._s(t.invoice.detail.updated_at.split("T")[0]))]):t._e()])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Төлөв :")])]),i("td",{staticStyle:{width:"40%"}},["true"==t.invoice.detail.stat?i("span",[t._v("Төлөгдсөн")]):t._e(),"false"==t.invoice.detail.stat?i("span",[t._v("Төлөгдөөгүй")]):t._e(),"half"==t.invoice.detail.stat?i("span",[t._v("Дутуу төлөгдсөн")]):t._e()])])])])]),i("div",{staticClass:"invoice-bottom"},[i("table",[i("thead",[i("tr",[i("th",[t._v("Бүтээгдэхүүн")]),i("th",[t._v("Тоо")]),i("th",[t._v("Үнэ")]),i("th",[t._v("Нийт үнэ")])])]),i("tbody",t._l(t.invoice.product,(function(e,a){return i("tr",{key:a},[i("td",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(e.product_model))]),i("br"),t._v(t._s(e.product_name))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v(t._s(Number(e.remain).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price*e.remain).toLocaleString()))])])})),0),i("tfoot",[i("tr",{attrs:{hidden:"false"==t.invoice.detail.noat}},[i("td",{style:{"padding-top":"5px","padding-right":"0px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("Үнэ")])]),void 0!==t.invoice.detail.total_amount?i("td",{style:{"border-bottom":"none"}},[t._v(t._s(Number((t.invoice.detail.total_amount/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))]):t._e()]),i("tr",{attrs:{hidden:"false"==t.invoice.detail.noat}},[i("td",{style:{"padding-top":"5px","padding-right":"0px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("НӨАТ")])]),void 0!==t.invoice.detail.total_amount?i("td",{style:{"border-bottom":"none","padding-top":"5px"}},[t._v(t._s(Number((t.invoice.detail.total_amount-t.invoice.detail.total_amount/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))]):t._e()]),i("tr",[i("td",{style:{"padding-top":"5px","padding-right":"0px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("Нийт үнэ")])]),void 0!==t.invoice.detail.total_amount?i("td",{style:{"padding-top":"5px"}},[i("strong",[t._v(t._s(Number(t.invoice.detail.total_amount.toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])]):t._e()])])]),i("div",{staticClass:"legalcopy mt-10"},[i("p",{staticClass:"legal box grow mr-20",style:{"margin-top":"-"+t.margin+"px"}},[i("strong",[t._v("Дансны мэдээлэл!")]),i("table",{staticClass:"note"},[i("tr",[i("td",[t._v(" Хүлээн авагч ")]),i("td",[t._v(" ТҮМЭН ТЕХНО ХХК ")])]),i("tr",[i("td",[t._v(" Регистрийн дугаар ")]),i("td",[t._v(" 2090562 ")])]),i("tr",[i("td",[t._v(" Хаан банк ")]),i("td",[t._v(" 5427046456 ")])])]),i("br"),i("br"),i("br"),i("strong",[t._v("Биднийг сонгосонд баярлалаа. ")]),t._v(" Танд амжилт хүсье! ")])])]),i("div",{staticClass:"mt-20",attrs:{align:"center"}},[i("img",{staticStyle:{width:"180px",height:"auto","vertical-align":"middle"},attrs:{src:a("7d33"),alt:"stamp",hidden:!t.invoice.stamp}}),i("div",{staticStyle:{height:"70px"},attrs:{hidden:t.invoice.stamp}}),i("div",{staticStyle:{"font-size":"14px","margin-top":"-45px"},attrs:{id:"stamp-text"}},[i("span",{staticStyle:{"margin-right":"100px"}},[t._v("НЯГТЛАН БОДОГЧ")]),i("span",[t._v("Р.НОРОВБАДАМ")])])])])])])])]),i("div",{staticClass:"toolbar",staticStyle:{"margin-top":"20px"}},[i("el-button",{staticClass:"animated fadeInRight",attrs:{type:"primary",plain:"",size:"small"},on:{click:t.toPdf}},[i("i",{staticClass:"mdi mdi-download"}),t._v(" Татах")]),i("el-button",{staticClass:"animated fadeInRight",attrs:{plain:"",size:"small"},on:{click:t.print}},[i("i",{staticClass:"mdi mdi-printer"}),t._v(" Хэвлэх")]),i("el-button",{attrs:{icon:"el-icon-setting",size:"small",circle:""},on:{click:function(e){t.modals.setting=!0}}})],1),i("div",{staticClass:"invoice bg-white black-text",staticStyle:{"padding-left":"1.5cm","padding-right":"1cm","padding-top":"1cm"}},[t._m(0),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[t._m(1),i("p",{staticStyle:{"font-size":"16px"}},[i("strong",[t._v(t._s(t.invoice.detail.company))]),t._v(" (РД: "+t._s(t.invoice.detail.register)+")")]),i("p",{staticClass:"email",staticStyle:{"margin-top":"15px","font-size":"16px"}},[t._v(t._s(t.invoice.detail.email))]),i("p",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.invoice.detail.phone))])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",[i("tr",[t._m(2),i("td",{attrs:{align:"left"}},[t._v(t._s(t.params.invoice))])]),i("tr",[t._m(3),i("td",{staticStyle:{width:"40%"}},[void 0!==t.invoice.detail.created_at?i("span",[t._v(t._s(t.invoice.detail.created_at.split("T")[0]))]):t._e()])]),i("tr",[t._m(4),i("td",{staticStyle:{width:"40%"}},[void 0!==t.invoice.detail.updated_at?i("span",[t._v(t._s(t.invoice.detail.updated_at.split("T")[0]))]):t._e()])]),i("tr",[t._m(5),i("td",{staticStyle:{width:"40%"}},["true"==t.invoice.detail.stat?i("span",[t._v("Төлөгдсөн")]):t._e(),"false"==t.invoice.detail.stat?i("span",[t._v("Төлөгдөөгүй")]):t._e(),"half"==t.invoice.detail.stat?i("span",[t._v("Дутуу төлөгдсөн")]):t._e()])])])])]),i("div",{staticClass:"invoice-bottom"},[i("table",[t._m(6),i("tbody",t._l(t.invoice.product,(function(e,a){return i("tr",{key:a},[i("td",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(e.product_model))]),i("br"),t._v(t._s(e.product_name))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v(t._s(Number(e.remain).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price*e.remain).toLocaleString()))])])})),0),i("tfoot",[i("tr",{attrs:{hidden:"false"==t.invoice.detail.noat}},[i("td",{style:{"padding-top":"5px","padding-right":"0px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("Үнэ")])]),void 0!==t.invoice.detail.total_amount?i("td",{style:{"border-bottom":"none"}},[t._v(t._s(Number((t.invoice.detail.total_amount/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))]):t._e()]),i("tr",{attrs:{hidden:"false"==t.invoice.detail.noat}},[i("td",{style:{"padding-top":"5px","padding-right":"0px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("НӨАТ")])]),void 0!==t.invoice.detail.total_amount?i("td",{style:{"border-bottom":"none","padding-top":"5px"}},[t._v(t._s(Number((t.invoice.detail.total_amount-t.invoice.detail.total_amount/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))]):t._e()]),i("tr",[i("td",{style:{"padding-top":"5px","padding-right":"0px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("Нийт үнэ")])]),void 0!==t.invoice.detail.total_amount?i("td",{style:{"padding-top":"5px"}},[i("strong",[t._v(t._s(Number(t.invoice.detail.total_amount.toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])]):t._e()])])]),i("div",{staticClass:"legalcopy mt-10"},[i("p",{staticClass:"legal box grow mr-20",style:{"margin-top":"-"+t.margin+"px"}},[i("strong",[t._v("Дансны мэдээлэл!")]),t._m(7),i("br"),i("br"),i("br"),i("strong",[t._v("Биднийг сонгосонд баярлалаа. ")]),t._v(" Танд амжилт хүсье! ")])])]),i("div",{staticClass:"mt-20",attrs:{align:"center"}},[i("img",{staticStyle:{width:"180px",height:"auto","vertical-align":"middle"},attrs:{src:a("7d33"),alt:"stamp",hidden:!t.invoice.stamp}}),i("div",{staticStyle:{height:"70px"},attrs:{hidden:t.invoice.stamp}}),t._m(8)])]),i("el-dialog",{attrs:{title:"Тохиргоо",visible:t.modals.setting,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"setting",e)}}},[i("div",{staticStyle:{"padding-left":"20%"},attrs:{align:"left"}},[i("el-switch",{attrs:{"inactive-text":"Тамга харуулах"},model:{value:t.invoice.stamp,callback:function(e){t.$set(t.invoice,"stamp",e)},expression:"invoice.stamp"}}),i("br")],1)])],1)},Pr=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("p",{staticStyle:{"font-size":"2.2em","font-weight":"500"}},[t._v("НЭХЭМЖЛЭХ")]),i("p",{staticClass:"address"},[t._v("Монгол улс, Улаанбаатар хот, СБД 6-р хороо"),i("br"),t._v(" НҮБ-н гудамж, 3-35 тоот")]),i("p",{staticClass:"address",staticStyle:{"margin-top":"7px","font-size":"12px"}},[t._v("Утас: "),i("strong",[t._v("8630 6010")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"font-size":"16px"}},[a("strong",[t._v("Төлөгч байгууллага / Хувь хүн")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Нэхэмжлэхийн дугаар :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Нэхэмжилсэн огноо :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Хүчинтэй огноо :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Төлөв :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Бүтээгдэхүүн")]),a("th",[t._v("Тоо")]),a("th",[t._v("Үнэ")]),a("th",[t._v("Нийт үнэ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"note"},[a("tr",[a("td",[t._v(" Хүлээн авагч ")]),a("td",[t._v(" ТҮМЭН ТЕХНО ХХК ")])]),a("tr",[a("td",[t._v(" Регистрийн дугаар ")]),a("td",[t._v(" 2090562 ")])]),a("tr",[a("td",[t._v(" Хаан банк ")]),a("td",[t._v(" 5427046456 ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"font-size":"14px","margin-top":"-45px"},attrs:{id:"stamp-text"}},[a("span",{staticStyle:{"margin-right":"100px"}},[t._v("НЯГТЛАН БОДОГЧ")]),a("span",[t._v("Р.НОРОВБАДАМ")])])}],jr=a("1232"),Nr={components:{VueHtml2pdf:Ie["a"]},data:function(){return{modals:{setting:!1},loading:!1,params:{email:"",invoice:""},invoice:{stamp:!0,detail:"",product:""}}},computed:{margin:function(){return"true"==this.invoice.detail.noat?50:20}},mounted:function(){var t=this.$route.query.token,e=Object(jr["a"])(t);this.params.email=e.email,this.params.invoice=e.invoiceNumber,this.getInvoice()},methods:{toPdf:function(){this.$refs.html2Pdf.generatePdf()},print:function(){window.print()},getInvoice:function(){this.loading=!0;var t=this;this.$axios({method:"post",url:t.$appUrl+"/api/invoice/get-client-invoice",headers:{},data:{invoice:this.params.invoice,email:this.params.email}}).then((function(e){t.loading=!1,"success"==e.data.result?(t.invoice.detail=e.data.invoice,t.invoice.product=e.data.product):t.$router.push("/not-found")})).catch((function(e){t.loading=!1,console.log(e)}))}}},Rr=Nr,Ar=(a("02d0"),Object(x["a"])(Rr,Or,Pr,!1,null,"6429ac82",null)),Mr=Ar.exports,qr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-invoice scrollable"},[i("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!1,filename:t.params.offer,"pdf-quality":3,"manual-pagination":!0,"paginate-elements-by-height":1,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"794px"}},[i("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[i("section",{staticClass:"pdf-content"},[i("div",{staticClass:"page-invoice"},[i("div",{staticClass:"invoice bg-white black-text",staticStyle:{"padding-left":"1.5cm","padding-right":"1cm","padding-top":"1cm"}},[i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("p",{staticStyle:{"font-size":"2.2em","font-weight":"500"}},[t._v("ҮНИЙН САНАЛ")]),i("p",{staticClass:"address",staticStyle:{"margin-top":"7px","font-size":"12px"}},[t._v("Монгол улс, Улаанбаатар хот, СБД 6-р хороо"),i("br"),t._v(" НҮБ-н гудамж, 3-35 тоот")]),i("p",{staticClass:"address",staticStyle:{"margin-top":"7px","font-size":"12px"}},[t._v("Утас: "),i("strong",[t._v("8630 6010")])])])]),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[i("span",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v("Төлөгч байгууллага / Хувь хүн")])]),i("p",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(t.offer.detail.company))]),t._v(" (РД: "+t._s(t.offer.detail.register)+")")]),i("p",{staticClass:"email",staticStyle:{"margin-top":"15px","font-size":"14px"}},[t._v(t._s(t.offer.detail.email))]),i("p",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.offer.detail.phone))])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",[i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Үнийн саналын дугаар :")])]),i("td",{attrs:{align:"left"}},[t._v(t._s(t.params.offer))])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Үүсгэсэн огноо :")])]),i("td",{staticStyle:{width:"40%"}},[void 0!==t.offer.detail.created_at?i("span",[t._v(t._s(t.offer.detail.created_at.split("T")[0]))]):t._e()])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Хүчинтэй огноо :")])]),i("td",{staticStyle:{width:"40%"}},[void 0!==t.offer.detail.updated_at?i("span",[t._v(t._s(t.offer.detail.updated_at.split("T")[0]))]):t._e()])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Нийлүүлэх хугацаа :")])]),i("td",{staticStyle:{width:"40%"}},[t._v(" "+t._s(t.offer.detail.available_date)+" хоног ")])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Урьдчилгаа төлбөр :")])]),i("td",{staticStyle:{width:"40%"}},[t._v(" "+t._s(t.offer.detail.pre_amount)+"% ")])])])])]),i("div",{staticClass:"invoice-bottom"},[i("table",[i("thead",[i("tr",[i("th",[t._v("Бүтээгдэхүүн")]),i("th",[t._v("Тоо")]),i("th",[t._v("Үнэ")]),i("th",[t._v("Нийт үнэ")])])]),i("tbody",t._l(t.offer.product,(function(e,a){return i("tr",{key:a},[i("td",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(e.product_name))]),i("br"),i("span",{staticStyle:{"font-size":"11px"}},[t._v(t._s(e.description))])]),i("td",{staticStyle:{"font-size":"14px"}},[t._v(t._s(Number(e.remain).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price*e.remain).toLocaleString()))])])})),0),i("tfoot",[i("tr",{attrs:{hidden:"false"==t.offer.detail.noat}},[i("td",{style:{"border-bottom":"none","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[t._v("Үнэ")]),void 0!==t.offer.detail.total_amount?i("td",{style:{"border-bottom":"none"}},[t._v(t._s(Number((t.offer.detail.total_amount/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))]):t._e()]),i("tr",{attrs:{hidden:"false"==t.offer.detail.noat}},[i("td",{style:{"border-bottom":"none","padding-top":"5px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[t._v("НӨАТ")]),void 0!==t.offer.detail.total_amount?i("td",{style:{"border-bottom":"none","padding-top":"5px"}},[t._v(t._s(Number((t.offer.detail.total_amount-t.offer.detail.total_amount/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))]):t._e()]),i("tr",[i("td",{style:{"padding-top":"5px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("Нийт үнэ")])]),void 0!==t.offer.detail.total_amount?i("td",{style:{"padding-top":"5px"}},[i("strong",[t._v(t._s(Number((t.offer.detail.total_amount/1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])]):t._e()])])]),i("div",{staticClass:"legalcopy mt-10"},[i("p",{staticClass:"legal box grow mr-20 mt-0"},[i("strong",[t._v("Биднийг сонгосонд баярлалаа. ")]),t._v(" Танд амжилт хүсье! ")])])]),i("div",{staticClass:"mt-20",attrs:{align:"center"}},[i("img",{staticStyle:{width:"180px",height:"auto","vertical-align":"middle"},attrs:{src:a("7d33"),alt:"stamp",hidden:!t.offer.stamp}}),i("div",{staticStyle:{height:"70px"},attrs:{hidden:t.offer.stamp}}),i("div",{staticStyle:{"font-size":"14px","margin-top":"-45px"},attrs:{id:"stamp-text"}},[i("span",{staticStyle:{"margin-right":"100px"}},[t._v("НЯГТЛАН БОДОГЧ")]),i("span",[t._v("Р.НОРОВБАДАМ")])])])])])])])]),i("div",{staticClass:"toolbar",staticStyle:{"margin-top":"20px"}},[i("el-button",{staticClass:"animated fadeInRight",attrs:{type:"primary",plain:"",size:"small"},on:{click:t.toPdf}},[i("i",{staticClass:"mdi mdi-download"}),t._v(" Татах")]),i("el-button",{staticClass:"animated fadeInRight",attrs:{plain:"",size:"small"},on:{click:t.print}},[i("i",{staticClass:"mdi mdi-printer"}),t._v(" Хэвлэх")]),i("el-button",{attrs:{icon:"el-icon-setting",size:"small",circle:""},on:{click:function(e){t.modals.setting=!0}}})],1),i("div",{staticClass:"invoice bg-white black-text",staticStyle:{"padding-left":"1.5cm","padding-right":"1cm","padding-top":"1cm"}},[t._m(0),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[t._m(1),i("p",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(t.offer.detail.company))]),t._v(" (РД: "+t._s(t.offer.detail.register)+")")]),i("p",{staticClass:"email",staticStyle:{"margin-top":"15px","font-size":"14px"}},[t._v(t._s(t.offer.detail.email))]),i("p",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.offer.detail.phone))])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",[i("tr",[t._m(2),i("td",{attrs:{align:"left"}},[t._v(t._s(t.params.offer))])]),i("tr",[t._m(3),i("td",{staticStyle:{width:"40%"}},[void 0!==t.offer.detail.created_at?i("span",[t._v(t._s(t.offer.detail.created_at.split("T")[0]))]):t._e()])]),i("tr",[t._m(4),i("td",{staticStyle:{width:"40%"}},[void 0!==t.offer.detail.updated_at?i("span",[t._v(t._s(t.offer.detail.updated_at.split("T")[0]))]):t._e()])]),i("tr",[t._m(5),i("td",{staticStyle:{width:"40%"}},[t._v(" "+t._s(t.offer.detail.available_date)+" хоног ")])]),i("tr",[t._m(6),i("td",{staticStyle:{width:"40%"}},[t._v(" "+t._s(t.offer.detail.pre_amount)+"% ")])])])])]),i("div",{staticClass:"invoice-bottom"},[i("table",[t._m(7),i("tbody",t._l(t.offer.product,(function(e,a){return i("tr",{key:a},[i("td",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(e.product_name))]),i("br"),i("span",{staticStyle:{"font-size":"11px"}},[t._v(t._s(e.description))])]),i("td",{staticClass:"pImage"},[i("i",{staticClass:"el-icon-picture-outline",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.showBigImage(e)}}})]),i("td",{staticStyle:{"font-size":"14px"}},[t._v(t._s(Number(e.remain).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price*e.remain).toLocaleString()))])])})),0),i("tfoot",[i("tr",{attrs:{hidden:"false"==t.offer.detail.noat}},[i("td",{style:{"border-bottom":"none","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[t._v("Үнэ")]),void 0!==t.offer.detail.total_amount?i("td",{style:{"border-bottom":"none"}},[t._v(t._s(Number((t.offer.detail.total_amount/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))]):t._e()]),i("tr",{attrs:{hidden:"false"==t.offer.detail.noat}},[i("td",{style:{"border-bottom":"none","padding-top":"5px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[t._v("НӨАТ")]),void 0!==t.offer.detail.total_amount?i("td",{style:{"border-bottom":"none","padding-top":"5px"}},[t._v(t._s(Number((t.offer.detail.total_amount-t.offer.detail.total_amount/1.1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))]):t._e()]),i("tr",[i("td",{style:{"padding-top":"5px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("Нийт үнэ")])]),void 0!==t.offer.detail.total_amount?i("td",{style:{"padding-top":"5px"}},[i("strong",[t._v(t._s(Number((t.offer.detail.total_amount/1).toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])]):t._e()])])]),t._m(8)]),i("div",{staticClass:"mt-20",attrs:{align:"center"}},[i("img",{staticStyle:{width:"180px",height:"auto","vertical-align":"middle"},attrs:{src:a("7d33"),alt:"stamp",hidden:!t.offer.stamp}}),i("div",{staticStyle:{height:"70px"},attrs:{hidden:t.offer.stamp}}),t._m(9)])]),i("div",{staticClass:"demo-image__preview"},[i("el-image",{ref:"bigImage",staticStyle:{width:"100px",height:"100px"},attrs:{hidden:"",id:"bigImage",src:"https://api.hurdanhuruu.mn/images/race/default.jpeg","preview-src-list":t.bigImageSource}})],1),i("el-dialog",{attrs:{title:"Тохиргоо",visible:t.modals.setting,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"setting",e)}}},[i("div",{staticStyle:{"padding-left":"20%"},attrs:{align:"left"}},[i("el-switch",{attrs:{"inactive-text":"Тамга харуулах"},model:{value:t.offer.stamp,callback:function(e){t.$set(t.offer,"stamp",e)},expression:"offer.stamp"}}),i("br")],1)])],1)},Fr=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("p",{staticStyle:{"font-size":"2.2em","font-weight":"500"}},[t._v("ҮНИЙН САНАЛ")]),i("p",{staticClass:"address",staticStyle:{"margin-top":"7px","font-size":"12px"}},[t._v("Монгол улс, Улаанбаатар хот, СБД 6-р хороо"),i("br"),t._v(" НҮБ-н гудамж, 3-35 тоот")]),i("p",{staticClass:"address",staticStyle:{"margin-top":"7px","font-size":"12px"}},[t._v("Утас: "),i("strong",[t._v("8630 6010")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"font-size":"14px"}},[a("strong",[t._v("Төлөгч байгууллага / Хувь хүн")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Үнийн саналын дугаар :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Үүсгэсэн огноо :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Хүчинтэй огноо :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Нийлүүлэх хугацаа :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[a("strong",[t._v("Урьдчилгаа төлбөр :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Бүтээгдэхүүн")]),a("th",{staticClass:"pImage"}),a("th",[t._v("Тоо")]),a("th",[t._v("Үнэ")]),a("th",[t._v("Нийт үнэ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"legalcopy mt-10"},[a("p",{staticClass:"legal box grow mr-20 mt-0"},[a("strong",[t._v("Биднийг сонгосонд баярлалаа. ")]),t._v(" Танд амжилт хүсье! ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"font-size":"14px","margin-top":"-45px"},attrs:{id:"stamp-text"}},[a("span",{staticStyle:{"margin-right":"100px"}},[t._v("НЯГТЛАН БОДОГЧ")]),a("span",[t._v("Р.НОРОВБАДАМ")])])}],Hr={components:{VueHtml2pdf:Ie["a"]},data:function(){return{params:{email:"",offer:""},offer:{stamp:!0,detail:[],product:[]},modals:{setting:!1},loading:!1,bigImageSource:[""]}},mounted:function(){var t=this.$route.query.token,e=Object(jr["a"])(t);this.params.email=e.email,this.params.offer=e.offerNumber,this.getInvoice()},methods:{showBigImage:function(t){if(1==t.image_type)this.bigImageSource=[this.$imgUrl+t.image,this.$imgUrl+t.image1,this.$imgUrl+t.image2,this.$imgUrl+t.image3];else{var e=this.$appUrl+"/images/local/offer/";this.bigImageSource=[e+t.image,e+t.image1,e+t.image2,e+t.image3]}var a=document.getElementById("bigImage");a.click()},toPdf:function(){this.$refs.html2Pdf.generatePdf()},print:function(){window.print()},getInvoice:function(){this.loading=!0;var t=this;this.$axios({method:"post",url:t.$appUrl+"/api/offer/get-client-offer",headers:{},data:{offer:this.params.offer,email:this.params.email}}).then((function(e){t.loading=!1,"success"==e.data.result?(t.offer.detail=e.data.invoice,t.offer.product=e.data.product):t.$router.push("/not-found")})).catch((function(e){t.loading=!1,console.log(e)}))}}},Wr=Hr,Gr=(a("ad64"),Object(x["a"])(Wr,qr,Fr,!1,null,"6030d6ae",null)),Zr=Gr.exports,Jr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Зарлагын баримтууд")])],1)],1)]),a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.datePickerChanged},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}})],1),a("el-input",{style:{width:"20%"},attrs:{placeholder:"Баримтын дугаар ...","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchOrder(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"page-ecommerce-dashboard scrollable",style:{"max-height":"87%"}},[a("div",{staticClass:"table-box card-base card-outline",style:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover"},[t._m(0),a("tbody",t._l(t.invoices,(function(e,i){return a("tr",{key:i,style:{cursor:"pointer"}},[a("td",{on:{click:function(a){return t.goOrder(e.expend_number)}}},[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/user/"+e.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.username))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.userphone))])])])]),a("td",{on:{click:function(a){return t.goOrder(e.expend_number)}}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.date.replaceAll("T"," ").replaceAll(".000Z","")))])])]),a("td",{on:{click:function(a){return t.goOrder(e.expend_number)}}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.expend_number))])])]),a("td",{on:{click:function(a){return t.goOrder(e.expend_number)}}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.company))]),a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.email))])])]),a("td",[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",circle:""},on:{click:function(a){return t.deleteExpend(e.expend_number,i)}}})],1)])})),0)])])])])},Vr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Ажилтан")]),a("th",[t._v("Үүсгэсэн огноо")]),a("th",[t._v("Захиалгын дугаар")]),a("th",[t._v("Төлөгч байгууллага")]),a("th"),a("th")])])}],Yr=(new $e.a,{name:"Order",data:function(){return{dataTimeRange:null,search:"",gridData:[],invoices:[],loading:!1}},methods:{deleteExpend:function(t,e){var a=this,i=JSON.parse(localStorage.user);this.$confirm("<b>".concat(t,"</b> зарлагын баримтыг устгахдаа итгэлтэй байна уу?"),"Анхааруулга",{confirmButtonText:"Тийм",cancelButtonText:"Үгүй",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){var s=a;a.loading=!0;var o=localStorage.getItem("token");o&&a.$axios({method:"post",url:s.$appUrl+"/api/expend/delete-expend",headers:{Authorization:"Bearer ".concat(o)},data:{expendNumber:t,role:i.posID}}).then((function(t){s.loading=!1,"success"==t.data.result&&s.invoices.splice(e,1)})).catch((function(t){s.loading=!1,console.log(t)}))}))},goOrder:function(t){this.$router.push({name:"expend",params:{id:t}})},datePickerChanged:function(t){if(null!=t){var e=Object(za["a"])(Object(za["a"])({},this.$route.query),{},{start:t[0],end:t[1]});this.$router.replace({query:e})}else this.dataTimeRange=t;this.getOrders(t)},getOrders:function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/expend/get-expends",headers:{Authorization:"Bearer ".concat(a)},data:{datetime:t}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.invoices=t.data.invoices)})).catch((function(t){e.loading=!1,console.log(t)}))},searchOrder:function(){if(""!==this.search){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/expend/search-expend",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:this.search}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.invoices=e.data.invoice)})).catch((function(e){t.loading=!1,console.log(e)}))}}},mounted:function(){var t=this.$route.query;void 0!=t.start&&void 0!=t.end&&(this.dataTimeRange=[t.start,t.end]),this.getOrders(this.dataTimeRange)},components:{Grid:Ta["Grid"]}}),Xr=Yr,Qr=(a("bedf"),Object(x["a"])(Xr,Jr,Vr,!1,null,null,null)),Kr=Qr.exports,tn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Илгээсэн зарлагын баримтууд")])],1)],1)]),a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.datePickerChanged},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}})],1),a("el-input",{style:{width:"20%"},attrs:{placeholder:"Баримтын дугаар ...","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchOrder(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("div",{staticClass:"page-ecommerce-dashboard scrollable",style:{"max-height":"87%"}},[a("div",{staticClass:"table-box card-base card-outline",style:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover"},[t._m(0),a("tbody",t._l(t.invoices,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"}},[a("td",{on:{click:function(a){return t.goOrder(e.expend_number)}}},[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/user/"+e.img}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.username))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.userphone))])])])]),a("td",{on:{click:function(a){return t.goOrder(e.expend_number)}}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.created_at.replaceAll("T"," ").replaceAll(".000Z","")))])])]),a("td",{on:{click:function(a){return t.goOrder(e.expend_number)}}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.expend_number))])])]),a("td",{on:{click:function(a){return t.goOrder(e.expend_number)}}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.company))]),a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.email))])])]),a("td",[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",circle:""}})],1)])})),0)])])])])},en=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Ажилтан")]),a("th",[t._v("Үүсгэсэн огноо")]),a("th",[t._v("Захиалгын дугаар")]),a("th",[t._v("Төлөгч байгууллага")]),a("th"),a("th")])])}],an=(new $e.a,{name:"Order",data:function(){return{dataTimeRange:null,search:"",gridData:[],invoices:[],loading:!1}},methods:{goOrder:function(t){this.$router.push({name:"expend",params:{id:t}})},datePickerChanged:function(t){this.getOrders(t)},getOrders:function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/expend/get-sent-expend",headers:{Authorization:"Bearer ".concat(a)},data:{datetime:t}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.invoices=t.data.invoices)})).catch((function(t){e.loading=!1,console.log(t)}))},searchOrder:function(){if(""!==this.search){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/expend/search-expend",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:this.search}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.invoices=e.data.invoice)})).catch((function(e){t.loading=!1,console.log(e)}))}}},mounted:function(){this.getOrders(this.dataTimeRange)},components:{Grid:Ta["Grid"]}}),sn=an,on=(a("c1ca"),Object(x["a"])(sn,tn,en,!1,null,null,null)),rn=on.exports,nn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-invoice scrollable"},[i("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!1,filename:t.invoiceNumber,"pdf-quality":3,"manual-pagination":!0,"paginate-elements-by-height":1,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"794px"}},[i("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[i("section",{staticClass:"pdf-content"},[i("div",{staticClass:"page-invoice"},[i("div",{staticClass:"invoice bg-white black-text",staticStyle:{"padding-left":"1.5cm","padding-right":"1cm","padding-top":"1cm"}},[i("div",{staticClass:"mb-30",staticStyle:{position:"relative"}},[i("p",{staticClass:"page-header",staticStyle:{"font-size":"12px"}},[i("strong",[t._v("НХМаягт БМ-3")])]),i("p",{staticClass:"page-header",staticStyle:{"font-size":"12px","line-height":"normal",right:"0"}},[t._v("Сангийн сайдын 2017 оны 12 дугаар сарын 5"),i("br"),t._v("өдрийн 347 тоот тушаалын хавсралт")])]),i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("p",{staticStyle:{"font-size":"2.2em","font-weight":"500"}},[t._v("ЗАРЛАГЫН БАРИМТ")]),i("table",{staticStyle:{"line-height":"normal","margin-top":"7px","font-size":"14px"}},[i("tr",[i("td",[i("strong",[t._v("Баримтын дугаар: ")])]),i("td",[t._v(t._s(t.invoiceNumber))])]),i("tr",[i("td",[i("strong",[t._v("Гаргасан огноо: ")])]),void 0!==t.invoiceTo.date?i("td",[t._v(t._s(t.invoiceTo.date.split("T")[0]))]):t._e()])])])]),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[i("table",{staticStyle:{"line-height":"normal","margin-top":"10px"}},[i("tr",[i("td",{staticStyle:{color:"grey"}},[i("strong",[t._v("Байгууллага")])]),i("td")]),i("tr",[i("td",[i("strong",[t._v("Байгууллагын нэр: ")])]),i("td",[t._v("ТҮМЭН ТЕХНО ХХК")])]),i("tr",[i("td",[i("strong",[t._v("Регистрийн дугаар: ")])]),i("td",[t._v("2090562")])])])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",{staticStyle:{"line-height":"normal","margin-top":"10px","margin-right":"40px"}},[i("tr",[i("td",{staticStyle:{color:"grey"},attrs:{colspan:"2",align:"right"}},[i("strong",[t._v("Төлөгч байгууллага / Хувь хүн")])])]),i("tr",[i("td",[i("strong",[t._v("Байгууллагын нэр: ")])]),i("td",{attrs:{align:"right"}},[t._v(t._s(t.invoiceTo.company))])]),i("tr",[i("td",[i("strong",[t._v("Регистрийн дугаар: ")])]),i("td",{attrs:{align:"right"}},[t._v(t._s(t.invoiceTo.register))])])])])]),i("div",{staticClass:"invoice-bottom"},[i("table",[i("thead",[i("tr",[i("th",[t._v("Бүтээгдэхүүн")]),i("th",[t._v("Тоо")]),i("th",[t._v("Үнэ")]),i("th",[t._v("Нийт үнэ")])])]),i("tbody",t._l(t.products,(function(e,a){return i("tr",{key:a},[i("td",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(e.product_name))]),i("br"),i("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.product_model))])]),i("td",{staticStyle:{"font-size":"14px"}},[t._v(t._s(Number(e.remain).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price*e.remain).toLocaleString()))])])})),0),i("tfoot",[i("tr",[i("td",{style:{"padding-top":"5px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("Нийт үнэ")])]),i("td",{style:{"padding-top":"5px"}},[i("strong",[t._v("₮"+t._s(Number(t.amount_text.toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])])])])]),i("div",{staticClass:"legalcopy mt-10"},[i("p",{staticClass:"legal box grow mr-20 mt-0"},[i("strong",[t._v("Биднийг сонгосонд баярлалаа. ")]),t._v(" Танд амжилт хүсье! ")])])]),i("div",{staticClass:"mt-20",attrs:{align:"center"}},[i("div",{staticStyle:{height:"50px"}}),i("img",{staticStyle:{width:"180px",height:"auto","vertical-align":"middle"},attrs:{src:a("7d33"),alt:"stamp",hidden:!t.switchs.stamp}}),i("div",{staticStyle:{height:"70px"},attrs:{hidden:t.switchs.stamp}}),i("table",{staticStyle:{"margin-top":"-100px","font-size":"14px"}},[i("tr",[i("td",[t._v(" Хүлээлгэн өгсөн эд хариуцагч")]),i("td",{staticStyle:{width:"70px"}}),i("td",[t._v(" / Т. Баярцэцэг")]),i("td",[t._v("/")])]),i("tr",[i("td",[t._v(" Хүлээн авагч")]),i("td",{staticStyle:{width:"70px"}}),i("td",[t._v(" /")]),i("td",[t._v("/")])]),i("tr",[i("td",[t._v(" Шалгасан нягтлан бодогч")]),i("td",{staticStyle:{width:"70px"}}),i("td",[t._v(" / П. Лхагвацэцэг")]),i("td",[t._v("/")])])])])])])])])]),i("div",{staticClass:"toolbar"},[i("el-button",{staticClass:"animated fadeInRight",attrs:{type:"warning",plain:"",size:"small"},on:{click:t.toSend}},[i("i",{staticClass:"mdi mdi-email-send"}),t._v(" Илгээх")]),i("el-button",{staticClass:"animated fadeInRight",attrs:{type:"primary",plain:"",size:"small"},on:{click:t.toPdf}},[i("i",{staticClass:"mdi mdi-download"}),t._v(" Татах")]),i("el-button",{staticClass:"animated fadeInRight",attrs:{plain:"",size:"small"},on:{click:t.print}},[i("i",{staticClass:"mdi mdi-printer"}),t._v(" Хэвлэх")]),i("el-button",{attrs:{icon:"el-icon-setting",size:"small",circle:""},on:{click:function(e){t.modals.setting=!0}}})],1),i("div",{staticClass:"invoice bg-white black-text",staticStyle:{"padding-left":"1.5cm","padding-right":"1cm","padding-top":"1cm"}},[t._m(0),i("div",{staticClass:"invoice-top"},[t._m(1),i("div",{staticClass:"title",attrs:{align:"right"}},[i("p",{staticStyle:{"font-size":"2.2em","font-weight":"500"}},[t._v("ЗАРЛАГЫН БАРИМТ")]),i("table",{staticStyle:{"line-height":"normal","margin-top":"7px","font-size":"14px"}},[i("tr",[t._m(2),i("td",[t._v(t._s(t.invoiceNumber))])]),i("tr",[t._m(3),void 0!==t.invoiceTo.date?i("td",[t._v(t._s(t.invoiceTo.date.split("T")[0]))]):t._e()])])])]),i("hr"),i("div",{staticClass:"invoice-middle"},[t._m(4),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",{staticStyle:{"line-height":"normal","margin-top":"10px","margin-right":"40px"}},[t._m(5),i("tr",[t._m(6),i("td",{attrs:{align:"right"}},[t._v(t._s(t.invoiceTo.company))])]),i("tr",[t._m(7),i("td",{attrs:{align:"right"}},[t._v(t._s(t.invoiceTo.register))])])])])]),i("div",{staticClass:"invoice-bottom"},[i("table",[t._m(8),i("tbody",t._l(t.products,(function(e,a){return i("tr",{key:a},[i("td",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(e.product_name))]),i("br"),i("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.product_model))])]),i("td",{staticStyle:{"font-size":"14px"}},[t._v(t._s(Number(e.remain).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price*e.remain).toLocaleString()))])])})),0),i("tfoot",[i("tr",[i("td",{style:{"padding-top":"5px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("Нийт үнэ")])]),i("td",{style:{"padding-top":"5px"}},[i("strong",[t._v("₮"+t._s(Number(t.amount_text.toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])])])])]),t._m(9)]),i("div",{staticClass:"mt-20",attrs:{align:"center"}},[i("div",{staticStyle:{height:"50px"}}),i("img",{staticStyle:{width:"180px",height:"auto","vertical-align":"middle"},attrs:{src:a("7d33"),alt:"stamp",hidden:!t.switchs.stamp}}),i("div",{staticStyle:{height:"70px"},attrs:{hidden:t.switchs.stamp}}),t._m(10)])]),i("el-dialog",{attrs:{title:"Тохиргоо",visible:t.modals.setting,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"setting",e)}}},[i("div",{staticStyle:{"padding-left":"20%"},attrs:{align:"left"}},[i("el-switch",{attrs:{"inactive-text":"Тамга харуулах"},model:{value:t.switchs.stamp,callback:function(e){t.$set(t.switchs,"stamp",e)},expression:"switchs.stamp"}}),i("br")],1)])],1)},ln=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-30",staticStyle:{position:"relative"}},[a("p",{staticClass:"page-header",staticStyle:{"font-size":"12px"}},[a("strong",[t._v("НХМаягт БМ-3")])]),a("p",{staticClass:"page-header",staticStyle:{"font-size":"12px","line-height":"normal",right:"0"}},[t._v("Сангийн сайдын 2017 оны 12 дугаар сарын 5"),a("br"),t._v("өдрийн 347 тоот тушаалын хавсралт")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("2117"),alt:"logo"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Баримтын дугаар: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Гаргасан огноо: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info"},[a("table",{staticStyle:{"line-height":"normal","margin-top":"10px"}},[a("tr",[a("td",{staticStyle:{color:"grey"}},[a("strong",[t._v("Байгууллага")])]),a("td")]),a("tr",[a("td",[a("strong",[t._v("Байгууллагын нэр: ")])]),a("td",[t._v("ТҮМЭН ТЕХНО ХХК")])]),a("tr",[a("td",[a("strong",[t._v("Регистрийн дугаар: ")])]),a("td",[t._v("2090562")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{color:"grey"},attrs:{colspan:"2",align:"right"}},[a("strong",[t._v("Төлөгч байгууллага / Хувь хүн")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Байгууллагын нэр: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Регистрийн дугаар: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Бүтээгдэхүүн")]),a("th",[t._v("Тоо")]),a("th",[t._v("Үнэ")]),a("th",[t._v("Нийт үнэ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"legalcopy mt-10"},[a("p",{staticClass:"legal box grow mr-20 mt-0"},[a("strong",[t._v("Биднийг сонгосонд баярлалаа. ")]),t._v(" Танд амжилт хүсье! ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticStyle:{"margin-top":"-100px","font-size":"14px"}},[a("tr",[a("td",[t._v(" Хүлээлгэн өгсөн эд хариуцагч")]),a("td",{staticStyle:{width:"70px"}}),a("td",[t._v(" / Т. Баярцэцэг")]),a("td",[t._v("/")])]),a("tr",[a("td",[t._v(" Хүлээн авагч")]),a("td",{staticStyle:{width:"70px"}}),a("td",[t._v(" /")]),a("td",[t._v("/")])]),a("tr",[a("td",[t._v(" Шалгасан нягтлан бодогч")]),a("td",{staticStyle:{width:"70px"}}),a("td",[t._v(" / П. Лхагвацэцэг")]),a("td",[t._v("/")])])])}],cn={name:"Invoice",components:{VueHtml2pdf:Ie["a"]},data:function(){return{invoiceTo:{company:"ICBC",register:"2090562",phone:"75117733",email:"sales@icbc.mn"},products:[],invoiceNumber:"",send:!1,showStamp:!1,modals:{setting:!1},switchs:{stamp:!0,noat:!0},loading:!1}},computed:{amount:function(){return _.reduce(this.products,(function(t,e){return t+e.price*e.remain}),0)},amount_text:function(){return this.invoiceTo.total_amount=this.amount,this.amount}},mounted:function(){this.invoiceNumber=this.$route.params.id,this.getInvoice()},methods:{toSend:function(){var t=this;this.$prompt("Имэйл хаягаа оруулна уу","Зарлагын баримт илгээх",{confirmButtonText:"Илгээх",cancelButtonText:"Болих",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"Invalid Email"}).then((function(e){var a=e.value;t.loading=!0;var i=t,s=localStorage.getItem("token");s&&t.$axios({method:"post",url:i.$appUrl+"/api/expend/send-expend",headers:{Authorization:"Bearer ".concat(s)},data:{invoiceNumber:i.invoiceNumber,email:a}}).then((function(t){i.loading=!1,"success"==t.data.result&&i.$notify({title:"Амжилтай",message:"Амжилттай илгээгдлээ",type:"success"})})).catch((function(t){i.loading=!1,console.log(t)}))}))},toPdf:function(){this.$refs.html2Pdf.generatePdf()},print:function(){window.print()},getInvoice:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/expend/get-expend-done",headers:{Authorization:"Bearer ".concat(e)},data:{expendNumber:t.invoiceNumber}}).then((function(e){"success"==e.data.result&&(t.invoiceTo=e.data.invoice,t.products=e.data.product)})).catch((function(t){console.log(t)}))}}},dn=cn,un=(a("ebd9"),Object(x["a"])(dn,nn,ln,!1,null,"5fecd01d",null)),pn=un.exports,mn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"scrollable",style:{"max-height":"100%","overflow-x":"hidden","padding-left":"10px","padding-right":"10px"}},[i("el-row",{staticClass:"items mt-4",attrs:{gutter:20}},[i("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-card",{staticClass:"box-card",attrs:{align:"right"}},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.updateInvoice(0)}}},[t._v("Түр хадгалах")]),i("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){return t.updateInvoice(1)}}},[t._v("Хадгалах")])],1)],1),i("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"page-invoice"},[i("div",{staticClass:"invoice bg-white black-text"},[i("div",[i("el-row",[i("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[i("strong",[t._v("НХМаягт БМ-3")])]),i("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12,align:"right"}},[i("p",{staticStyle:{"font-size":"14px","line-height":"normal","margin-top":"0px"}},[t._v("Сангийн сайдын 2017 оны 12 дугаар сарын 5"),i("br"),t._v("өдрийн 347 тоот тушаалын хавсралт")])])],1)],1),i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo",style:{"margin-top":"2%"}},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("h1",[t._v("ЗАРЛАГЫН БАРИМТ")]),i("p",[t._v("ТҮМЭН ТЕХНО ХХК")]),i("table",[i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Баримтын дугаар :")])]),i("td",{staticStyle:{width:"40%"},attrs:{align:"left"}},[t._v(t._s(t.detail.invoiceNumber))])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Гаргасан огноо :")])]),i("td",{staticStyle:{width:"40%"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"date",placeholder:"Pick a day"},model:{value:t.invoiceTo.date,callback:function(e){t.$set(t.invoiceTo,"date",e)},expression:"invoiceTo.date"}})],1)])])])]),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[i("table",{staticStyle:{"line-height":"normal","margin-top":"10px"}},[i("tr",[i("td",{staticStyle:{color:"grey"}},[i("strong",[t._v("Байгууллага")])]),i("td")]),i("tr",[i("td",[i("strong",[t._v("Байгууллагын нэр: ")])]),i("td",[t._v("ТҮМЭН ТЕХНО ХХК")])]),i("tr",[i("td",[i("strong",[t._v("Регистрийн дугаар: ")])]),i("td",[t._v("2090562")])])])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",{staticStyle:{"line-height":"normal","margin-top":"10px","margin-right":"40px"}},[i("tr",[i("td",{staticStyle:{color:"grey"},attrs:{colspan:"2",align:"right"}},[i("strong",[t._v("Төлөгч байгууллага / Хувь хүн")])])]),i("tr",[i("td",{attrs:{colspan:"2"}},[i("div",{staticClass:"flex",style:{"margin-top":"10px","margin-bottom":"10px"}},[i("el-select",{attrs:{filterable:"",placeholder:"Төлөгч байгууллага",size:"mini"},on:{change:t.changeCompany},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.companies,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name+" ("+t.email+")",value:t.id}})})),1),i("el-button",{staticClass:"ml-10",attrs:{type:"primary",icon:"el-icon-plus",plain:"",size:"mini"},on:{click:function(e){t.modals.newClient=!0}}})],1)])]),i("tr",[i("td",[i("strong",[t._v("Байгууллагын нэр: ")])]),i("td",{attrs:{align:"right"}},[t._v(t._s(t.invoiceTo.company))])]),i("tr",[i("td",[i("strong",[t._v("Регистрийн дугаар: ")])]),i("td",{attrs:{align:"right"}},[t._v(t._s(t.invoiceTo.register))])])])])]),t._l(t.products,(function(e,a){return i("div",{key:a,staticClass:"invoice-bottom"},[i("el-button",{style:{position:"absolute",bottom:"10px",right:"10px"},attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(e){return t.removeProduct(a)}}}),i("table",[i("thead",[i("tr",[i("th",[t._v("Бүтээгдэхүүн")]),i("th",[t._v("Тоо")]),i("th",[t._v("Үнэ")]),i("th",[t._v("Нийт үнэ")])])]),i("tbody",[i("tr",[i("td",[i("el-input",{attrs:{placeholder:"Бүтээгдэхүүний модель",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProduct(a)}},model:{value:e.product_model,callback:function(a){t.$set(e,"product_model",a)},expression:"item.product_model"}})],1),i("td",[i("el-input-number",{attrs:{min:1},model:{value:e.remain,callback:function(a){t.$set(e,"remain",a)},expression:"item.remain"}})],1),i("td",{style:{width:"15%"}},[i("el-input",{attrs:{placeholder:"Бүтээгдэхүүний модель",clearable:""},model:{value:e.price,callback:function(a){t.$set(e,"price",a)},expression:"item.price"}})],1),i("td",{style:{width:"10%"}},[t._v(t._s(Number(e.price*e.remain).toLocaleString()))])]),i("tr",[i("td",[i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Бүтээгдэхүүний нэр"},model:{value:e.product_name,callback:function(a){t.$set(e,"product_name",a)},expression:"item.product_name"}})],1),i("td"),i("td"),i("td")])])])],1)})),i("div",{staticClass:"mt-20"},[i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:t.addProduct}},[t._v("Бүтээгдэхүүн нэмэх")])],1),i("div",{staticStyle:{"margin-bottom":"50px"}},[i("table",{attrs:{align:"right"}},[i("tr",[i("td",{staticClass:"Rate"},[i("h2",[t._v("Total")])]),i("td",{staticClass:"payment"},[i("h2",[t._v("₮"+t._s(t.amount_text))])])])])]),i("div",{staticClass:"legalcopy flex mt-20"},[i("p",{staticClass:"legal box grow mr-20 mt-0"},[i("strong",[t._v("Биднийг сонгосонд баярлалаа !")]),t._v(" Дараа дахин үйлчлүүлээрэй. Таны бизнест амжилт хүсье. ")])])],2)])])],1)],1)],1),i("el-dialog",{attrs:{title:"Хайлтын илэрц",visible:t.modals.result},on:{"update:visible":function(e){return t.$set(t.modals,"result",e)}}},[i("el-table",{attrs:{data:t.filteredProduct}},[i("el-table-column",{attrs:{property:"name",label:"Нэр",width:"300"}}),i("el-table-column",{attrs:{property:"model",label:"Модель",width:"200"}}),i("el-table-column",{attrs:{property:"sale_price",label:"Үнэ"}}),i("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"danger",icon:"el-icon-sell",circle:""},on:{click:function(a){return t.addToInvoice(e.row)}}})]}}])})],1)],1),i("el-dialog",{attrs:{title:"Төлөгч байгууллага бүртгэх",visible:t.modals.newClient,align:"center"},on:{"update:visible":function(e){return t.$set(t.modals,"newClient",e)}}},[i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Нэр",clearable:""},model:{value:t.newClient.name,callback:function(e){t.$set(t.newClient,"name",e)},expression:"newClient.name"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Имэйл хаяг",clearable:""},model:{value:t.newClient.email,callback:function(e){t.$set(t.newClient,"email",e)},expression:"newClient.email"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Регистр",clearable:""},model:{value:t.newClient.register,callback:function(e){t.$set(t.newClient,"register",e)},expression:"newClient.register"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Утасны дугаар",clearable:""},model:{value:t.newClient.phone,callback:function(e){t.$set(t.newClient,"phone",e)},expression:"newClient.phone"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.modals.newClient=!1}}},[t._v("Болих")]),i("el-button",{attrs:{type:"primary"},on:{click:t.saveClient}},[t._v("Хадгалах")])],1)],1)],1)},hn=[],gn={data:function(){return{newClient:{name:"",register:"",phone:"",email:""},invoiceTo:{company:"ICBC",register:"2090562",phone:"75117733",email:"sales@icbc.mn"},selected:"",companies:[],detail:{invoiceNumber:""},products:[],allproduct:[],filteredProduct:[],selectedIndex:0,modals:{result:!1,newClient:!1},status:[{label:"Төлөгдсөн",value:"true"},{label:"Төлөгдөөгүй",value:"false"},{label:"Дутуу төлөлт",value:"half"}]}},computed:{amount:function(){return _.reduce(this.products,(function(t,e){return t+e.price*e.remain}),0)},amount_text:function(){return this.invoiceTo.total_amount=this.amount,Number(this.amount).toLocaleString()}},mounted:function(){this.detail.invoiceNumber=this.$route.params.id,this.getInvoice()},methods:{updateInvoice:function(t){var e=this,a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/expend/update-expend",headers:{Authorization:"Bearer ".concat(a)},data:{to:this.invoiceTo,product:this.products,invoiceNumber:this.detail.invoiceNumber,done:t}}).then((function(a){"success"==a.data.result&&(e.$notify({title:"Амжилтай",message:"Амжилттай хадгалагдлаа",type:"success"}),1===t&&e.$router.push("/expends"))})).catch((function(t){console.log(t)}))},saveClient:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/invoice/add-new-company",headers:{Authorization:"Bearer ".concat(e)},data:{name:this.newClient.name,email:this.newClient.email,register:this.newClient.register,phone:this.newClient.phone}}).then((function(e){"success"==e.data.result?(t.companies.push(t.newClient),t.invoiceTo.company=t.newClient.name,t.invoiceTo.email=t.newClient.email,t.invoiceTo.register=t.newClient.register,t.invoiceTo.phone=t.newClient.phone,t.selected=e.data.email,t.$notify({title:"Амжилтай",message:"Амжилттай бүртгэгдлээ",type:"success"}),t.modals.newClient=!1):t.$notify({title:"Амжилтгүй",message:"Бүртгэлтэй цахим хаяг",type:"error"})})).catch((function(t){console.log(t)}))},addToInvoice:function(t){var e=this.products.some((function(e){return e.product_model==t.model}));if(e)this.products.forEach((function(e,a){e.product_model==t.model&&e.remain++}));else{var a=this.products[this.selectedIndex];a.product_name=t.name,a.product_model=t.model,a.price=t.sale_price,a.remain=1}},searchProduct:function(t){var e=this;this.selectedIndex=t;var a="";this.products.forEach((function(e,i){i==t&&(a=e.product_model)})),""!==a&&(this.filteredProduct=[],this.allproduct.forEach((function(t){t.model.toUpperCase().includes(a.toUpperCase())&&e.filteredProduct.push(t)})),this.modals.result=!0)},addProduct:function(){var t={product_name:"",product_model:"",remain:1,price:0};this.products.push(t)},removeProduct:function(t){var e=this;this.products.forEach((function(a,i){t==i&&e.products.splice(i,1)}))},changeCompany:function(t){var e=this;this.companies.forEach((function(a){a.id==t&&(e.invoiceTo.company=a.name,e.invoiceTo.register=a.register,e.invoiceTo.phone=a.phone,e.invoiceTo.email=a.email)}))},getInvoice:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/expend/get-expend",headers:{Authorization:"Bearer ".concat(e)},data:{invoiceNumber:t.detail.invoiceNumber}}).then((function(e){"success"==e.data.result&&(t.companies=e.data.companies,t.invoiceTo=e.data.invoice,t.selected=e.data.invoice.email,t.allproduct=e.data.allproduct,e.data.product.length<=0?t.addProduct():t.products=e.data.product)})).catch((function(t){console.log(t)}))}}},vn=gn,fn=(a("1921"),Object(x["a"])(vn,mn,hn,!1,null,null,null)),bn=fn.exports,_n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"scrollable",style:{"max-height":"100%","overflow-x":"hidden","padding-left":"10px","padding-right":"10px"}},[i("el-row",{staticClass:"items mt-4",attrs:{gutter:20}},[i("el-col",{staticClass:"mb-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-card",{staticClass:"box-card",attrs:{align:"right"}},[i("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){return t.$router.push("/expends")}}},[t._v("Хадгалах")])],1)],1),i("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"page-invoice"},[i("div",{staticClass:"invoice bg-white black-text"},[i("div",[i("el-row",[i("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[i("strong",[t._v("НХМаягт БМ-3")])]),i("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12,align:"right"}},[i("p",{staticStyle:{"font-size":"14px","line-height":"normal","margin-top":"0px"}},[t._v("Сангийн сайдын 2017 оны 12 дугаар сарын 5"),i("br"),t._v("өдрийн 347 тоот тушаалын хавсралт")])])],1)],1),i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo",style:{"margin-top":"2%"}},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("h1",[t._v("ЗАРЛАГЫН БАРИМТ")]),i("p",[t._v("ТҮМЭН ТЕХНО ХХК")]),i("table",[i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Баримтын дугаар :")])]),i("td",{staticStyle:{width:"40%"},attrs:{align:"left"}},[t._v(t._s(t.detail.invoiceNumber))])]),i("tr",[i("td",{staticStyle:{width:"60%","padding-right":"10px"},attrs:{align:"right"}},[i("strong",[t._v("Гаргасан огноо :")])]),i("td",{staticStyle:{width:"40%"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"mini",type:"date",placeholder:"Pick a day"},model:{value:t.invoiceTo.date,callback:function(e){t.$set(t.invoiceTo,"date",e)},expression:"invoiceTo.date"}})],1)])])])]),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[i("table",{staticStyle:{"line-height":"normal","margin-top":"10px"}},[i("tr",[i("td",{staticStyle:{color:"grey"}},[i("strong",[t._v("Байгууллага")])]),i("td")]),i("tr",[i("td",[i("strong",[t._v("Байгууллагын нэр: ")])]),i("td",[t._v("ТҮМЭН ТЕХНО ХХК")])]),i("tr",[i("td",[i("strong",[t._v("Регистрийн дугаар: ")])]),i("td",[t._v("2090562")])])])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",{staticStyle:{"line-height":"normal","margin-top":"10px","margin-right":"40px"}},[i("tr",[i("td",{staticStyle:{color:"grey"},attrs:{colspan:"2",align:"right"}},[i("strong",[t._v("Төлөгч байгууллага / Хувь хүн")])])]),i("tr",[i("td",{attrs:{colspan:"2"}},[i("div",{staticClass:"flex",style:{"margin-top":"10px","margin-bottom":"10px"}},[i("el-select",{attrs:{filterable:"",placeholder:"Төлөгч байгууллага",size:"mini"},on:{change:t.changeCompany},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.companies,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name+" ("+t.email+")",value:t.id}})})),1),i("el-button",{staticClass:"ml-10",attrs:{type:"primary",icon:"el-icon-plus",plain:"",size:"mini"},on:{click:function(e){t.modals.newClient=!0}}})],1)])]),i("tr",[i("td",[i("strong",[t._v("Байгууллагын нэр: ")])]),i("td",{attrs:{align:"right"}},[t._v(t._s(t.invoiceTo.company))])]),i("tr",[i("td",[i("strong",[t._v("Регистрийн дугаар: ")])]),i("td",{attrs:{align:"right"}},[t._v(t._s(t.invoiceTo.register))])])])])]),t._l(t.products,(function(e,a){return i("div",{key:a,staticClass:"invoice-bottom"},[i("el-button",{style:{position:"absolute",bottom:"10px",right:"10px"},attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(e){return t.removeProduct(a)}}}),i("table",[i("thead",[i("tr",[i("th",[t._v("Бүтээгдэхүүн")]),i("th",[t._v("Тоо")]),i("th",[t._v("Үнэ")]),i("th",[t._v("Нийт үнэ")])])]),i("tbody",[i("tr",[i("td",[i("el-input",{attrs:{placeholder:"Бүтээгдэхүүний модель",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProduct(a)}},model:{value:e.product_model,callback:function(a){t.$set(e,"product_model",a)},expression:"item.product_model"}})],1),i("td",[i("el-input-number",{attrs:{min:1},model:{value:e.remain,callback:function(a){t.$set(e,"remain",a)},expression:"item.remain"}})],1),i("td",{style:{width:"15%"}},[i("el-input",{attrs:{placeholder:"Бүтээгдэхүүний модель",clearable:""},model:{value:e.price,callback:function(a){t.$set(e,"price",a)},expression:"item.price"}})],1),i("td",{style:{width:"10%"}},[t._v(t._s(Number(e.price*e.remain).toLocaleString()))])]),i("tr",[i("td",[i("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Бүтээгдэхүүний нэр"},model:{value:e.product_name,callback:function(a){t.$set(e,"product_name",a)},expression:"item.product_name"}})],1),i("td"),i("td"),i("td")])])])],1)})),i("div",{staticClass:"mt-20"},[i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:t.addProduct}},[t._v("Бүтээгдэхүүн нэмэх")])],1),i("div",{staticStyle:{"margin-bottom":"50px"}},[i("table",{attrs:{align:"right"}},[i("tr",[i("td",{staticClass:"Rate"},[i("h2",[t._v("Total")])]),i("td",{staticClass:"payment"},[i("h2",[t._v("₮"+t._s(t.amount_text))])])])])]),i("div",{staticClass:"legalcopy flex mt-20"},[i("p",{staticClass:"legal box grow mr-20 mt-0"},[i("strong",[t._v("Биднийг сонгосонд баярлалаа !")]),t._v(" Дараа дахин үйлчлүүлээрэй. Таны бизнест амжилт хүсье. ")])])],2)])])],1)],1)],1),i("el-dialog",{attrs:{title:"Хайлтын илэрц",visible:t.modals.result},on:{"update:visible":function(e){return t.$set(t.modals,"result",e)}}},[i("el-table",{attrs:{data:t.filteredProduct}},[i("el-table-column",{attrs:{property:"name",label:"Нэр",width:"300"}}),i("el-table-column",{attrs:{property:"model",label:"Модель",width:"200"}}),i("el-table-column",{attrs:{property:"sale_price",label:"Үнэ"}}),i("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"danger",icon:"el-icon-sell",circle:""},on:{click:function(a){return t.addToInvoice(e.row)}}})]}}])})],1)],1),i("el-dialog",{attrs:{title:"Төлөгч байгууллага бүртгэх",visible:t.modals.newClient,align:"center"},on:{"update:visible":function(e){return t.$set(t.modals,"newClient",e)}}},[i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Нэр",clearable:""},model:{value:t.newClient.name,callback:function(e){t.$set(t.newClient,"name",e)},expression:"newClient.name"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Имэйл хаяг",clearable:""},model:{value:t.newClient.email,callback:function(e){t.$set(t.newClient,"email",e)},expression:"newClient.email"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Регистр",clearable:""},model:{value:t.newClient.register,callback:function(e){t.$set(t.newClient,"register",e)},expression:"newClient.register"}}),i("el-input",{staticStyle:{width:"60%","margin-top":"10px"},attrs:{placeholder:"Утасны дугаар",clearable:""},model:{value:t.newClient.phone,callback:function(e){t.$set(t.newClient,"phone",e)},expression:"newClient.phone"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.modals.newClient=!1}}},[t._v("Болих")]),i("el-button",{attrs:{type:"primary"},on:{click:t.saveClient}},[t._v("Хадгалах")])],1)],1)],1)},yn=[],xn={data:function(){return{newClient:{name:"",register:"",phone:"",email:""},invoiceTo:{company:"ICBC",register:"2090562",phone:"75117733",email:"sales@icbc.mn"},selected:"",companies:[],detail:{invoiceNumber:""},products:[],allproduct:[],filteredProduct:[],selectedIndex:0,modals:{result:!1,newClient:!1},status:[{label:"Төлөгдсөн",value:"true"},{label:"Төлөгдөөгүй",value:"false"},{label:"Дутуу төлөлт",value:"half"}]}},computed:{amount:function(){return _.reduce(this.products,(function(t,e){return t+e.price*e.remain}),0)},amount_text:function(){return this.invoiceTo.total_amount=this.amount,Number(this.amount).toLocaleString()}},mounted:function(){this.detail.invoiceNumber=this.$route.params.id,this.getInvoice()},beforeRouteLeave:function(t,e,a){var i=this;return Object(Xe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i.$confirm("Өөрчлөлтийг хадгалах","Санамж",{confirmButtonText:"Хадгалах",cancelButtonText:"Болих",type:"warning",center:!0}).then((function(){i.updateInvoice(1),a()})).catch((function(){var t=i,e=localStorage.getItem("token");e&&i.$axios({method:"post",url:t.$appUrl+"/api/expend/delete-changed-expend",headers:{Authorization:"Bearer ".concat(e)},data:{ordernumber:i.detail.invoiceNumber}}).then((function(t){a()})).catch((function(t){console.log(t)}))}));case 1:case"end":return t.stop()}}),t)})))()},methods:{updateInvoice:function(t){var e=this,a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/expend/update-expend",headers:{Authorization:"Bearer ".concat(a)},data:{to:this.invoiceTo,product:this.products,invoiceNumber:this.detail.invoiceNumber,done:t}}).then((function(t){"success"==t.data.result&&e.$notify({title:"Амжилтай",message:"Амжилттай хадгалагдлаа",type:"success"})})).catch((function(t){console.log(t)}))},saveClient:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/invoice/add-new-company",headers:{Authorization:"Bearer ".concat(e)},data:{name:this.newClient.name,email:this.newClient.email,register:this.newClient.register,phone:this.newClient.phone}}).then((function(e){"success"==e.data.result?(t.companies.push(t.newClient),t.invoiceTo.company=t.newClient.name,t.invoiceTo.email=t.newClient.email,t.invoiceTo.register=t.newClient.register,t.invoiceTo.phone=t.newClient.phone,t.selected=e.data.email,t.$notify({title:"Амжилтай",message:"Амжилттай бүртгэгдлээ",type:"success"}),t.modals.newClient=!1):t.$notify({title:"Амжилтгүй",message:"Бүртгэлтэй цахим хаяг",type:"error"})})).catch((function(t){console.log(t)}))},addToInvoice:function(t){var e=this.products.some((function(e){return e.product_model==t.model}));if(e)this.products.forEach((function(e,a){e.product_model==t.model&&e.remain++}));else{var a=this.products[this.selectedIndex];a.product_name=t.name,a.product_model=t.model,a.price=t.sale_price,a.remain=1}},searchProduct:function(t){var e=this;this.selectedIndex=t;var a="";this.products.forEach((function(e,i){i==t&&(a=e.product_model)})),""!==a&&(this.filteredProduct=[],this.allproduct.forEach((function(t){t.model.toUpperCase().includes(a.toUpperCase())&&e.filteredProduct.push(t)})),this.modals.result=!0)},addProduct:function(){var t={product_name:"",product_model:"",remain:1,price:0};this.products.push(t)},removeProduct:function(t){var e=this;this.products.forEach((function(a,i){t==i&&e.products.splice(i,1)}))},changeCompany:function(t){var e=this;this.companies.forEach((function(a){a.id==t&&(e.invoiceTo.company=a.name,e.invoiceTo.register=a.register,e.invoiceTo.phone=a.phone,e.invoiceTo.email=a.email)}))},getInvoice:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/expend/get-expend-from-invoice",headers:{Authorization:"Bearer ".concat(e)},data:{invoiceNumber:t.detail.invoiceNumber}}).then((function(e){"success"==e.data.result&&(t.companies=e.data.companies,t.invoiceTo=e.data.invoice,t.selected=e.data.invoice.email,t.allproduct=e.data.allproduct,e.data.product.length<=0?t.addProduct():t.products=e.data.product)})).catch((function(t){console.log(t)}))}}},wn=xn,Cn=(a("b3a0"),Object(x["a"])(wn,_n,yn,!1,null,null,null)),kn=Cn.exports,Sn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-invoice scrollable"},[i("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!0,"preview-modal":!1,filename:t.invoiceNumber,"pdf-quality":3,"manual-pagination":!0,"paginate-elements-by-height":1,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"794px"}},[i("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[i("section",{staticClass:"pdf-content"},[i("div",{staticClass:"page-invoice"},[i("div",{staticClass:"invoice bg-white black-text",staticStyle:{"padding-left":"1.5cm","padding-top":"1cm","padding-right":"1cm"}},[i("div",{staticClass:"mb-30",staticStyle:{position:"relative"}},[i("p",{staticClass:"page-header",staticStyle:{"font-size":"12px"}},[i("strong",[t._v("НХМаягт БМ-3")])]),i("p",{staticClass:"page-header",staticStyle:{"font-size":"12px","line-height":"normal",right:"0"}},[t._v("Сангийн сайдын 2017 оны 12 дугаар сарын 5"),i("br"),t._v("өдрийн 347 тоот тушаалын хавсралт")])]),i("div",{staticClass:"invoice-top"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("2117"),alt:"logo"}})]),i("div",{staticClass:"title",attrs:{align:"right"}},[i("p",{staticStyle:{"font-size":"2.2em","font-weight":"500"}},[t._v("ЗАРЛАГЫН БАРИМТ")]),i("table",{staticStyle:{"line-height":"normal","margin-top":"7px","font-size":"14px"}},[i("tr",[i("td",[i("strong",[t._v("Баримтын дугаар: ")])]),i("td",[t._v(t._s(t.params.invoice))])]),i("tr",[i("td",[i("strong",[t._v("Гаргасан огноо: ")])]),void 0!==t.expend.detail.date?i("td",[t._v(t._s(t.expend.detail.date.split("T")[0]))]):t._e()])])])]),i("hr"),i("div",{staticClass:"invoice-middle"},[i("div",{staticClass:"info"},[i("table",{staticStyle:{"line-height":"normal","margin-top":"10px"}},[i("tr",[i("td",{staticStyle:{color:"grey"}},[i("strong",[t._v("Байгууллага")])]),i("td")]),i("tr",[i("td",[i("strong",[t._v("Байгууллагын нэр: ")])]),i("td",[t._v("ТҮМЭН ТЕХНО ХХК")])]),i("tr",[i("td",[i("strong",[t._v("Регистрийн дугаар: ")])]),i("td",[t._v("-")])])])]),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",{staticStyle:{"line-height":"normal","margin-top":"10px","margin-right":"40px"}},[i("tr",[i("td",{staticStyle:{color:"grey"},attrs:{colspan:"2",align:"right"}},[i("strong",[t._v("Төлөгч байгууллага / Хувь хүн")])])]),i("tr",[i("td",[i("strong",[t._v("Байгууллагын нэр: ")])]),i("td",{attrs:{align:"right"}},[t._v(t._s(t.expend.detail.company))])]),i("tr",[i("td",[i("strong",[t._v("Регистрийн дугаар: ")])]),i("td",{attrs:{align:"right"}},[t._v(t._s(t.expend.detail.register))])])])])]),i("div",{staticClass:"invoice-bottom"},[i("table",[i("thead",[i("tr",[i("th",[t._v("Бүтээгдэхүүн")]),i("th",[t._v("Тоо")]),i("th",[t._v("Үнэ")]),i("th",[t._v("Нийт үнэ")])])]),i("tbody",t._l(t.expend.product,(function(e,a){return i("tr",{key:a},[i("td",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(e.product_name))]),i("br"),i("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.product_model))])]),i("td",{staticStyle:{"font-size":"14px"}},[t._v(t._s(Number(e.remain).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price*e.remain).toLocaleString()))])])})),0),i("tfoot",[i("tr",[i("td",{style:{"padding-top":"5px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("Нийт үнэ")])]),i("td",{style:{"padding-top":"5px"}},[i("strong",[t._v("₮"+t._s(Number(t.amount_text.toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])])])])]),i("div",{staticClass:"legalcopy mt-10"},[i("p",{staticClass:"legal box grow mr-20 mt-0"},[i("strong",[t._v("Биднийг сонгосонд баярлалаа. ")]),t._v(" Танд амжилт хүсье! ")])])]),i("div",{staticClass:"mt-20",attrs:{align:"center"}},[i("div",{staticStyle:{height:"50px"}}),i("img",{staticStyle:{width:"180px",height:"auto","vertical-align":"middle"},attrs:{src:a("7d33"),alt:"stamp",hidden:!t.expend.stamp}}),i("div",{staticStyle:{height:"70px"},attrs:{hidden:t.expend.stamp}}),i("table",{staticStyle:{"margin-top":"-100px","font-size":"14px"}},[i("tr",[i("td",[t._v(" Хүлээлгэн өгсөн эд хариуцагч")]),i("td",{staticStyle:{width:"70px"}}),i("td",[t._v(" / Т. Баярцэцэг")]),i("td",[t._v("/")])]),i("tr",[i("td",[t._v(" Хүлээн авагч")]),i("td",{staticStyle:{width:"70px"}}),i("td",[t._v(" /")]),i("td",[t._v("/")])]),i("tr",[i("td",[t._v(" Шалгасан нягтлан бодогч")]),i("td",{staticStyle:{width:"70px"}}),i("td",[t._v(" / П. Лхагвацэцэг")]),i("td",[t._v("/")])])])])])])])])]),i("div",{staticClass:"toolbar"},[i("el-button",{staticClass:"animated fadeInRight",attrs:{type:"primary",plain:"",size:"small"},on:{click:t.toPdf}},[i("i",{staticClass:"mdi mdi-download"}),t._v(" Татах")]),i("el-button",{staticClass:"animated fadeInRight",attrs:{plain:"",size:"small"},on:{click:t.print}},[i("i",{staticClass:"mdi mdi-printer"}),t._v(" Хэвлэх")]),i("el-button",{attrs:{icon:"el-icon-setting",size:"small",circle:""},on:{click:function(e){t.modals.setting=!0}}})],1),i("div",{staticClass:"invoice bg-white black-text",staticStyle:{"padding-left":"1.5cm","padding-top":"1cm","padding-right":"1cm"}},[t._m(0),i("div",{staticClass:"invoice-top"},[t._m(1),i("div",{staticClass:"title",attrs:{align:"right"}},[i("p",{staticStyle:{"font-size":"2.2em","font-weight":"500"}},[t._v("ЗАРЛАГЫН БАРИМТ")]),i("table",{staticStyle:{"line-height":"normal","margin-top":"7px","font-size":"14px"}},[i("tr",[t._m(2),i("td",[t._v(t._s(t.params.invoice))])]),i("tr",[t._m(3),void 0!==t.expend.detail.date?i("td",[t._v(t._s(t.expend.detail.date.split("T")[0]))]):t._e()])])])]),i("hr"),i("div",{staticClass:"invoice-middle"},[t._m(4),i("div",{staticClass:"project",attrs:{align:"right"}},[i("table",{staticStyle:{"line-height":"normal","margin-top":"10px","margin-right":"40px"}},[t._m(5),i("tr",[t._m(6),i("td",{attrs:{align:"right"}},[t._v(t._s(t.expend.detail.company))])]),i("tr",[t._m(7),i("td",{attrs:{align:"right"}},[t._v(t._s(t.expend.detail.register))])])])])]),i("div",{staticClass:"invoice-bottom"},[i("table",[t._m(8),i("tbody",t._l(t.expend.product,(function(e,a){return i("tr",{key:a},[i("td",{staticStyle:{"font-size":"14px"}},[i("strong",[t._v(t._s(e.product_name))]),i("br"),i("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.product_model))])]),i("td",{staticStyle:{"font-size":"14px"}},[t._v(t._s(Number(e.remain).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price).toLocaleString()))]),i("td",{staticStyle:{"font-size":"14px"}},[t._v("₮"+t._s(Number(e.price*e.remain).toLocaleString()))])])})),0),i("tfoot",[i("tr",[i("td",{style:{"padding-top":"5px","padding-right":"20px","text-align":"right"},attrs:{colspan:"3"}},[i("strong",[t._v("Нийт үнэ")])]),i("td",{style:{"padding-top":"5px"}},[i("strong",[t._v("₮"+t._s(Number(t.amount_text.toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})))])])])])]),t._m(9)]),i("div",{staticClass:"mt-20",attrs:{align:"center"}},[i("div",{staticStyle:{height:"50px"}}),i("img",{staticStyle:{width:"180px",height:"auto","vertical-align":"middle"},attrs:{src:a("7d33"),alt:"stamp",hidden:!t.expend.stamp}}),i("div",{staticStyle:{height:"70px"},attrs:{hidden:t.expend.stamp}}),t._m(10)])]),i("el-dialog",{attrs:{title:"Тохиргоо",visible:t.modals.setting,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"setting",e)}}},[i("div",{staticStyle:{"padding-left":"20%"},attrs:{align:"left"}},[i("el-switch",{attrs:{"inactive-text":"Тамга харуулах"},model:{value:t.expend.stamp,callback:function(e){t.$set(t.expend,"stamp",e)},expression:"expend.stamp"}}),i("br")],1)])],1)},$n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-30",staticStyle:{position:"relative"}},[a("p",{staticClass:"page-header",staticStyle:{"font-size":"12px"}},[a("strong",[t._v("НХМаягт БМ-3")])]),a("p",{staticClass:"page-header",staticStyle:{"font-size":"12px","line-height":"normal",right:"0"}},[t._v("Сангийн сайдын 2017 оны 12 дугаар сарын 5"),a("br"),t._v("өдрийн 347 тоот тушаалын хавсралт")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("2117"),alt:"logo"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Баримтын дугаар: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Гаргасан огноо: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info"},[a("table",{staticStyle:{"line-height":"normal","margin-top":"10px"}},[a("tr",[a("td",{staticStyle:{color:"grey"}},[a("strong",[t._v("Байгууллага")])]),a("td")]),a("tr",[a("td",[a("strong",[t._v("Байгууллагын нэр: ")])]),a("td",[t._v("ТҮМЭН ТЕХНО ХХК")])]),a("tr",[a("td",[a("strong",[t._v("Регистрийн дугаар: ")])]),a("td",[t._v("2090562")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticStyle:{color:"grey"},attrs:{colspan:"2",align:"right"}},[a("strong",[t._v("Төлөгч байгууллага / Хувь хүн")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Байгууллагын нэр: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Регистрийн дугаар: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Бүтээгдэхүүн")]),a("th",[t._v("Тоо")]),a("th",[t._v("Үнэ")]),a("th",[t._v("Нийт үнэ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"legalcopy mt-10"},[a("p",{staticClass:"legal box grow mr-20 mt-0"},[a("strong",[t._v("Биднийг сонгосонд баярлалаа. ")]),t._v(" Танд амжилт хүсье! ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticStyle:{"margin-top":"-100px","font-size":"14px"}},[a("tr",[a("td",[t._v(" Хүлээлгэн өгсөн эд хариуцагч")]),a("td",{staticStyle:{width:"70px"}}),a("td",[t._v(" / Т. Баярцэцэг")]),a("td",[t._v("/")])]),a("tr",[a("td",[t._v(" Хүлээн авагч")]),a("td",{staticStyle:{width:"70px"}}),a("td",[t._v(" /")]),a("td",[t._v("/")])]),a("tr",[a("td",[t._v(" Шалгасан нягтлан бодогч")]),a("td",{staticStyle:{width:"70px"}}),a("td",[t._v(" / П. Лхагвацэцэг")]),a("td",[t._v("/")])])])}],In={name:"Invoice",components:{VueHtml2pdf:Ie["a"]},data:function(){return{params:{email:"",invoice:""},expend:{stamp:!0,detail:"",product:""},modals:{setting:!1},loading:!1,totalAmount:0}},computed:{amount:function(){return _.reduce(this.expend.product,(function(t,e){return t+e.price*e.remain}),0)},amount_text:function(){return this.totalAmount=this.amount,this.amount}},mounted:function(){var t=this.$route.query.token,e=Object(jr["a"])(t);this.params.email=e.email,this.params.invoice=e.invoiceNumber,this.getInvoice()},methods:{toPdf:function(){this.$refs.html2Pdf.generatePdf()},print:function(){window.print()},getInvoice:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/expend/get-client-expend",headers:{Authorization:"Bearer ".concat(e)},data:{invoice:this.params.invoice,email:this.params.email}}).then((function(e){"success"==e.data.result&&(t.expend.detail=e.data.invoice,t.expend.product=e.data.product)})).catch((function(t){console.log(t)}))}}},zn=In,Tn=(a("3862"),Object(x["a"])(zn,Sn,$n,!1,null,"0709fd9e",null)),Ln=Tn.exports,Un=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scrollable"},[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("RMA")]),3==t.LoggedUser.posID||5==t.LoggedUser.posID||6==t.LoggedUser.posID||4==t.LoggedUser.posID?a("el-breadcrumb-item",[t._v(t._s(t.shopname))]):t._e()],1),3==t.LoggedUser.posID||5==t.LoggedUser.posID||6==t.LoggedUser.posID?a("el-button-group",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Гэмтэлтэй бараа бүртгэх",placement:"top-end"}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"danger",circle:""},on:{click:function(e){t.modals.rma=!0}}})],1)],1):t._e()],1)])]),a("div",{staticClass:"page-ecommerce-dashboard"},[a("div",{staticClass:"table-box card-base card-outline",style:{overflow:"auto"}},[3==t.LoggedUser.posID||5==t.LoggedUser.posID||6==t.LoggedUser.posID?a("table",{staticClass:"styled striped hover"},[t._m(0),"nottime"==t.checktime?a("tbody",[t._m(1)]):t._e(),a("tbody",t._l(t.rma,(function(e,i){return a("tr",{key:i,style:{cursor:"pointer"}},[a("td",[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$imgUrl+e.image}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.model))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.name))])])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.username))]),a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.phone))])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.color_name))])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(new Date(e.created_at).toDateString()))])])]),a("td",{attrs:{align:"left"}},[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.about))])])]),a("td",[a("div",{staticClass:"item-box item-status",class:{"status-Complete":1==e.sent&&1!=e.stat,"status-Pending":1==e.sent&&1==e.stat,"status-Returned":0==e.sent},staticStyle:{"border-radius":"5px"}},[1==e.sent?a("h4",{staticClass:"m-0 mb-5"},[t._v("Илгээгдсэн")]):a("h4",{staticClass:"m-0 mb-5"},[t._v("Илгээгдээгүй")]),1==e.stat?a("p",{staticClass:"m-0 o-060"},[t._v(" Шийдэгдээгүй ")]):2==e.stat?a("p",{staticClass:"m-0 o-060"},[t._v(" Актлагдсан ")]):3==e.stat?a("p",{staticClass:"m-0 o-060"},[t._v(" Нийлүүлэгчрүү буцаагдсан ")]):4==e.stat?a("p",{staticClass:"m-0 o-060"},[t._v(" Тасаг руу буцаагдсан ")]):5==e.stat?a("p",{staticClass:"m-0 o-060"},[t._v(" Авлага үүсгэсэн ")]):t._e()])]),a("td",[0==e.sent?a("el-button-group",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Илгээх",placement:"top-end"}},[a("el-button",{attrs:{type:"warning",round:"",icon:"el-icon-s-promotion",size:"mini"},on:{click:function(a){return t.sendToRma(e.rmaId)}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Устгах",placement:"top-end"}},[a("el-button",{attrs:{round:"",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return t.deleteRma(e.rmaId)}}})],1)],1):t._e()],1)])})),0)]):a("el-tabs",{staticStyle:{padding:"20px"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"Салбарын RMA",name:"shops"}},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",{staticStyle:{width:"80%"}},[t._v("Салбар")]),a("th",{attrs:{align:"right"}},[t._v("Бүтээгдэхүүний тоо")])])]),a("tbody",t._l(t.rma,(function(e,i){return a("tr",{key:i,style:{cursor:"pointer"},on:{click:function(a){return t.goOrder(e)}}},[a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(t.searchStore(e.storeId)))]),t.getName(e)?t._e():a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.name))])])]),a("td",[a("div",{staticClass:"item-box item-status",class:{"status-Returned":t.getCount(e.storeId)>5,"status-Complete":t.getCount(e.storeId)<=5},style:{"border-radius":"5px"}},[(t.getCount(e.storeId),a("h4",{staticClass:"m-0 mb-5"},[t._v(t._s(t.getCount(e.storeId)))])),t.getCount(e.storeId)>5?a("p",{staticClass:"m-0 o-060"},[t._v(" Татах шаардлагатай")]):a("p",{staticClass:"m-0 o-060"},[t._v(" Хэвийн ")])])])])})),0)])]),a("el-tab-pane",{attrs:{label:"Бөөний харилцагчдын RMA",name:"whole"}},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",{staticStyle:{width:"80%"}},[t._v("Салбар")]),a("th",{attrs:{align:"right"}},[t._v("Бүтээгдэхүүний тоо")])])]),a("tbody",t._l(t.rmaWhole,(function(e,i){return a("tr",{key:i,style:{cursor:"pointer"},on:{click:function(a){return t.goOrder(e)}}},[a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(t.searchStore(e.storeId)))]),t.getName(e)?t._e():a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.name))])])]),a("td",[a("div",{staticClass:"item-box item-status",class:{"status-Returned":t.getCountWhole(e.userId)>5,"status-Complete":t.getCountWhole(e.userId)<=5},style:{"border-radius":"5px"}},[(t.getCountWhole(e.userId),a("h4",{staticClass:"m-0 mb-5"},[t._v(t._s(t.getCountWhole(e.userId)))])),t.getCountWhole(e.userId)>5?a("p",{staticClass:"m-0 o-060"},[t._v(" Татах шаардлагатай")]):a("p",{staticClass:"m-0 o-060"},[t._v(" Хэвийн ")])])])])})),0)])]),a("el-tab-pane",{attrs:{label:"Нийлүүлэгчрүү буцаах бүтээгдэхүүн",name:"brands"}},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",[t._v("Брэнд")]),a("th",[t._v("Огноо")]),a("th",[t._v("Бүтээгдэхүүний тоо")]),a("th",[t._v("Нийт өртөг үнэ")]),a("th",[t._v("Төлөв")])])]),t.brand.length<=0?a("tbody",[a("tr",[a("td",{attrs:{colspan:"3",align:"center"}},[t._v(" Илэрцгүй ")])])]):t._e(),a("tbody",t._l(t.brand,(function(e,i){return a("tr",{key:i,style:{cursor:"pointer"}},[a("td",[a("div",{staticClass:"item-box item-product"},[a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.brandname))])])])]),a("td",[a("div",{staticClass:"item-box item-product"},[a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.updated_at.split("T")[0]))])])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(Number(e.count).toLocaleString()))])])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v("₮"+t._s(Number(e.total).toLocaleString()))])])]),a("td",[e.total>1?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-message-solid",circle:""}}):a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-check",circle:""}})],1)])})),0)])])],1)],1)]),a("el-dialog",{attrs:{title:"RMA бараа бүртгэх",visible:t.modals.rma},on:{"update:visible":function(e){return t.$set(t.modals,"rma",e)}}},[t._l(t.addProducts,(function(e,i){return a("div",{key:i},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:6,lg:6,xl:6}},[a("el-input",{staticClass:"mt-5",attrs:{placeholder:"Модель",clearable:""},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"i.model"}})],1),a("el-col",{attrs:{xs:24,sm:24,md:6,lg:6,xl:6}},[a("el-input-number",{staticClass:"mt-5",staticStyle:{width:"100%"},attrs:{min:1,max:1,placeholder:"Тоо ширхэг"},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"i.qty"}})],1),a("el-col",{attrs:{xs:24,sm:24,md:11,lg:10,xl:10}},[a("el-input",{staticClass:"mt-5",attrs:{placeholder:"Тайлбар",clearable:""},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"i.description"}})],1),a("el-col",{attrs:{xs:24,sm:24,md:11,lg:2,xl:2}},[a("el-button",{staticClass:"mt-5",staticStyle:{width:"100%"},attrs:{type:"danger",icon:"el-icon-delete",plain:""},on:{click:function(e){return t.removeRow(i)}}})],1)],1)],1)})),a("div",{staticClass:"mt-10"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:"",size:"mini"},on:{click:t.addRow}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.rma=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addRmaProduct}},[t._v("Хадгалах")])],1)],2)],1)},Bn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Бүтээгдэхүүн")]),a("th",[t._v("Бүртгэсэн ажилтан")]),a("th",[t._v("Өнгө")]),a("th",[t._v("Огноо")]),a("th",[t._v("Шалтгаан")]),a("th",[t._v("Төлөв")]),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"7",align:"center"}},[t._v(" Цагаа бүртгүүлнэ үү ")])])}],En=(new $e.a,{name:"Order",data:function(){var t;return t={activeTab:"shops",dataTimeRange:null,search:"",gridData:[],product:[],loading:!1,LoggedUser:"",modals:{rma:!1},addProducts:[{model:"",qty:1,description:""}]},Object(je["a"])(t,"search",""),Object(je["a"])(t,"location",[]),Object(je["a"])(t,"rma",[]),Object(je["a"])(t,"rmaWhole",[]),Object(je["a"])(t,"checktime",""),Object(je["a"])(t,"cities",[]),Object(je["a"])(t,"counts",[]),Object(je["a"])(t,"brand",[]),Object(je["a"])(t,"shopname","Тодорхойгүй"),Object(je["a"])(t,"countWhole",[]),t},methods:{getCount:function(t){var e=0;return this.counts.forEach((function(a){a.storeId==t&&(e=a.qty)})),e},getCountWhole:function(t){var e=0;return this.countWhole.forEach((function(a){a.userId==t&&(e=a.qty)})),e},deleteRma:function(t){var e=this;this.$confirm("Устгахдаа итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var a=e;e.loading=!0;var i=localStorage.getItem("token");i&&e.$axios({method:"post",url:a.$appUrl+"/api/order/delete-rma-product",headers:{Authorization:"Bearer ".concat(i)},data:{id:t}}).then((function(e){a.loading=!1,"success"==e.data.result&&(a.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"RMA амжилттай устлаа",type:"success"}),a.rma.forEach((function(e,i){e.rmaId==t&&a.rma.splice(i,1)})))})).catch((function(t){a.loading=!1,console.log(t)}))}))},sendToRma:function(t){var e=this;this.$confirm("Илгээхдээ итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){var a=e;e.loading=!0;var i=localStorage.getItem("token");i&&e.$axios({method:"post",url:a.$appUrl+"/api/order/sent-rma-product",headers:{Authorization:"Bearer ".concat(i)},data:{id:t}}).then((function(e){a.loading=!1,"success"==e.data.result?(a.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"RMA амжилттай илгээгдлээ",type:"success"}),a.rma.forEach((function(e,i){e.rmaId==t&&(a.rma[i].sent=1)}))):"nottime"==e.data.result?a.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Цагаа бүртгүүлнэ үү",type:"error"}):"notFixed"==e.data.result&&a.$confirm("Уучлаарай танай тасгийн <strong>өмнө илгээсэн</strong> буцаалтын бараа шийдэгдээгүй байна. Няравтай холбогдоно уу!","Амжилтгүй",{confirmButtonText:"Ойлголоо",cancelButtonText:"Болих",dangerouslyUseHTMLString:!0,type:"warning",center:!0})})).catch((function(t){a.loading=!1,console.log(t)}))}))},getName:function(t){var e=!1;return this.location.forEach((function(a){a.code==t.storeId&&(e=!0)})),e},filterRma:function(t){var e,a=this;t.forEach((function(t){e="",a.location.forEach((function(a){a.code==t.storeId&&(e=t.name)})),""==e?a.rmaWhole.push(t):a.rma.push(t)}))},searchStore:function(t){var e="";return this.location.forEach((function(a){a.code==t&&(e=a.name)})),""==e?(this.cities.forEach((function(a){a.id==t&&(e=a.city)})),e):e},addRmaProduct:function(){if(this.addProducts.length>0){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/add-rma-product",headers:{Authorization:"Bearer ".concat(e)},data:{products:this.addProducts}}).then((function(e){t.loading=!1,"success"==e.data.result?(t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Бүтээгдэхүүн бүртгэгдлээ",type:"info"}),t.getOrders()):"failed"==e.data.result?t.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"<strong>".concat(e.data.model,"</strong> бүтээгдэхүүн олдсонгүй"),type:"error"}):"nottime"==e.data.result?t.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Цагаа бүртгүүлнэ үү",type:"error"}):"limited"==e.data.result&&t.$confirm("Уучлаарай бүртгэгдсэн rma-ны <strong>нийт дүн</strong> энэ сарын борлуулалтын 5%-аас хэтэрсэн байна.","Амжилтгүй",{confirmButtonText:"Ойлголоо",cancelButtonText:"Болих",dangerouslyUseHTMLString:!0,type:"warning",center:!0}).catch((function(){t.modals.rma=!1}))})).catch((function(e){t.loading=!1,console.log(e)}))}},addRow:function(){this.addProducts.push({model:"",qty:1,description:""})},removeRow:function(t){this.addProducts.splice(t,1)},goOrder:function(t){var e=!1;this.location.forEach((function(a){a.code==t.storeId&&(e=!0)})),console.log(t),e?this.$router.push({name:"rma-product",params:{id:t.storeId,type:1}}):this.$router.push({name:"rma-product",params:{id:t.userId,type:2}})},getOrders:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/get-rma-product",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,"success"==e.data.result?(t.location=e.data.location,t.rma=e.data.rma,t.rmaWhole=e.data.rmaWhole,t.cities=e.data.cities,t.counts=e.data.count,t.countWhole=e.data.countWhole,t.brand=e.data.brand,t.shopname=e.data.address):"nottime"==e.data.result&&(t.checktime=e.data.result)})).catch((function(e){t.loading=!1,console.log(e)}))}},mounted:function(){this.LoggedUser=JSON.parse(localStorage.getItem("user")),this.getOrders()},components:{Grid:Ta["Grid"]}}),Dn=En,On=(a("c300"),Object(x["a"])(Dn,Un,Bn,!1,null,null,null)),Pn=On.exports,jn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-ecommerce-checkout scrollable"},[a("el-breadcrumb",{staticClass:"mb-20",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",{attrs:{to:{path:"/rma"}}},[t._v("RMA")]),a("el-breadcrumb-item",[t._v(t._s(t.shop.name))])],1),a("el-row",{staticClass:"cart-box",attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"widget review card-shadow--small b-rad-4"},[a("div",{staticClass:"title"},[t._v(" Бүтээгдэхүүн ")]),a("div",{staticClass:"content"},[a("div",{staticClass:"page-ecommerce-dashboard mt-10",staticStyle:{width:"100%"},style:{"border-radius":"10px"}},[a("div",{staticClass:"table-box card-base card-outline",staticStyle:{overflow:"auto"}},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",{staticStyle:{"font-size":"14px"}},[a("th",{attrs:{width:"1%"}},[t._v("#")]),a("th",[t._v("Бүтээгдэхүүн")]),a("th",[t._v("Шалтгаан")]),a("th",[t._v("Ажилтан")]),a("th",[t._v("Хүлээж авсан")]),a("th",[t._v("Төлөв")]),1==t.LoggedUser.posID||2==t.LoggedUser.posID?a("th"):t._e()])]),a("tbody",t._l(t.rma.detail,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(i+1))]),a("td",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[a("div",{staticClass:"item-box item-product"},[a("div",{staticClass:"product-image"},[a("el-avatar",{attrs:{size:40,src:t.$imgUrl+e.image}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",[a("h4",{staticClass:"m-0"},[t._v(t._s(e.model))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.name)+" "),a("strong",[t._v(t._s(e.color_name))])])])])]),a("td",[t._v(t._s(e.about))]),a("td",[t._v(t._s(e.username))]),a("td",[e.wrote?a("span",{staticStyle:{color:"green"}},[t._v("Тийм")]):a("span",{staticStyle:{color:"red"}},[t._v("Үгүй")])]),a("td",[a("div",{staticClass:"item-box item-status",class:{"status-Complete":1!=e.stat&&1==e.wrote,"status-Returned":1==e.stat&&0==e.wrote,"status-Pending":1==e.stat&&1==e.wrote},style:{"border-radius":"5px"}},[1==e.stat&&0==e.sent?a("h4",{staticClass:"m-0 mb-5"},[t._v("Илгээгдээгүй")]):1==e.stat&&1==e.sent?a("h4",{staticClass:"m-0 mb-5"},[t._v("Шийдэгдээгүй")]):2==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Актлагдсан")]):3==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Нийлүүлэгчрүү буцаагдсан")]):4==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Тасаг руу буцаагдсан")]):5==e.stat?a("h4",{staticClass:"m-0 mb-5"},[t._v("Авлага үүсгэсэн")]):t._e(),1==e.stat?a("p",{staticClass:"m-0 o-060"},[t._v("-")]):t._e(),1!=e.stat?a("p",{staticClass:"m-0 o-060"},[t._v(t._s(e.updated_at.split("T")[0]))]):t._e()])]),1!=e.sent||1!=t.LoggedUser.posID&&2!=t.LoggedUser.posID?t._e():a("td",[0==e.wrote?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Хүлээж авсан болгох",placement:"top-end"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-download",size:"small",circle:""},on:{click:function(a){return t.changeWrote(e.id,e.model)}}})],1):1==e.wrote?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Төлөв шинэчлэх",placement:"top-end"}},[1==e.stat?a("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"small",circle:""},on:{click:function(a){return t.changeMainStatus(e.id,e.stat)}}}):a("el-button",{attrs:{type:"success",icon:"el-icon-check",size:"small",circle:""},on:{click:function(a){return t.changeMainStatus(e.id,e.stat)}}})],1):t._e()],1)])})),0)])])])])])])],1),a("el-dialog",{attrs:{title:"Тохиргоо",visible:t.modals.setting,width:"30%"},on:{"update:visible":function(e){return t.$set(t.modals,"setting",e)}}},[a("div",{staticStyle:{width:"100%"},attrs:{align:"center"}},[a("el-select",{staticClass:"mt-10",staticStyle:{width:"80%"},attrs:{placeholder:"Төлвөө сонгоно уу"},model:{value:t.rma.selectedStatus,callback:function(e){t.$set(t.rma,"selectedStatus",e)},expression:"rma.selectedStatus"}},t._l(t.stat.mainStat,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.modals.setting=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.UpdateRmaProduct}},[t._v("Хадгалах")])],1)])],1)},Nn=[],Rn=(new $e.a,{name:"EcommerceCheckout",data:function(){return{LoggedUser:[],loading:!1,rma:{store:"",type:0,detail:[],selectedId:"",selectedStatus:""},shop:"",modals:{setting:!1},stat:{wrote:[{label:"Хүлээж авсан",value:11},{label:"Хүлээж аваагүй",value:0}],mainStat:[{label:"Шийдвэрлээгүй",value:1},{label:"Актлагдсан",value:2},{label:"Нийлүүлэгч рүү буцаасан",value:3},{label:"Тасаг руу буцаасан",value:4},{label:"Авлага үүсгэсэн",value:5}]}}},mounted:function(){this.rma.store=this.$route.params.id,this.rma.type=this.$route.params.type,this.LoggedUser=JSON.parse(localStorage.getItem("user")),this.getOrder()},methods:{changeMainStatus:function(t,e){this.rma.selectedId=t,this.rma.selectedStatus=e,this.modals.setting=!0},UpdateRmaProduct:function(){var t=this;this.$confirm("Итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){var e=t,a=localStorage.getItem("token");a&&t.$axios({method:"post",url:e.$appUrl+"/api/order/change-rma-status",headers:{Authorization:"Bearer ".concat(a)},data:{id:t.rma.selectedId,stat:t.rma.selectedStatus}}).then((function(t){"success"==t.data.result?(e.$notify({title:"Амжилттай",message:"Шинэчлэгдлээ",type:"success"}),e.modals.setting=!1,e.getOrder()):"failed"==t.data.result&&e.$router.push({name:"not-found"})})).catch((function(t){console.log(t)}))}))},changeWrote:function(t,e){var a=this;this.$confirm("<strong>".concat(e,"</strong>-ыг хүлээж авах уу?"),"Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",dangerouslyUseHTMLString:!0,type:"warning"}).then((function(){var e=a,i=localStorage.getItem("token");i&&a.$axios({method:"post",url:e.$appUrl+"/api/order/wrote-rma",headers:{Authorization:"Bearer ".concat(i)},data:{id:t}}).then((function(t){"success"==t.data.result?(e.$notify({title:"Амжилттай",message:"Шинэчлэгдлээ",type:"success"}),e.getOrder()):"failed"==t.data.result&&e.$router.push({name:"not-found"})})).catch((function(t){console.log(t)}))}))},getOrder:function(){var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/get-rma-current-product",headers:{Authorization:"Bearer ".concat(e)},data:{store:this.rma.store,type:this.rma.type}}).then((function(e){"success"==e.data.result?(t.shop=e.data.shop,t.rma.detail=e.data.rma):"failed"==e.data.result&&t.$router.push({name:"not-found"})})).catch((function(t){console.log(t)}))}}}),An=Rn,Mn=(a("98e2"),Object(x["a"])(An,jn,Nn,!1,null,null,null)),qn=Mn.exports,Fn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"page-ecommerce-account scrollable"},[a("div",{staticClass:"page-header"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/ecommerce-dashboard"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Хувийн мэдээлэл")])],1)],1),a("div",[a("el-tabs",{staticClass:"themed",model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"Хувийн мэдээлэл",name:"profile"}},[a("el-row",{staticClass:"profile-box",attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"user-box card-shadow--small"},[a("div",{staticClass:"photo b-rad-8",staticStyle:{position:"relative"}},[a("div",{staticClass:"profileUpload"},[a("el-button",{staticStyle:{"margin-top":"40%"},attrs:{icon:"el-icon-plus",circle:""},on:{click:t.uploadBtnClicked}})],1),a("img",{attrs:{src:t.$appUrl+"/images/local/user/"+t.LoggedUser.img,alt:"avatar"}}),a("input",{ref:"image",attrs:{type:"file",accept:"image/*",hidden:"",id:"image"},on:{change:t.onProfileImageSelected}})]),a("div",{staticClass:"rate",attrs:{align:"center"}},[t.LoggedUser.loyalty<=1e4?a("el-rate",{attrs:{disabled:"",colors:t.rateColor.brown},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}}):t._e(),t.LoggedUser.loyalty>1e4&&t.LoggedUser.loyalty<=25e3?a("el-rate",{attrs:{disabled:"",colors:t.rateColor.brown},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}}):t._e(),t.LoggedUser.loyalty>25e3?a("el-rate",{attrs:{disabled:"",colors:t.rateColor.brown},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}}):t._e()],1),a("div",{staticClass:"name"},[t._v(" "+t._s(t.LoggedUser.name)+" ")]),a("div",{staticClass:"contacts"},[a("div",[a("i",{staticClass:"mdi mdi-email mr-10"}),t._v(" "+t._s(t.LoggedUser.email))]),void 0!==t.LoggedUser.phone?a("div",{staticClass:"mt-10"},[a("i",{staticClass:"mdi mdi-phone mr-10"}),t._v(" "+t._s(t.LoggedUser.phone.substr(0,4))+" "+t._s(t.LoggedUser.phone.substr(4,4)))]):t._e()])]),a("div",{staticClass:"flex achievements-box justify-space-around card-shadow--small"},[a("div",{staticClass:"box"},[a("el-tooltip",{attrs:{effect:"dark",content:"10 Orders",placement:"top"}},[a("i",{staticClass:"mdi mdi-trophy"})])],1),a("div",{staticClass:"box"},[a("el-tooltip",{attrs:{effect:"dark",content:"Certified User",placement:"top"}},[a("i",{staticClass:"mdi mdi-check-decagram"})])],1),a("div",{staticClass:"box"},[a("el-tooltip",{attrs:{effect:"dark",content:"100 Orders",placement:"top"}},[a("i",{staticClass:"mdi mdi-seal"})])],1),a("div",{staticClass:"box"},[a("el-tooltip",{attrs:{effect:"dark",content:"Purchase Protection",placement:"top"}},[a("i",{staticClass:"mdi mdi-shield-check"})])],1),a("div",{staticClass:"box"},[a("el-tooltip",{attrs:{effect:"dark",content:"Premium User",placement:"top"}},[a("i",{staticClass:"mdi mdi-star"})])],1)])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"billing-box card-shadow--small"},[a("div",{staticClass:"title"},[a("span",[t._v("Үндсэн мэдээлэл")]),0==t.edit?a("el-button",{staticStyle:{float:"right"},attrs:{icon:"el-icon-s-tools",size:"mini",circle:""},on:{click:t.startEdit}}):a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{size:"mini",plain:""},on:{click:function(e){t.edit=!1}}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.saveChangedInfo}},[t._v("Хадгалах")])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"box"},[a("div",{staticClass:"key"},[t._v("Нэр")]),0==t.edit?a("div",{staticClass:"value"},[t._v(t._s(t.LoggedUser.name))]):a("el-input",{attrs:{placeholder:"Нэр",size:"small",clearable:""},model:{value:t.editOption.name,callback:function(e){t.$set(t.editOption,"name",e)},expression:"editOption.name"}})],1)]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"box"},[a("div",{staticClass:"key"},[t._v("Утас")]),0==t.edit?a("div",{staticClass:"value"},[t._v(t._s(t.LoggedUser.phone))]):a("el-input",{attrs:{placeholder:"Утасны дугаар",size:"small",clearable:""},model:{value:t.editOption.phone,callback:function(e){t.$set(t.editOption,"phone",e)},expression:"editOption.phone"}})],1)]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"box"},[a("div",{staticClass:"key"},[t._v("Утас 2")]),0==t.edit?a("div",{staticClass:"value"},[t._v(t._s(t.LoggedUser.phone2))]):a("el-input",{attrs:{placeholder:"Утасны дугаар 2",size:"small",clearable:""},model:{value:t.editOption.phone2,callback:function(e){t.$set(t.editOption,"phone2",e)},expression:"editOption.phone2"}})],1)]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"box"},[a("div",{staticClass:"key"},[t._v("Цахим хаяг")]),a("div",{staticClass:"value"},[t._v(t._s(t.LoggedUser.email))])])]),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"box"},[a("div",{staticClass:"key"},[t._v("Дансны дугаар")]),0==t.edit?a("div",{staticClass:"value"},[t._v(t._s(t.LoggedUser.acc_number))]):a("el-input",{attrs:{placeholder:"Дансны дугаар",size:"small",clearable:""},model:{value:t.editOption.accNumber,callback:function(e){t.$set(t.editOption,"accNumber",e)},expression:"editOption.accNumber"}})],1)])],1)],1),a("div",{staticClass:"shipping-box card-shadow--small"},[a("div",{staticClass:"title"},[t._v("Бусад мэдээлэл")]),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"box"},[a("div",{staticClass:"key"},[t._v("Хэрэглэгчийн эрх")]),a("div",{staticClass:"value"},[t._v(t._s(t.permission))])])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"box"},[a("div",{staticClass:"key"},[t._v("Аймаг / Хот")]),a("div",{staticClass:"value"},[t._v(t._s(t.getCity()))])])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"box"},[a("div",{staticClass:"key"},[t._v("Үндсэн салбар")]),a("div",{staticClass:"value"},[t._v(t._s(t.getShop()))])])]),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"box"},[a("div",{staticClass:"key"},[t._v("Зөвшөөрөгдсөн брэнд")]),a("div",{staticClass:"value",staticStyle:{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"}},[t._v(t._s(t.getBrands()))])])]),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"box"},[a("div",{staticClass:"key"},[t._v("Ажлын чиглэл")]),a("div",{staticClass:"value"},[t._v(t._s(t.title))])])])],1)],1)])],1)],1),a("el-tab-pane",{attrs:{label:"Сүүлийн захиалгууд",name:"orders"}},[a("el-row",{staticClass:"items mt-40",attrs:{gutter:20}},t._l(t.orders,(function(e){return a("el-col",{key:e.id,attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"item mb-20 flex"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:t.$imgUrl+e.image}})]),a("div",{staticClass:"box grow flex column justify-center"},[a("div",{staticClass:"product-name"},[t._v(t._s(e.name)+" "),a("strong",[t._v(t._s(e.model))])]),a("div",{staticClass:"price"},[a("span",[t._v(t._s(Number(e.quantity).toLocaleString()))]),t._v(" x ₮ "+t._s(Number(e.wholesale_price).toLocaleString())+" = "),a("strong",[t._v("₮ "+t._s(Number(e.wholesale_price*e.quantity).toLocaleString()))])])]),a("div",{staticClass:"box grow flex column justify-center"},[a("div",{staticClass:"product-name"},[a("strong",[t._v(t._s(e.order_number))])]),a("div",{staticClass:"price"},[t._v(" "+t._s(new Date(e.created_at).toDateString())+" ")])]),a("div",{staticClass:"box grow flex column justify-center"},[a("div",{staticClass:"item-box item-status",class:{"status-Pending":0==e.paid,"status-Complete":1==e.paid},style:{"border-radius":"5px","max-width":"200px"}},[0==e.paid?a("h4",{staticClass:"m-0 mb-5"},[t._v("Хүлээгдэж байгаа")]):1==e.paid?a("h4",{staticClass:"m-0 mb-5"},[t._v("Төлөгдсөн")]):t._e(),a("p",{staticClass:"m-0 o-0"},[t._v("-")])])])])])})),1)],1),a("el-tab-pane",{attrs:{label:"Ажлын төлөвлөгөө",name:"wishlist"}},[a("el-calendar",{scopedSlots:t._u([{key:"dateCell",fn:function(e){var i=e.data;return[a("div",[t._v(" "+t._s(i.day.split("-")[2])+" "),a("div",{staticClass:"block"},[a("el-carousel",{attrs:{trigger:"click",height:"50px","indicator-position":"none",arrow:"never"}},t._l(t.checkPlan(i.day),(function(e,i){return a("el-carousel-item",{key:i},[a("div",{staticClass:"item-box item-status-calendar",class:{"status-Paid":!0},style:{"border-radius":"5px","margin-top":"3px"},attrs:{align:"center"}},["none"==e.second?a("span",[t._v(" "+t._s(e.name)+" "),a("br"),t._v(" "+t._s(e.start)+" - "+t._s(e.end)+" ")]):a("span",[t._v(t._s(e.name)+" "),a("br"),t._v(" "+t._s(e.start)+" - "+t._s(e.second)+" - "+t._s(e.end))])])])})),1)],1)])]}}])})],1),a("el-tab-pane",{attrs:{label:"Нууц үг шинэчлэх",name:"password"}},[a("div",{staticClass:"mt-50",attrs:{align:"center"}},[a("i",{staticClass:"el-icon-unlock",staticStyle:{"font-size":"300%"}}),a("br"),a("el-input",{staticClass:"mt-10 passwordInput",attrs:{placeholder:"Хуучин нууц үг","show-password":"",clearable:""},model:{value:t.password.old,callback:function(e){t.$set(t.password,"old",e)},expression:"password.old"}}),a("br"),a("el-input",{staticClass:"mt-10 passwordInput",attrs:{placeholder:"Шинэ нууц үг","show-password":"",clearable:""},model:{value:t.password.new,callback:function(e){t.$set(t.password,"new",e)},expression:"password.new"}}),a("br"),a("el-input",{staticClass:"mt-10 passwordInput",attrs:{placeholder:"Шинэ нууц үг давтан","show-password":"",clearable:""},model:{value:t.password.repeat,callback:function(e){t.$set(t.password,"repeat",e)},expression:"password.repeat"}}),a("br"),a("el-button",{staticClass:"mt-10 passwordInput",attrs:{type:"primary",plain:""},on:{click:t.changePassword}},[t._v("Хадгалах")])],1)])],1)],1)])},Hn=[],Wn=(a("38cf"),new $e.a),Gn={name:"EcommerceAccount",data:function(){return{activeTab:"profile",deliveryDate:ya()().format("DD MMM"),orders:[],wishlist:[],LoggedUser:[],cities:[],permission:"",brands:[],location:[],title:"",edit:!1,loading:!1,editOption:{phone:"",phone2:"",accNumber:"",name:"",id:""},selectedFile:"",plan:[],password:{old:"",new:"",repeat:""},rate:.2,rateColor:{brown:["#cc6633","#cc6633","#cc6633"],silver:["#A9A9A9","#A9A9A9","#A9A9A9"],gold:["#FFD700","#FFD700","#FFD700"]}}},methods:{changePassword:function(){if(""!=this.password.old&&""!=this.password.new&&""!=this.password.repeat)if(this.password.new==this.password.repeat){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/user/update-password",headers:{Authorization:"Bearer ".concat(e)},data:{password:this.password.new,old:this.password.old}}).then((function(e){t.loading=!1,"success"==e.data.result?t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Нууц үг шинэчлэгдлээ",type:"success"}):t.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Хуучин нууц үг буруу",type:"error"})})).catch((function(e){t.loading=!1,console.log(e)}))}else this.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Давтан нууц үг тохирсонгүй",type:"error"});else this.$notify({title:"Амжилтгүй",dangerouslyUseHTMLString:!0,message:"Талбараа бүрэн бөглөнө үү",type:"error"})},checkPlan:function(t){var e=[];return this.plan.forEach((function(a){t==a.date&&(6===new Date(t).getDay()||0===new Date(t).getDay()?e.push({name:a.name,start:a.weekend,end:a.end,second:a.second_part}):e.push({name:a.name,start:a.start,end:a.end,second:a.second_part}))})),e},uploadBtnClicked:function(){this.$refs.image.click()},onProfileImageSelected:function(t){var e=this,a=t.target.files[0];this.selectedFile=a,this.$confirm("Нүүр зургаа шинэчлэхдээ итгэлтэй байна уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Болих",type:"warning"}).then((function(){e.updateProfile()})).catch((function(){e.selectedFile="",e.$refs.image.value=""}))},updateProfile:function(){this.loading=!0;var t=this,e=localStorage.getItem("token");if(this.selectedFile){var a=new FormData;a.append("photo",this.selectedFile,this.selectedFile.name),this.$axios.post(this.$appUrl+"/api/user/update-profile-image",a,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,t.LoggedUser.img=e.data.image,localStorage.user=JSON.stringify(t.LoggedUser),t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Амжилттай шинэчлэгдлээ.<br><strong>Түр хүлээнэ үү</strong>",type:"success"}),setTimeout((function(){location.reload()}),1e3)})).catch((function(e){t.loading=!1,console.log(e)}))}},startEdit:function(){this.editOption.phone=this.LoggedUser.phone,this.editOption.phone2=this.LoggedUser.phone2,this.editOption.accNumber=this.LoggedUser.acc_number,this.editOption.name=this.LoggedUser.name,this.edit=!0},saveChangedInfo:function(){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/user/update-user-info",headers:{Authorization:"Bearer ".concat(e)},data:{info:this.editOption}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.LoggedUser.phone=t.editOption.phone,t.LoggedUser.phone2=t.editOption.phone2,t.LoggedUser.name=t.editOption.name,t.LoggedUser.acc_number=t.editOption.accNumber,localStorage.user=JSON.stringify(t.LoggedUser),t.edit=!1,t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Амжилттай шинэчлэгдлээ.<br><strong>Түр хүлээнэ үү</strong>",type:"success"}),setTimeout((function(){location.reload()}),1e3))})).catch((function(e){t.loading=!1,console.log(e)}))},getBrands:function(){var t=this;if(void 0!==this.LoggedUser.allow_brand){if("all"==this.LoggedUser.allow_brand)return"Бүгд";var e="",a=this.LoggedUser.allow_brand.split(",");return a.forEach((function(a){t.brands.forEach((function(t){t.id==a&&(e=""==e?"".concat(t.brandname):"".concat(e,", ").concat(t.brandname))}))})),e}},getShop:function(){var t=this,e="";return this.location.forEach((function(a){a.code==t.LoggedUser.call_store&&(e=a.name)})),e},getCity:function(){var t=this,e="";return this.cities.forEach((function(a){a.id==t.LoggedUser.city&&(e=a.city)})),e},initWishlistData:function(){var t=this;_.times(50,(function(e){var a=Wn.floating({min:30,max:100,fixed:2});t.wishlist.push({id:e,photo:"/static/images/shop/"+Wn.integer({min:0,max:19})+".jpg",product:Wn.sentence({words:3}),price:_.replace(a.toFixed(2).toString(),".",",")})}))},gotoProducts:function(){this.$router.push({name:"ecommerce-products"})},getInfo:function(){this.loading=!0;var t=this,e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/user/profile",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.loading=!1,t.cities=e.data.cities,t.orders=e.data.orders,t.brands=e.data.brands,t.location=e.data.location,t.permission=e.data.permission,t.title=e.data.profession,t.plan=e.data.plan})).catch((function(e){t.loading=!1,console.log(e)}))}},created:function(){this.initWishlistData()},mounted:function(){var t=JSON.parse(localStorage.user);this.LoggedUser=t;var e=0;t.loyalty<=1e4?e=1e4:t.loyalty>1e4&&t.loyalty<=25e3?e=25e3:t.loyalty>25e3&&(e=5e4),this.rate=Number((5*t.loyalty/e).toFixed(1)),this.getInfo()}},Zn=Gn,Jn=(a("9dd7"),Object(x["a"])(Zn,Fn,Hn,!1,null,null,null)),Vn=Jn.exports,Yn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"scrollable"},[a("div",{staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/products"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Зарлагын хуулга")])],1)],1)]),a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.datePickerChanged},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}})],1)])]),a("div",{staticClass:"page-ecommerce-dashboard"},[null!=t.dataTimeRange?a("div",{staticClass:"card-base cart-oultine"},[t.expends.length>0?a("div",t._l(t.expends,(function(e,i){return a("div",{key:i,staticStyle:{padding:"30px"}},[a("div",{staticStyle:{background:"rgba(45, 109, 211, 0.25)",padding:"5px",color:"black"}},[t._v(t._s(e.date))]),a("el-row",{staticClass:"items mt-10"},t._l(t.filter(e.number),(function(e,i){return a("el-col",{key:i,attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"item mb-10 flex",class:{expend:"expend"==e.state,revenue:"revenue"==e.state}},[a("div",{staticClass:"photo"},[1==e.type?a("img",{attrs:{src:t.$imgUrl+e.image}}):a("img",{attrs:{src:t.$appUrl+"/images/local/product/"+e.image}})]),a("div",{staticClass:"box grow flex column justify-center"},[a("div",{staticClass:"product-name"},[t._v(t._s(e.name))]),a("div",{staticClass:"price"},[a("strong",[t._v(t._s(e.model))])])]),a("div",{staticClass:"box grow flex column justify-center"},[a("div",[a("strong",[t._v("₮"+t._s(Number(e.price).toLocaleString()))])])]),a("div",{staticClass:"box grow flex column justify-center"},[a("div",[a("strong",[t._v(t._s(Number(e.qty).toLocaleString()))])])]),a("div",{staticClass:"box grow flex column justify-center"},[a("div",[a("strong",[t._v("₮"+t._s(Number(e.qty*e.price).toLocaleString()))])])])])])})),1)],1)})),0):a("div",{staticStyle:{padding:"20px"},attrs:{align:"center"}},[t._v(" Сонгосон хугацаанд хуулга олдсонгүй ")])]):a("div",{staticClass:"card-base cart-oultine",staticStyle:{padding:"20px"},attrs:{align:"center"}},[t._v(" Огноо сонгоно уу... ")])])])},Xn=[],Qn=(new $e.a,{name:"Order",data:function(){return{dataTimeRange:null,expends:[],products:[],revenueProducts:[],loading:!1}},computed:{},methods:{datePickerChanged:function(t){this.expends=[],this.products=[],null!=t&&this.getOrders(t)},filter:function(t){var e=[];return this.products.forEach((function(a){a.reportNumber==t&&e.push(a)})),this.revenueProducts.forEach((function(a){a.revenueNumber==t&&e.push(a)})),e},getOrders:function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/order/get-customer-expend",headers:{Authorization:"Bearer ".concat(a)},data:{datetime:t}}).then((function(t){if(e.loading=!1,"success"==t.data.result){e.expends=[];var a=[];t.data.expend.forEach((function(t){var e={date:t.created_at,number:t.reportNumber,state:t.state,totalAmount:t.totalAmount,realDate:new Date(t.created_at)};a.push(e)})),t.data.revenue.forEach((function(t){var e={date:t.created_at,number:t.revenueNumber,state:t.state,totalAmount:t.totalAmount,realDate:new Date(t.created_at)};a.push(e)})),e.expends=a.sort((function(t,e){return e.realDate-t.realDate})),e.products=[],t.data.product1.forEach((function(t){e.products.push(t)})),t.data.product2.forEach((function(t){e.products.push(t)})),e.revenueProducts=[],t.data.revenueproduct1.forEach((function(t){e.revenueProducts.push(t)})),t.data.revenueproduct2.forEach((function(t){e.revenueProducts.push(t)}))}})).catch((function(t){e.loading=!1,console.log(t)}))}},components:{Grid:Ta["Grid"]}}),Kn=Qn,tl=(a("6449"),Object(x["a"])(Kn,Yn,Xn,!1,null,null,null)),el=tl.exports,al=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"scrollable"},[a("div",{staticClass:"page-ecommerce-orders flex column"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"flex justify-space-between"},[a("el-breadcrumb",{staticClass:"mb-10",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/products"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Орлогын жагсаалт")])],1)],1)]),a("div",{staticClass:"card-base p-10 flex justify-space-between",attrs:{align:"center"}},[a("div",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"-","start-placeholder":"Эхлэх огноо","end-placeholder":"Дуусах огноо"},on:{change:t.datePickerChanged},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}})],1),a("el-button",{staticClass:"mr-10",attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:t.addReport}})],1)]),a("div",{staticClass:"page-ecommerce-dashboard"},[a("div",{staticClass:"table-box card-base card-outline"},[a("table",{staticClass:"styled striped hover"},[t._m(0),a("tbody",t._l(t.orders,(function(e){return a("tr",{key:e.id,style:{cursor:"pointer"},on:{click:function(a){return t.goOrder(e.revenueNumber)}}},[a("td",[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.revenueNumber))])]),a("td",[a("div",{staticClass:"item-box item-customer"},[a("h4",{staticClass:"m-0 o-080"},[t._v(t._s(e.created_at.split("T")[0]))])])]),a("td",[a("div",{staticClass:"item-box item-location"},[a("p",{staticClass:"m-0 o-060"},[t._v("₮"+t._s(Number(e.totalAmount).toLocaleString()))])])])])})),0)])])]),a("el-dialog",{attrs:{title:"Бараа орлогод авах",visible:t.modals.newReport,"before-close":t.handleClose},on:{"update:visible":function(e){return t.$set(t.modals,"newReport",e)}}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Орлого авах өдрөө сонгоно уу"},model:{value:t.newReportDate,callback:function(e){t.newReportDate=e},expression:"newReportDate"}}),a("div",{staticClass:"table-box card-base card-outline"},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",{staticStyle:{width:"40%"}},[t._v("Бүтээгдэхүүн")]),a("th",[t._v("Үнэ")]),a("th",[t._v("Тоо ширхэг")]),a("th",[t._v("Нийт")]),a("th")])]),a("tbody",[t._l(t.addProducts,(function(e,i){return a("tr",{key:i},[a("td",{staticStyle:{width:"40%"}},[a("div",{staticClass:"item-box item-product flex"},[a("div",{staticClass:"product-image"},[1==e.type?a("el-avatar",{attrs:{size:40,src:t.$imgUrl+e.image}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]):a("el-avatar",{attrs:{size:40,src:t.$appUrl+"/images/local/product/"+e.image}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),a("div",{staticClass:"ml-10"},[a("h4",{staticClass:"m-0"},[t._v(t._s(e.model))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.name))])])])]),a("td",[t._v(" ₮"+t._s(Number(e.price).toLocaleString())+" ")]),a("td",[a("el-input-number",{attrs:{min:1,size:"mini"},model:{value:e.qty,callback:function(a){t.$set(e,"qty",a)},expression:"item.qty"}})],1),a("td",[t._v(" ₮"+t._s(Number(e.price*e.qty).toLocaleString())+" ")]),a("td",[a("el-button",{attrs:{type:"danger",circle:"",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return t.removeRow(i,e.id)}}})],1)])})),a("tr",[a("td",[a("strong",[t._v("Нийт")])]),a("td"),a("td",[t._v(t._s(Number(t.totalCount).toLocaleString()))]),a("td",[t._v("₮"+t._s(Number(t.totalCash).toLocaleString()))]),a("td")])],2)])]),a("div",{staticClass:"mt-10"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",plain:"",size:"mini"},on:{click:t.addRow}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.handleClose}},[t._v("Болих")]),a("el-button",{attrs:{type:"primary"},on:{click:t.SendToReport}},[t._v("Хадгалах")])],1)],1),a("el-dialog",{attrs:{title:"Бүтээгдэхүүн хайх",visible:t.modals.search},on:{"update:visible":function(e){return t.$set(t.modals,"search",e)}}},[a("el-input",{attrs:{placeholder:"Модель","prefix-icon":"el-icon-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("div",{staticClass:"table-box card-base card-outline scrollable"},[a("table",{staticClass:"styled striped hover"},[a("thead",[a("tr",[a("th",[t._v("Модель")]),a("th",[t._v("Нэр")]),a("th",[t._v("Үнэ")]),a("th",[t._v("Үлдэгдэл")]),a("th")])]),a("tbody",t._l(t.filterProduct,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(e.model))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(Number(e.sale_price).toLocaleString()))]),a("td",[t._v(t._s(Number(e.qty).toLocaleString()))]),a("td",[a("el-button",{attrs:{circle:"",size:"mini",icon:"el-icon-sold-out"},on:{click:function(a){return t.addRowToProduct(e)}}})],1)])})),0)])])],1)],1)},il=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Орлогын дугаар")]),a("th",[t._v("Үүсгэсэн огноо")]),a("th",[t._v("Нийт дүн")])])])}],sl=(new $e.a,{name:"Order",data:function(){return{dataTimeRange:null,search:"",gridData:[],orders:[],loading:!1,store:[],modals:{newReport:!1,search:!1},newRevenueNumber:null,addProducts:[],newReportDate:null,allproducts:[]}},computed:{filterProduct:function(){var t=this,e=[];return this.allproducts.forEach((function(a){a.model.includes(t.search)&&e.push(a)})),e},totalCash:function(){var t=0;return this.addProducts.forEach((function(e){t+=e.qty*e.price})),t},totalCount:function(){var t=0;return this.addProducts.forEach((function(e){t+=e.qty})),t}},methods:{addRowToProduct:function(t){var e=!1;if(this.addProducts.forEach((function(a){a.model==t.model&&t.type==a.type&&(a.qty++,e=!0)})),!e){var a=this;this.loading=!0;var i=localStorage.getItem("token");i&&this.$axios({method:"post",url:a.$appUrl+"/api/order/add-customer-revenue-product",headers:{Authorization:"Bearer ".concat(i)},data:{revenueNumber:a.newRevenueNumber,product:t}}).then((function(e){if(a.loading=!1,"success"==e.data.result){var i={id:t.id,model:t.model,name:t.name,qty:1,price:t.wholesale_price,image:t.image,type:t.type};a.addProducts.push(i)}})).catch((function(t){a.loading=!1,console.log(t)}))}},addRow:function(){this.modals.search=!0},removeRow:function(t,e){var a=this;this.loading=!0;var i=localStorage.getItem("token");i&&this.$axios({method:"post",url:a.$appUrl+"/api/order/remove-customer-revenue-product",headers:{Authorization:"Bearer ".concat(i)},data:{revenueNumber:a.newRevenueNumber,id:e}}).then((function(e){a.loading=!1,"success"==e.data.result&&a.addProducts.splice(t,1)})).catch((function(t){a.loading=!1,console.log(t)}))},handleClose:function(){var t=this;this.$confirm("Өөрчлөлтийг хадгалах уу?","Санамж",{confirmButtonText:"Тийм",cancelButtonText:"Үгүй, Баярлалаа",type:"info"}).then((function(e){var a=t;t.loading=!0;var i=localStorage.getItem("token");i&&t.$axios({method:"post",url:a.$appUrl+"/api/order/update-customer-revenue-product",headers:{Authorization:"Bearer ".concat(i)},data:{revenueNumber:a.newRevenueNumber,product:t.addProducts}}).then((function(t){a.loading=!1,a.modals.newReport=!1})).catch((function(t){a.loading=!1,console.log(t)}))})).catch((function(e){t.modals.newReport=!1}))},SendToReport:function(){if(null==this.newReportDate||0==this.addProducts.length)this.$notify({title:"Амжилтгүй",message:"Огноо эсвэл бүтээгдэхүүн сонгогдоогүй байна",type:"error"});else{var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/add-new-customer-revenue",headers:{Authorization:"Bearer ".concat(e)},data:{datetime:this.newReportDate,product:this.addProducts,revenueNumber:this.newRevenueNumber}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.$notify({title:"Амжилттай",dangerouslyUseHTMLString:!0,message:"Тайлан бүртгэгдлээ",type:"success"}),t.addProducts=[],t.newRevenueNumber=null,t.modals.newReport=!1,t.getOrders())})).catch((function(e){t.loading=!1,console.log(e)}))}},showDetailForm:function(){""!==this.newReport.store&&(this.modals.newReport=!1,this.modals.newReportDetail=!0)},getAddProducts:function(){var t=this;this.loading=!0;var e=localStorage.getItem("token");e&&this.$axios({method:"post",url:t.$appUrl+"/api/order/get-customer-new-revenue",headers:{Authorization:"Bearer ".concat(e)},data:{revenueNumber:t.newRevenueNumber}}).then((function(e){t.loading=!1,"success"==e.data.result&&(t.newRevenueNumber=e.data.revenueNumber,t.addProducts=e.data.product)})).catch((function(e){t.loading=!1,console.log(e)}))},addReport:function(){null==this.newRevenueNumber?(this.getAddProducts(),this.modals.newReport=!0):this.modals.newReport=!0},goOrder:function(t){alert(t)},datePickerChanged:function(t){this.getOrders(t)},getOrders:function(t){var e=this;this.loading=!0;var a=localStorage.getItem("token");a&&this.$axios({method:"post",url:e.$appUrl+"/api/order/get-customer-revenue",headers:{Authorization:"Bearer ".concat(a)},data:{datetime:t}}).then((function(t){e.loading=!1,"success"==t.data.result&&(e.orders=t.data.revenue,e.allproducts=[],t.data.customerproduct2.forEach((function(t){e.allproducts.push(t)})),t.data.customerproduct1.forEach((function(t){e.allproducts.push(t)})),t.data.newRevenue.length>0&&(e.newRevenueNumber=t.data.newRevenue[0].revenueNumber),null!=e.newRevenueNumber&&e.getAddProducts())})).catch((function(t){e.loading=!1,console.log(t)}))}},mounted:function(){this.getOrders(this.dataTimeRange)},components:{Grid:Ta["Grid"]}}),ol=sl,rl=(a("8830"),Object(x["a"])(ol,al,il,!1,null,null,null)),nl=rl.exports,ll=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scrollable",staticStyle:{margin:"0"}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{staticClass:"mt-10",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal"}},[i("el-menu-item",{attrs:{index:"1"}},[i("img",{staticStyle:{height:"70%",width:"auto"},attrs:{src:a("2117"),alt:"logo"}})]),i("el-menu-item",{staticClass:"navitem",attrs:{index:"2",hidden:t.showItem}},[i("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#contact"}},[t._v("ХОЛБОО БАРИХ")])]),i("el-menu-item",{staticClass:"navitem",attrs:{index:"3",hidden:t.showItem}},[i("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#shops"}},[t._v("САЛБАР")])]),i("el-menu-item",{staticClass:"navitem",attrs:{index:"4",hidden:t.showItem}},[i("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#home"}},[t._v("НҮҮР")])]),i("el-menu-item",{staticClass:"navitem",attrs:{index:"5",hidden:!t.showItem}},[i("el-dropdown",{attrs:{trigger:"click"}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"el-icon-s-unfold"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",[i("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#home"}},[t._v("НҮҮР")])]),i("el-dropdown-item",[i("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#shops"}},[t._v("САЛБАР")])]),i("el-dropdown-item",[i("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#contact"}},[t._v("ХОЛБОО БАРИХ")])])],1)],1)],1)],1)],1)],1),i("el-row",{staticClass:"mt-10",attrs:{gutter:10}},[i("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("section",{attrs:{id:"home"}},[i("el-carousel",{staticClass:"bannerHeight backgroundColor",attrs:{arrow:"never"}},t._l(t.banners,(function(e,a){return i("el-carousel-item",{key:a,staticClass:"bannerHeight"},[i("el-row",[i("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[i("div",{staticClass:"titleBody"},[i("span",{staticClass:"banner-title-model"},[t._v(t._s(e.model))]),i("br"),i("span",{staticClass:"banner-title"},[t._v(t._s(e.name))]),i("br"),i("div",{staticClass:"banner-text"},[t._v(t._s(e.text))]),i("br"),i("el-button",{staticClass:"buyButton",attrs:{type:"primary"}},[i("a",{staticStyle:{color:"#fff","text-decoration":"none"},attrs:{href:"https://www.itlab.mn",target:"_blank"}},[t._v("BUY NOW")])])],1)]),i("el-col",{attrs:{xs:12,sm:12,md:12,lg:12,xl:12}},[i("img",{staticClass:"bannerImage",attrs:{src:t.$appUrl+e.url,alt:"logo"}})])],1)],1)})),1)],1)]),i("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("section",{staticClass:"mt-50",attrs:{id:"shops"}},[i("div",{attrs:{align:"center"}},[i("h3",[t._v("САЛБАРЫН БАЙРШИЛ")]),i("p",{staticStyle:{"margin-top":"-10px"}},[t._v("Та салбар дэлгүүр дээр дарж дэлгэрэнгүй мэдэллийг авна уу")])]),i("div",{staticClass:"list box grow mt-10"},[i("masonry",{attrs:{cols:{default:5,1200:3,1e3:2,480:1},gutter:20}},t._l(t.shops,(function(e,a){return i("div",{key:a,staticClass:"item card-base card-alt mt-10 cardbox",on:{click:function(a){return t.showDetail(e)}}},[i("img",{staticStyle:{height:"250px"},attrs:{src:t.$appUrl+"/images/local/shops/"+e.image,alt:"card image"}}),i("div",{staticClass:"p-20"},[i("h4",{staticClass:"mt-0 mb-0"},[t._v(t._s(e.name))]),i("p",{staticClass:"mt-10 text-justify",staticStyle:{"text-overflow":"ellipsis",overflow:"hidden",width:"100%","white-space":"nowrap"}},[t._v(t._s(e.title))]),i("div",{staticClass:"flex justify-space-between o-050 fs-14"},[i("div",{staticClass:"accent-text"},[i("strong",[t._v("Утас: "+t._s(e.phone))])])])])])})),0)],1)])])],1),i("div",{staticClass:"aboutBody"},[i("el-row",{attrs:{gutter:50}},[i("el-col",{staticClass:"mt-50",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("div",{attrs:{align:"center"}},[i("h3",[t._v("БИДНИЙ ТУХАЙ")])])]),i("el-col",{attrs:{xs:24,sm:24,md:24,lg:14,xl:14}},[i("vue-plyr",[i("video",{attrs:{crossorigin:"",id:"VideoPlayer",loop:"",playsinline:"","data-poster":t.$appUrl+"/images/local/shops/shangrila.jpg"}},[i("source",{attrs:{size:"720",src:"https://api.icbc.mn/images/local/banner/introduction.mp4",type:"video/mp4"}})])])],1),i("el-col",{attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[i("p",{staticClass:"hideText",staticStyle:{"text-align":"justify"}},[t._v(" Дэлхий нийтэд мэдээлэл технологийн эрин үе эхэлжээ. Хүмүүс мэдээллийн технологийг ашиглан амьдралын чанараа сайжруулж, эрүүл мэнд, байгаль орчноо хамгаалж бизнесээ өргөжүүлсээр байна. Үнэхээр зөв технологийг зөв цагтаа нэвтрүүлэх нь үнэлж баршгүй их өр өгөөжтэй байдаг билээ. Хөгжиж буй орны хувьд Монгол улс ч гэсэн энэ салбарын өсөлт хөгжилтэй мөр зэрэгцэн алхах шаардлагатай тулгарч байна. Энэ чухал цаг үед олон шинэ компаниуд технологийн салбарт мэндлэн бий болж шинэ дэвшилтэт бүтээгдэхүүн үйлчилгээ хүргэхээр ажиллаж байгааг харах таатай байна.")]),i("p",{staticStyle:{"text-align":"justify"}},[t._v(" ТҮМЭН ТЕХНО ХХК нь 2011 онд мэдээлэл технологийн бараа бүтээгдэхүүний ханган нийлүүлэлтийн чиглэлээр байгуулагдан, байгуулагдсан цагаасаа өнөөг хүртэл мэдээлэл технологийн бараа бүтээгдэхүүний худалдаан дээр төвлөрөн ажиллаж байгаа бөгөөд одоогоор бид 20 брэндийн 2000 гаран нэр төрлийн барааг орон нутаг болон Улаанбаатар хотын борлуулагчид, өөрсдийн ITLAB болон Remax нэрийн дэлгүүрийн сүлжээгээр дамжуулан борлуулж байна. Бид шинэ цаг үед бий болж байгаа шинэ хэрэгцээ шаардлагыг ухаалгаар шийдсэн бүтээгдэхүүн үйлчилгээг хэрэглэгчиддээ танилцуулцуулахыг гол зорилгоо болгон ажилладаг бөгөөд бидний олон олон шийдлүүд төр болон хувийн хэвшлийн байгууллагууд , жирийн хэрэглэгч ард иргэдийн талархлыг хүлээж байгаад бид баяртай байдаг.")])])],1)],1),i("el-row",{staticClass:"mb-50",attrs:{gutter:10}},[i("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("section",{staticClass:"mt-50",attrs:{id:"contact"}},[i("div",{attrs:{align:"center"}},[i("h3",[t._v("ХОЛБОО БАРИХ")]),i("p",{staticStyle:{"margin-top":"-10px"}},[t._v("Та дараах холбоосуудаар бидэнтэй холбогдох боломжтой")])])])]),i("el-col",{attrs:{xs:24,sm:24,md:16,lg:16,xl:16}},[i("div",{staticClass:"card-base card-shadow--medium map-box",staticStyle:{height:"400px"}},[i("l-map",{attrs:{zoom:t.maps.zoom,center:t.def.center,options:{dragging:t.maps.dragging}}},[i("l-tile-layer",{attrs:{url:t.maps.url,attribution:t.maps.attribution}}),i("l-marker",{attrs:{"lat-lng":t.def.marker}})],1)],1)]),i("el-col",{attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[i("div",{staticClass:"ml-20",staticStyle:{"border-bottom":"1px solid #bfbebb"},attrs:{align:"left"}},[i("div",{staticStyle:{"border-bottom":"1px solid black",width:"30%"}},[i("strong",[t._v("ХАЯГ")])])]),i("div",{staticClass:"mb-6 ml-20 mt-10"},[t._v(" Монгол улс, Улаанбаатар хот, ЧД 4-р хороо, "),i("br"),t._v(" Жуулчны гудамж 4/4, Макс Цамхаг, "),i("br"),t._v(" 3 давхар 306 тоот ")]),i("div",{staticClass:"ml-20 mt-20",staticStyle:{"font-size":"20px"}},[i("i",{staticClass:"el-icon-phone-outline"}),t._v(" "),i("strong",{staticClass:"ml-10"},[t._v("+976 7511-7733")]),t._v(", "),i("i",{staticClass:"el-icon-message ml-20"}),t._v(" "),i("strong",{staticClass:"ml-10"},[t._v("Sales@icbc.mn")])])])],1),i("el-dialog",{attrs:{title:"Салбар дэлгүүрийн дэлгэрэнгүй",visible:t.modals.detail},on:{"update:visible":function(e){return t.$set(t.modals,"detail",e)}}},[i("div",{staticClass:"card-base card-shadow--medium map-box"},[i("l-map",{attrs:{zoom:t.maps.zoom,center:t.maps.center,options:{dragging:t.maps.dragging}}},[i("l-tile-layer",{attrs:{url:t.maps.url,attribution:t.maps.attribution}}),i("l-marker",{attrs:{"lat-lng":t.maps.marker}})],1)],1)]),i("Footer",{staticStyle:{"z-index":"5000"},attrs:{position:t.footer}})],1)},cl=[],dl=a("666c"),ul=(a("373e"),{components:{VuePlyr:dl["a"],Footer:he},data:function(){return{footer:"above",contact:{email:"",name:"",text:""},modals:{detail:!1},def:{center:L.latLng(47.920562315124684,106.91004203979018),marker:L.latLng(47.920562315124684,106.91004203979018)},maps:{zoom:20,center:L.latLng(47.41322,-1.219482),url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',marker:L.latLng(47.41322,-1.219482),innerWidth:0,dragging:!0},showItem:!1,bannderHeight:50,banners:[{url:"/images/local/banner/rb-660hb.png",model:"RB-660HB",name:"BLUETOOTH HEADPHONE",text:"Бүх төрлийн гар утас, Tablet, iPad зэрэгт таарах хамгийн сүүлийн үеийн bluetooth v5.0 технологи дээр суурилсан 40mm диаметр бүхий маш хүчирхэг чихэвч"},{url:"/images/local/banner/headphone.png",model:"RB-600HB",name:"BLUETOOTH HEADPHONE",text:"Бүх төрлийн гар утас, Tablet, iPad зэрэгт таарах хамгийн сүүлийн үеийн bluetooth v5.0 технологи дээр суурилсан 40mm диаметр бүхий маш хүчирхэг чихэвч"}],list:[],shops:[]}},methods:{resizePopoverWidth:function(){window.innerWidth<=768?(this.showItem=!0,this.bannderHeight=30):(this.showItem=!1,this.bannderHeight=50)},showDetail:function(t){this.maps.center=L.latLng(t.lat,t.lng),this.maps.marker=L.latLng(t.lat,t.lng),this.modals.detail=!0},getInfo:function(){var t=this;this.$axios({method:"post",url:t.$appUrl+"/api/user/get-home-info"}).then((function(e){e.data.store.forEach((function(e){t.shops.forEach((function(t){e.code==t.code&&(t.lat=e.lat,t.lng=e.lng)}))})),t.shops.forEach((function(t){e.data.time.forEach((function(e){e.address==t.code&&"shop_02"!=t.code&&(t.phone=e.phone)}))}))})).catch((function(t){console.log(t)}))}},mounted:function(){var t=document.getElementById("VideoPlayer");t.play(),this.resizePopoverWidth(),window.addEventListener("resize",this.resizePopoverWidth),this.getInfo()},beforeDestroy:function(){window.removeEventListener("resize",this.resizePopoverWidth)}}),pl=ul,ml=(a("b4b9"),Object(x["a"])(pl,ll,cl,!1,null,"abfaa39e",null)),hl=(ml.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-timeline scrollable only-y"},[a("div",{staticClass:"page-header"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[a("i",{staticClass:"mdi mdi-home-outline"})]),a("el-breadcrumb-item",[t._v("Дотоод журам, стандарт")])],1)],1),a("div",{staticClass:"timeline-box card-base card-shadow--medium"},[a("h5",{staticStyle:{"margin-top":"-10px"}},[t._v("Байгууллагын дотоод журам, стандарт")]),a("el-collapse",{attrs:{accordion:""},model:{value:t.activeTag,callback:function(e){t.activeTag=e},expression:"activeTag"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("span",{staticStyle:{"font-weight":"700",color:"#2d6dd3"}},[t._v("НЭГ. БАРАА БУЦААХ ЖУРАМ")])]),a("div",[t._v("Consistent with real life: in line with the process and logic of real life, and comply with languages and habits that the users are used to;")]),a("div",[t._v("Consistent within interface: all elements should be consistent, such as: design style, icons and texts, position of elements, etc.")])],2),a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("span",{staticStyle:{"font-weight":"700",color:"#2d6dd3"}},[t._v("ХОЁР. ҮЙЛЧИЛГЭЭНИЙ СТАНДАРТ")])]),a("div",[t._v("Operation feedback: enable the users to clearly perceive their operations by style updates and interactive effects;")]),a("div",[t._v("Visual feedback: reflect current state by updating or rearranging elements of the page.")])],2),a("el-collapse-item",{attrs:{name:"3"}},[a("template",{slot:"title"},[a("span",{staticStyle:{"font-weight":"700",color:"#2d6dd3"}},[t._v("ГУРАВ. ҮНЭЛГЭЭНИЙ СИСТЕМ - ТАСАГ ОРХИЛТ")])]),a("div",[t._v("Simplify the process: keep operating process simple and intuitive;")]),a("div",[t._v("Definite and clear: enunciate your intentions clearly so that the users can quickly understand and make decisions;")]),a("div",[t._v("Easy to identify: the interface should be straightforward, which helps the users to identify and frees them from memorizing and recalling.")])],2),a("el-collapse-item",{attrs:{name:"4"}},[a("template",{slot:"title"},[a("span",{staticStyle:{"font-weight":"700",color:"#2d6dd3"}},[t._v("ДӨРӨВ. ҮЙЛЧИЛГЭЭНИЙ 6 АЛТАН ДҮРЭМ")])]),a("div",[t._v("Decision making: giving advices about operations is acceptable, but do not make decisions for the users;")]),a("div",[t._v("Controlled consequences: users should be granted the freedom to operate, including canceling, aborting or terminating current operation.")])],2),a("el-collapse-item",{attrs:{name:"5"}},[a("template",{slot:"title"},[a("span",{staticStyle:{"font-weight":"700",color:"#2d6dd3"}},[t._v("ТАВ. ҮЙЛЧИЛГЭЭНИЙ СТАНДАРТАНД МӨРДӨХ 10 ЗҮЙЛ")])]),a("div",[t._v("Decision making: giving advices about operations is acceptable, but do not make decisions for the users;")]),a("div",[t._v("Controlled consequences: users should be granted the freedom to operate, including canceling, aborting or terminating current operation.")])],2)],1)],1)])}),gl=[],vl=a("5b61"),fl={data:function(){return{activeTag:"1"}},name:"TimelinePage",mounted:function(){},components:{Timeline:vl["Timeline"],TimelineItem:vl["TimelineItem"],TimelineTitle:vl["TimelineTitle"]}},bl=fl,_l=(a("001b"),Object(x["a"])(bl,hl,gl,!1,null,"73b2a531",null)),yl=_l.exports,xl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-invoice scrollable"},[a("div",{staticClass:"toolbar"},[a("el-button",{staticClass:"animated fadeInRight",attrs:{type:"primary",plain:"",size:"small"}},[a("i",{staticClass:"mdi mdi-cart"}),t._v(" Check out")]),a("el-button",{staticClass:"animated fadeInRight",attrs:{plain:"",size:"small"},on:{click:t.print}},[a("i",{staticClass:"mdi mdi-printer"}),t._v(" Print")])],1),t._m(0)])},wl=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"invoice bg-white black-text",staticStyle:{width:"8.3in",height:"11.7in","box-shadow":"0 4px 8px 4px rgba(0,0,0,0.2)","border-radius":"5px",display:"flex","flex-wrap":"wrap","justify-content":"center"}},[a("div",{staticStyle:{width:"2.363in",height:"1.360in",background:"yellow"}},[t._v(" hello ")]),a("div",{staticStyle:{width:"2.363in",height:"1.360in",background:"blue"}}),a("div",{staticStyle:{width:"2.363in",height:"1.360in",background:"green"}})])}],Cl={name:"Invoice",methods:{print:function(){window.print()}}},kl=Cl,Sl=(a("996e"),Object(x["a"])(kl,xl,wl,!1,null,"7bb99ee8",null)),$l=Sl.exports;s["default"].use(ye["a"]);var Il=new ye["a"]({mode:"history",routes:[{path:"",name:"ecommerce-admin-dashboard",component:De,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Үндсэн самбар",permission:[1,2,3,4,5]}},{path:"/contacts",name:"contacts",component:Po,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Хэрэглэгчид",permission:[1,2,3,4]}},{path:"/client-invoice",name:"client-invoice",component:Mr,meta:{auth:!1,layout:er.contenOnly,searchable:!1,title:"Нэхэмжлэх"}},{path:"/profile",name:"profile",component:Vn,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Хувийн мэдээлэл",permission:[1,2,3,4,5,6]}},{path:"/rma",name:"rma",component:Pn,meta:{auth:!1,layout:er.navLeft,searchable:!0,title:"RMA"}},{path:"/rma-product/:id/:type",name:"rma-product",component:qn,meta:{auth:!1,layout:er.navLeft,searchable:!0,title:"RMA барааны дэлгэрэнгүй"}},{path:"/client-expend",name:"client-expend",component:Ln,meta:{auth:!1,layout:er.contenOnly,searchable:!1,title:"Зарлагын баримт"}},{path:"/client-offer",name:"client-offer",component:Zr,meta:{auth:!1,layout:er.contenOnly,searchable:!1,title:"Үнийн санал"}},{path:"/brand-category",name:"brand-and-category",component:Dr,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Брэнд & Категори",permission:[1,2,4]}},{path:"/companies",name:"companies",component:zr,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Харилцагч байгууллага",permission:[1,2,4]}},{path:"/time-register",name:"time-register",component:wr,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Цаг бүртгэл",permission:[1,2]}},{path:"/shops",name:"shops",component:qo,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Салбарын жагсаалт",permission:[1,2,4]}},{path:"/review",name:"review",component:Jo,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Үнэлгээ",permission:[1,2,4]}},{path:"/new-contact",name:"new-contact",component:tr,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Шинэ хэрэглэгч бүртгэх",permission:[1,2,4]}},{path:"/calendar",name:"calendar",component:vr,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Ажлын төлөвлөгөө",permission:[1,2,4]}},{path:"/reports",name:"reports",component:os,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Кассын тайлан",permission:[1,2,3,4,5]}},{path:"/customer-reports",name:"customer-reports",component:us,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Кассын тайлан",permission:[6]}},{path:"/customer-revenues",name:"customer-revenues",component:nl,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Орлогын жагсаалт",permission:[6]}},{path:"/show-customer-reports/:id",name:"show-customer-reports",component:fs,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Тайлангын дэлгэрэнгүй",permission:[6]}},{path:"/icons",name:"icons",component:Lo,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"icons",permission:[1,2,3,4,5,6]}},{path:"/new-product",name:"new-product",component:po,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Шинэ бүтээгдэхүүн",permission:[1,2,4]}},{path:"/customer-new-product",name:"customer-new-product",component:bo,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Шинэ бүтээгдэхүүн",permission:[6]}},{path:"/ecommerce-dashboard",name:"ecommerce-admin-dashboard",component:De,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Үндсэн самбар",permission:[1,2,3,4,5]}},{path:"/customer-dashboard",name:"customer-dashboard",component:qe,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Үндсэн самбар",permission:[6]}},{path:"/edit-official/:id",name:"edit-official",component:Mi,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Албан бичиг үүсгэх",permission:[1,2,4]}},{path:"/report/:id",name:"report",component:Zs,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Кассын тайлангийн дэлгэрэнгүй",permission:[1,2,3,4]}},{path:"/officials/",name:"officials",component:Os,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Албан бичгийн жагсаалт",permission:[1,2,4]}},{path:"/official/:id",name:"official",component:oo,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Албан бичиг",permission:[1,2,4]}},{path:"/edit-offer/:id",name:"edit-offer",component:Oi,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Үнийн санал үүсгэх",permission:[1,2,3,4]}},{path:"/edit-expend-done/:id",name:"edit-expend-done",component:kn,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Зарлагын баримт засварлах",permission:[1,2,3,4]}},{path:"/edit-expend/:id",name:"edit-expend",component:bn,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Зарлагын баримт үүсгэх",permission:[1,2,3,4]}},{path:"/expends/",name:"expends",component:Kr,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Зарлагын баримтууд",permission:[1,2,3,4]}},{path:"/customer-expends/",name:"customer-expends",component:el,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Зарлага",permission:[6]}},{path:"/sent-expends/",name:"sent-expends",component:rn,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Илгээсэн зарлагын баримтууд",permission:[1,2,3,4]}},{path:"/expend/:id",name:"expend",component:pn,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Зарлагын баримт",permission:[1,2,3,4]}},{path:"/offers/",name:"offers",component:Cs,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Үнийн саналын жагсаалт",permission:[1,2,3,4]}},{path:"/sent-offers/",name:"sent-offers",component:Ts,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Илгээсэн үнийн саналын жагсаалт",permission:[1,2,3,4]}},{path:"/offer/:id",name:"offer",component:Ks,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Үнийн санал",permission:[1,2,3,4]}},{path:"/edit-invoice/:id",name:"edit-invoice",component:Ci,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Нэхэмжлэх үүсгэх",permission:[1,2,3,4]}},{path:"/change-to-invoice/:id",name:"change-to-invoice",component:Ti,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Нэхэмжлэх засварлах",permission:[1,2,3,4]}},{path:"/invoices/",name:"invoices",component:Zi,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Нэхэмжлэхийн жагсаалт",permission:[1,2,3,4]}},{path:"/sent-invoices/",name:"sent-invoices",component:Ki,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Илгээсэн нэхэмжлэхийн жагсаалт",permission:[1,2,3,4]}},{path:"/invoice/:id",name:"invoice",component:Ms,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Нэхэмжлэх",permission:[1,2,3,4]}},{path:"/ecommerce-show-order/:id",name:"ecommerce-show-order",component:oi,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Захиалгын дэлгэрэнгүй",permission:[1,2,3,4,5,6]}},{path:"/ecommerce-show-movement/:id",name:"ecommerce-show-movement",component:ui,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Захиалгын дэлгэрэнгүй",permission:[1,2,3,4,5,6]}},{path:"/import/:id",name:"import",component:fi,meta:{auth:!0,layout:er.navLeft,searchable:!1,title:"Захиалгын дэлгэрэнгүй",permission:[1,2,3,4,5,6]}},{path:"/products",name:"ecommerce-products",component:aa,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Бүтээгдэхүүний жагсаалт",tags:["ecommerce","shop","products"],permission:[1,2,3,4,5,6]}},{path:"/product-detail/:id",name:"ecommerce-product-detail",component:da,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Бүтээгдэхүүний дэлгэрэнгүй",tags:["ecommerce","shop","products"],permission:[1,2,3,4,5,6]}},{path:"/product-detail-customer/:id",name:"ecommerce-product-detail-customer",component:va,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Бүтээгдэхүүний дэлгэрэнгүй",tags:["ecommerce","shop","products"],permission:[6]}},{path:"/cart",name:"ecommerce-cart",component:Sa,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Миний сагс",tags:["ecommerce","shop","products"],permission:[1,2,3,4,5,6]}},{path:"/orders",name:"ecommerce-orders",component:Ea,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Агуулахын захиалгын жагсаалт",tags:["ecommerce","shop","products"],permission:[1,2,3,4,5,6]}},{path:"/imports",name:"imports",component:Ra,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Ирж байгаа захиалгын жагсаалт",tags:["ecommerce","shop","products"],permission:[1,2,3,4,5,6]}},{path:"/policy",name:"policy",component:yl,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Байгууллагын дотоод журам, стандарт",tags:["ecommerce","shop","products"],permission:[1,2,3,4,5]}},{path:"/price-tag",name:"price-tag",component:$l,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Үнийн цаас",tags:["ecommerce","shop","pricetag"],permission:[1,2,3,4,5]}},{path:"/import-edit",name:"import-edit",component:Wa,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Гадаад захиалга үүсгэх",tags:["ecommerce","shop","products"],permission:[1,2,4]}},{path:"/movements",name:"ecommerce-movements",component:Xa,meta:{auth:!0,layout:er.navLeft,searchable:!0,title:"Дотоод хөдөлгөөний жагсаалт",tags:["ecommerce","shop","movement"],permission:[1,2,3,4,5,6]}},{path:"/login",name:"login",component:Je,meta:{layout:er.contenOnly,title:"Нэвтрэх",permission:[1,2,3,4,5,6]}},{path:"*",name:"not-found",component:ko,meta:{layout:er.contenOnly,searchable:!0,title:"Алдаа",permission:[1,2,3,4,5,6]}}]}),zl={contenOnly:function(){or.commit("setLayout",er.contenOnly)},navLeft:function(){or.commit("setLayout",er.navLeft)},navRight:function(){or.commit("setLayout",er.navRight)},navTop:function(){or.commit("setLayout",er.navTop)},navBottom:function(){or.commit("setLayout",er.navBottom)},set:function(t){or.commit("setLayout",t)}},Tl={loggedIn:function(){var t=localStorage.getItem("token");return!!t},logout:function(){or.commit("setLogout")}};Il.beforeEach((function(t,e,a){document.title=t.meta.title;var i=!1;if(t&&t.meta&&t.meta.auth&&(i=!0),i)if(Tl.loggedIn()){var s=JSON.parse(localStorage.user).posID;if(t.meta.permission.includes(s)){if("login"===t.name)return window.location.href="/products",!1;a()}else window.location.href="/not-found"}else{if("login"!==t.name)return window.location.href="/login",!1;a()}else{if(Tl.loggedIn()&&"login"===t.name)return window.location.href="/products",!1;a()}t&&t.meta&&t.meta.layout&&zl.set(t.meta.layout)})),Il.afterEach((function(t,e){setTimeout((function(){or.commit("setSplashScreen",!1)}),500)}));var Ll=Il,Ul=a("bc3a"),Bl=a.n(Ul),El=a("cb119"),Dl=a("f2d9"),Ol=a("7898"),Pl=a.n(Ol),jl=a("b9fc"),Nl={name:"_blank",specs:["fullscreen=yes","titlebar=yes","scrollbars=yes"],styles:["https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css","https://unpkg.com/kidlat-css/css/kidlat.css"],timeout:1e3,autoClose:!0,windowTitle:window.document.title};s["default"].use(Pl.a,Nl),s["default"].config.productionTip=!1,s["default"].use(mt["a"]),s["default"].use(pt["a"]),s["default"].component("StatusIndicator",K["a"]),s["default"].use(ut["a"],{adapter:nt.a}),s["default"].use(et["a"]),s["default"].use(tt["a"]),s["default"].component("Peity",dt.a),s["default"].component("BulmaChart",lt["a"]),s["default"].component("D3Network",ot.a),s["default"].component("VueChartist",it.a),s["default"].use(Q.a),s["default"].use(J.a),s["default"].use(Y.a),s["default"].use(q,{load:{key:"AIzaSyA8sFDujn-xj-pZk0ueSVCtvN5AoPu7HRU",libraries:"places"}}),s["default"].component("GmapCluster",H.a),s["default"].use(M.a),s["default"].use(N["a"]),s["default"].use(B.a),s["default"].use(S["a"]),s["default"].use(O.a),s["default"].use(I.a),s["default"].use(E["a"],{preLoad:1.3,error:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB2aWV3Qm94PSIwIDAgNjAwIDYwMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjE7Ij48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNjAwIiBoZWlnaHQ9IjYwMCIgc3R5bGU9ImZpbGw6I2UyZTNlNTsiLz48Y2lyY2xlIGN4PSIzMDAiIGN5PSIzMDAiIHI9IjE1NSIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2Utd2lkdGg6NDdweDtzdHJva2U6I2JjYmRiZjsiLz48cmVjdCB4PSIxNjAiIHk9IjIyMyIgd2lkdGg9IjI3NSIgaGVpZ2h0PSIxNjYiIHN0eWxlPSJmaWxsOiNlM2U1ZTQ7Ii8+PHBhdGggZD0iTTQ0MC41LDM5NC41bC0yODYsMGwwLC0xNzdsMjg2LDBsMCwxNzdaTTE2NS41LDIyOC41bDAsMTU1bDI2NCwwbDAsLTE1NWwtMjY0LDBaIiBzdHlsZT0iZmlsbDojZmZmOyIvPjxwYXRoIGQ9Ik00MDQuNDM0LDE3MC44NzdsLTIzMi45NCwyMzIuOTQxbDM1LjM1NSwzNS4zNTVsMjMyLjk0MSwtMjMyLjk0bC0zNS4zNTYsLTM1LjM1NloiIHN0eWxlPSJmaWxsOiNiY2JkYmY7Ii8+PC9zdmc+",loading:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwcHgiICBoZWlnaHQ9IjEwMHB4IiAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiIGNsYXNzPSJsZHMtcmlwcGxlIiBzdHlsZT0iYmFja2dyb3VuZDogbm9uZTsiPjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjI4LjY2ODUiIGZpbGw9Im5vbmUiIG5nLWF0dHItc3Ryb2tlPSJ7e2NvbmZpZy5jMX19IiBuZy1hdHRyLXN0cm9rZS13aWR0aD0ie3tjb25maWcud2lkdGh9fSIgc3Ryb2tlPSIjNGE1OTZhIiBzdHJva2Utd2lkdGg9IjIiPjxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InIiIGNhbGNNb2RlPSJzcGxpbmUiIHZhbHVlcz0iMDszMCIga2V5VGltZXM9IjA7MSIgZHVyPSIyIiBrZXlTcGxpbmVzPSIwIDAuMiAwLjggMSIgYmVnaW49Ii0xcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBjYWxjTW9kZT0ic3BsaW5lIiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIyIiBrZXlTcGxpbmVzPSIwLjIgMCAwLjggMSIgYmVnaW49Ii0xcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT48L2NpcmNsZT48Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNS45ODI4IiBmaWxsPSJub25lIiBuZy1hdHRyLXN0cm9rZT0ie3tjb25maWcuYzJ9fSIgbmctYXR0ci1zdHJva2Utd2lkdGg9Int7Y29uZmlnLndpZHRofX0iIHN0cm9rZT0iIzg5YWRlOCIgc3Ryb2tlLXdpZHRoPSIyIj48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJyIiBjYWxjTW9kZT0ic3BsaW5lIiB2YWx1ZXM9IjA7MzAiIGtleVRpbWVzPSIwOzEiIGR1cj0iMiIga2V5U3BsaW5lcz0iMCAwLjIgMC44IDEiIGJlZ2luPSIwcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBjYWxjTW9kZT0ic3BsaW5lIiB2YWx1ZXM9IjE7MCIga2V5VGltZXM9IjA7MSIgZHVyPSIyIiBrZXlTcGxpbmVzPSIwLjIgMCAwLjggMSIgYmVnaW49IjBzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPjwvY2lyY2xlPjwvc3ZnPg==",attempt:1}),s["default"].use(R["a"]),s["default"].use(G.a),s["default"].component("vue-virtual-list",j.a),delete L.Icon.Default.prototype._getIconUrl,L.Icon.Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")}),s["default"].component("l-map",ht["a"]),s["default"].component("l-marker",gt["a"]),s["default"].component("l-tile-layer",vt["a"]),s["default"].use(bt.a),s["default"].use(r.a,{locale:l.a}),s["default"].use(p.a),s["default"].use(h.a),s["default"].use(d.a),s["default"].component("vue-scroll",k),s["default"].component("downloadExcel",Dl["a"]),s["default"].directive("affix",xt),s["default"].use(r.a.Loading.directive),s["default"].use(yt.a),Bl.a.defaults.headers.common["Access-Control-Allow-Origin"]="*";var Rl="https://api.cms.tumentechno.mn";s["default"].prototype.$appUrl=Rl,s["default"].prototype.$ipV4=jl,s["default"].prototype.$imgUrl="https://api.tumentechno.mn/images/product/",s["default"].prototype.$axios=Bl.a;var Al=new S["a"]({locale:"us",messages:El});new s["default"]({i18n:Al,router:Ll,store:or,render:function(t){return t(_e)}}).$mount("#app")},"57cc":function(t,e,a){"use strict";a("5416")},5835:function(t,e,a){},"586c":function(t,e,a){},"58f6":function(t,e,a){t.exports=a.p+"img/shop.68e21c48.png"},"5b6f":function(t,e,a){},"5c0b":function(t,e,a){"use strict";a("9c0c")},"5c33":function(t,e,a){},"5c42":function(t,e,a){"use strict";a("8323")},"600d":function(t,e,a){"use strict";a("00f3")},"612d":function(t,e,a){},6286:function(t,e,a){},"62d9":function(t,e,a){"use strict";a("3055")},6301:function(t){t.exports=JSON.parse("{}")},"642b":function(t,e,a){"use strict";a("caf8")},6449:function(t,e,a){"use strict";a("9c81")},"658f":function(t,e,a){},"65ba":function(t,e,a){"use strict";a("ba1a")},"65eb":function(t,e,a){},"674f":function(t,e,a){"use strict";a("f626")},"68b5":function(t,e,a){},"6fa1":function(t,e,a){"use strict";a("d2c2")},7061:function(t,e,a){},"721c":function(t,e,a){"use strict";a("17b8")},7609:function(t,e,a){},7837:function(t,e,a){},"7a56":function(t,e,a){"use strict";a("5c33")},"7bb9":function(t,e,a){},"7c06":function(t,e,a){},"7c51":function(t,e,a){t.exports=a.p+"img/sm-logo.f2051089.png"},"7cb0":function(t,e,a){},"7d33":function(t,e,a){t.exports=a.p+"img/astamp.a27c4516.png"},"7e8a":function(t,e,a){},"7eed":function(t,e,a){},"80e1":function(t,e,a){},"81fb":function(t,e,a){},8323:function(t,e,a){},"83db":function(t,e,a){},8830:function(t,e,a){"use strict";a("df4f")},"8abd":function(t,e,a){"use strict";a("16d3")},"8d23":function(t,e,a){"use strict";a("f3f4")},"8d24":function(t,e,a){},"929a":function(t,e,a){},"98e2":function(t,e,a){"use strict";a("3c50")},"996e":function(t,e,a){"use strict";a("19b1")},"9c0c":function(t,e,a){},"9c81":function(t,e,a){},"9dd7":function(t,e,a){"use strict";a("e07f")},ad64:function(t,e,a){"use strict";a("929a")},b0c2:function(t,e,a){"use strict";a("8d24")},b1e5:function(t,e,a){"use strict";a("7609")},b33e:function(t,e,a){t.exports=a.p+"img/newtitle.bf2c5d1d.png"},b371:function(t,e,a){},b3a0:function(t,e,a){"use strict";a("ee65")},b4b9:function(t,e,a){"use strict";a("5b6f")},b4da:function(t,e,a){"use strict";a("7eed")},b751:function(t,e,a){},b890:function(t,e,a){"use strict";a("f177")},b93d:function(t,e,a){},b989:function(t,e,a){"use strict";a("c956")},ba1a:function(t,e,a){},ba76b:function(t,e,a){"use strict";a("612d")},bc29:function(t,e,a){t.exports=a.p+"img/newphoto.79dedca2.png"},bd22:function(t,e,a){},bedf:function(t,e,a){"use strict";a("22c6")},bf3a:function(t,e,a){},c0f5:function(t,e,a){"use strict";a("7837")},c1ca:function(t,e,a){"use strict";a("f051")},c300:function(t,e,a){"use strict";a("7e8a")},c956:function(t,e,a){},caf8:function(t,e,a){},cb119:function(t){t.exports=JSON.parse('{"us":{"message":{"hello":"hello world"},"languages":{"English":"English","Italian":"Italian","French":"French","German":"German","Spanish":"Spanish","Chinese":"Chinese","Japanese":"Japanese"}},"it":{"message":{"hello":"ciao mondo"},"languages":{"English":"Inglese","Italian":"Italiano","French":"Francese","German":"Tedesco","Spanish":"Spagnolo","Chinese":"Cinese","Japanese":"Giapponese"}},"fr":{"message":{"hello":"bonjour le monde"},"languages":{"English":"Anglais","Italian":"Italien","French":"Français","German":"Allemand","Spanish":"Espagnol","Chinese":"Chinois","Japanese":"Japonais"}},"de":{"message":{"hello":"hallo welt"},"languages":{"English":"Englisch","Italian":"Italienisch","French":"Französisch","German":"Deutsch","Spanish":"Spanisch","Chinese":"Chinesisch","Japanese":"Japanisch"}},"es":{"message":{"hello":"hola mundo"},"languages":{"English":"Inglés","Italian":"Italiano","French":"Francés","German":"Alemán","Spanish":"Español","Chinese":"Chino","Japanese":"Japonés"}},"cn":{"message":{"hello":"你好，世界"},"languages":{"English":"英语","Italian":"意大利语","French":"法语","German":"德国的语言","Spanish":"西班牙语","Chinese":"中文","Japanese":"日语"}},"jp":{"message":{"hello":"こんにちは、世界"},"languages":{"English":"英語","Italian":"イタリア語","French":"フランス語","German":"ドイツ語","Spanish":"スペイン語","Chinese":"中国語","Japanese":"日本語"}}}')},cb98:function(t,e,a){"use strict";a("b93d")},cbb6:function(t,e,a){"use strict";a("5439")},d2c2:function(t,e,a){},d43b:function(t,e,a){"use strict";a("1c01")},d5b0:function(t,e,a){"use strict";a("eb98")},d6c1:function(t,e,a){"use strict";a("4f4d")},d6f3:function(t,e,a){"use strict";a("68b5")},df4f:function(t,e,a){},dfbc:function(t,e,a){"use strict";a("4d37")},e07f:function(t,e,a){},e160:function(t,e,a){"use strict";a("586c")},e462:function(t,e,a){},e6a1:function(t,e,a){t.exports=a.p+"img/productqty.c3f6951b.png"},eb98:function(t,e,a){},ebd9:function(t,e,a){"use strict";a("5835")},ec17:function(t,e,a){t.exports=a.p+"img/cart.07ca7c01.png"},eddc:function(t,e,a){t.exports=a.p+"img/sm-logo2.bcfd9b46.png"},ee65:function(t,e,a){},ef81:function(t,e,a){"use strict";a("4432")},f051:function(t,e,a){},f177:function(t,e,a){},f3f4:function(t,e,a){},f530:function(t,e,a){"use strict";a("80e1")},f558:function(t,e,a){},f577:function(t,e,a){"use strict";a("32a0")},f61d:function(t,e,a){"use strict";a("7bb9")},f626:function(t,e,a){},f705:function(t,e,a){},f769:function(t,e,a){},f892:function(t,e,a){"use strict";a("f705")},fa8e:function(t,e,a){"use strict";a("50a5")}});